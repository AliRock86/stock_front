{"remainingRequest":"/Users/haideraltemimy/Documents/GitHub/Hejozat/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/haideraltemimy/Documents/GitHub/Hejozat/src/components/sub_components/mybookingcard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/haideraltemimy/Documents/GitHub/Hejozat/src/components/sub_components/mybookingcard.vue","mtime":1586888875190},{"path":"/Users/haideraltemimy/Documents/GitHub/Hejozat/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/Users/haideraltemimy/Documents/GitHub/Hejozat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/haideraltemimy/Documents/GitHub/Hejozat/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst axios = require('axios');\nconst Swal = require('sweetalert2');\nexport default {\n  props: ['item', 'index', 'token'],\n  data() {\n    return {\n\n      urL: \"http://109.224.53.155\",\n      status_tx_booking_accepted: [],\n      status_tx_booking_refus: [],\n      status_tx_booking_pinding: [],\n      status_tx_booking_all: [],\n\n      status_col_booking_accepted: [],\n      status_col_booking_refus: [],\n      status_col_booking_pinding: [],\n      status_col_booking_all: [],\n      status_tx: [],\n      status_color: [],\n      num_cancel: -1,\n\n    }\n  },\n  methods: {\n    cancel_reservation(item, index) {\n\n\n      var url = this.urL + \"/UserCancelReservation/\" + item.id;\n\n\n\n\n\n\n\n      Swal.fire({\n        title: \"هل انت متاكد من الغاء الحجز ؟\",\n\n        icon: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: 'نعم  ',\n        cancelButtonText: 'الغاء',\n        showClass: {\n          popup: 'animated fadeInDown faster'\n        },\n        hideClass: {\n          popup: 'animated fadeOutUp faster'\n        }\n\n\n      }).then((result) => {\n\n\n        if (result.value == true) {\n          this.num_cancel = index;\n\n          axios({\n            method: 'get',\n            url: url,\n            headers: {\n              token: this.token\n            }\n\n          }).then(response => {\n            this.items[index].active = 0;\n            item.active = 0;\n            this.$swal('', \"    تم الغاء الحجز\", 'success')\n            if (this.taps_chaked == 0) {\n              this.booking_accepted.splice(index, 1);\n\n              this.booking_refus.unshift(item);\n              this.status_tx_booking_refus.unshift(\" الحجز مرفوض من قبلك \");\n              this.status_col_booking_refus.unshift(\"#f79d00\");\n              this.booking_all.unshift(item);\n              this.status_tx_booking_all.unshift(\" الحجز مرفوض من قبلك \");\n              this.status_col_booking_all.unshift(\"#f79d00\");\n\n\n            } else if (this.taps_chaked == 1) {\n              this.booking_pinding.splice(index, 1);\n              this.booking_refus.unshift(item);\n              this.status_tx_booking_refus.unshift(\" الحجز مرفوض من قبلك \");\n              this.status_col_booking_refus.unshift(\"#f79d00\");\n              this.booking_all.unshift(item);\n              this.status_tx_booking_all.unshift(\" الحجز مرفوض من قبلك \");\n              this.status_col_booking_all.unshift(\"#f79d00\");\n\n\n            } else if (this.taps_chaked == 3) {\n              this.booking_all.splice(index, 1);\n              this.booking_refus.unshift(item);\n              this.status_tx_booking_refus.unshift(\" الحجز مرفوض من قبلك \");\n              this.status_col_booking_refus.unshift(\"#f79d00\");\n              this.booking_all.unshift(item);\n              this.status_tx_booking_all.unshift(\" الحجز مرفوض من قبلك \");\n              this.status_col_booking_all.unshift(\"#f79d00\");\n\n\n            }\n\n          }).catch(error => {\n\n            this.msg = \"يجب تسجيل الدخول\"\n            this.alert_msg = true;\n            if (error.response.status == 402) {\n              this.logout();\n              this.$router.reload()\n            }\n\n          }).finally(f => {\n\n\n            this.num_cancel = -1;\n            this.alert_msg = false;\n            this.loading = false;\n\n          });\n        }\n      }); // end of swal confirm msg\n\n    },\n    getDiscription(disc, len) {\n      var text = disc;\n\n      text = text.substring(0, len)\n\n\n      return text;\n    },\n\n\n\n  },\n  mounted() {\n\n\n  },\n\n\n}\n",{"version":3,"sources":["mybookingcard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;;;;;;;AAQA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;AAGA;AACA;;;;AAIA;AACA;;;AAGA;;;AAGA","file":"mybookingcard.vue","sourceRoot":"src/components/sub_components","sourcesContent":["<template>\n  <!-- <v-card class=\"bookingcard\"  v-for=\"(item,index) in items\" style=\"margin-bottom:30px\"> -->\n  <v-layout row wrap>\n    <v-flex xs9>\n      <v-card-text class=\"bookingcard-head \">\n        {{item.name}}\n      </v-card-text>\n      <v-chip :color=\"status_color[index]\" dark=\"\" class=\"mb-4 mobstyle\">{{status_tx[index]}}</v-chip>\n\n      <v-flex xs8 class=\"mb_resposiv_show\">\n\n\n        <v-card-text class=\"bookingcard-text\"> {{getDiscription(item.disc,40)}}</v-card-text>\n      </v-flex>\n      <v-divider></v-divider>\n\n\n\n\n\n      <v-layout row wrap justify-start>\n\n\n        <v-flex xs4 pa-3>\n          <v-card-text class=\"bookingcard-title\">تاريخ الحجز</v-card-text>\n          <v-card-text class=\"bookingcard-text\"> {{item.from_date}} </v-card-text>\n        </v-flex>\n\n\n\n        <v-flex xs4 pa-3>\n          <v-card-text class=\"bookingcard-title\">وقت الحجز</v-card-text>\n          <v-card-text class=\"bookingcard-text\"> {{item.from_time}} </v-card-text>\n        </v-flex>\n        <v-flex xs4 pa-3 class=\"mb_resposiv_hidden\">\n          <v-card-text class=\"bookingcard-title\">\n            تفاصيل\n          </v-card-text>\n\n          <v-card-text class=\"bookingcard-text\"> {{getDiscription(item.disc,80)}}</v-card-text>\n        </v-flex>\n      </v-layout>\n\n    </v-flex>\n    <v-flex xs2 md3 sm3>\n      <v-layout column wrap pa-5 justify-center=\"\">\n\n        <span class=\"bookingcard-price-text\">السعر</span>\n\n        <span class=\"bookingcard-price\">{{item.price}}$</span>\n\n        <v-row v-if=\"num_cancel==index\" justify=\"center\">\n          <v-progress-circular indeterminate color=\"primary\"></v-progress-circular>\n        </v-row>\n\n        <span v-else>\n\n          <v-row class=\"mb-2\" justify=\"center\" v-if=\"(item.confirm==0 || item.confirm==1) && item.active==1\">\n            <v-btn dark=\"\" color=\"red\" style=\"width:55%;\" class=\"font_button\" @click=\"cancel_reservation(item,index )\">\n              <v-icon right=\"\">fas fa-times</v-icon>\n              الغاء حجز\n            </v-btn>\n          </v-row>\n          <v-row justify=\"center\" v-if=\"item.confirm==1 && item.active==1\">\n            <v-btn dark=\"\" color=\"primary\" style=\"width:55%;\" class=\"font_button\">\n\n              <v-icon right=\"\">fas fa-car-side</v-icon>\n              طلب توصيل\n            </v-btn>\n          </v-row>\n          <span v-else></span>\n\n        </span>\n\n\n\n      </v-layout>\n    </v-flex>\n  </v-layout>\n\n\n</template>\n<script>\n  const axios = require('axios');\n  const Swal = require('sweetalert2');\n  export default {\n    props: ['item', 'index', 'token'],\n    data() {\n      return {\n\n        urL: \"http://109.224.53.155\",\n        status_tx_booking_accepted: [],\n        status_tx_booking_refus: [],\n        status_tx_booking_pinding: [],\n        status_tx_booking_all: [],\n\n        status_col_booking_accepted: [],\n        status_col_booking_refus: [],\n        status_col_booking_pinding: [],\n        status_col_booking_all: [],\n        status_tx: [],\n        status_color: [],\n        num_cancel: -1,\n\n      }\n    },\n    methods: {\n      cancel_reservation(item, index) {\n\n\n        var url = this.urL + \"/UserCancelReservation/\" + item.id;\n\n\n\n\n\n\n\n        Swal.fire({\n          title: \"هل انت متاكد من الغاء الحجز ؟\",\n\n          icon: \"warning\",\n          showCancelButton: true,\n          confirmButtonColor: '#3085d6',\n          cancelButtonColor: '#d33',\n          confirmButtonText: 'نعم  ',\n          cancelButtonText: 'الغاء',\n          showClass: {\n            popup: 'animated fadeInDown faster'\n          },\n          hideClass: {\n            popup: 'animated fadeOutUp faster'\n          }\n\n\n        }).then((result) => {\n\n\n          if (result.value == true) {\n            this.num_cancel = index;\n\n            axios({\n              method: 'get',\n              url: url,\n              headers: {\n                token: this.token\n              }\n\n            }).then(response => {\n              this.items[index].active = 0;\n              item.active = 0;\n              this.$swal('', \"    تم الغاء الحجز\", 'success')\n              if (this.taps_chaked == 0) {\n                this.booking_accepted.splice(index, 1);\n\n                this.booking_refus.unshift(item);\n                this.status_tx_booking_refus.unshift(\" الحجز مرفوض من قبلك \");\n                this.status_col_booking_refus.unshift(\"#f79d00\");\n                this.booking_all.unshift(item);\n                this.status_tx_booking_all.unshift(\" الحجز مرفوض من قبلك \");\n                this.status_col_booking_all.unshift(\"#f79d00\");\n\n\n              } else if (this.taps_chaked == 1) {\n                this.booking_pinding.splice(index, 1);\n                this.booking_refus.unshift(item);\n                this.status_tx_booking_refus.unshift(\" الحجز مرفوض من قبلك \");\n                this.status_col_booking_refus.unshift(\"#f79d00\");\n                this.booking_all.unshift(item);\n                this.status_tx_booking_all.unshift(\" الحجز مرفوض من قبلك \");\n                this.status_col_booking_all.unshift(\"#f79d00\");\n\n\n              } else if (this.taps_chaked == 3) {\n                this.booking_all.splice(index, 1);\n                this.booking_refus.unshift(item);\n                this.status_tx_booking_refus.unshift(\" الحجز مرفوض من قبلك \");\n                this.status_col_booking_refus.unshift(\"#f79d00\");\n                this.booking_all.unshift(item);\n                this.status_tx_booking_all.unshift(\" الحجز مرفوض من قبلك \");\n                this.status_col_booking_all.unshift(\"#f79d00\");\n\n\n              }\n\n            }).catch(error => {\n\n              this.msg = \"يجب تسجيل الدخول\"\n              this.alert_msg = true;\n              if (error.response.status == 402) {\n                this.logout();\n                this.$router.reload()\n              }\n\n            }).finally(f => {\n\n\n              this.num_cancel = -1;\n              this.alert_msg = false;\n              this.loading = false;\n\n            });\n          }\n        }); // end of swal confirm msg\n\n      },\n      getDiscription(disc, len) {\n        var text = disc;\n\n        text = text.substring(0, len)\n\n\n        return text;\n      },\n\n\n\n    },\n    mounted() {\n\n\n    },\n\n\n  }\n</script>"]}]}