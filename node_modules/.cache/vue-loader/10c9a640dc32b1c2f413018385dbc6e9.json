{"remainingRequest":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/src/components/admin/components/messages.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/src/components/admin/components/messages.vue","mtime":1587599801333},{"path":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst axios = require('axios');\n  export default {\n    data: () => ({\n\n\n      user_info: {},\n      res_filter: '',\n      token: localStorage.getItem('access_token'),\n\n      urL: 'http://109.224.53.155',\n      dialog: false,\n      messages: [],\n      editedIndex: -1,\n      loding_accept: false,\n      marvelHeroes: [],\n      loding_cancel: false,\n      headers: [{\n          text: 'رقم التعريف',\n          align: 'center',\n          sortable: false,\n          value: 'id',\n        },\n        {\n          text: 'الاسم',\n          align: 'center',\n          sortable: false,\n          value: 'name',\n        },\n        {\n          text: 'الايميل',\n          align: 'center',\n          sortable: false,\n          value: 'email',\n        },\n        {\n          text: 'الرساله',\n          align: 'center',\n          sortable: false,\n          value: 'message',\n        },\n\n        {\n          text: ' ',\n          value: 'action',\n          align: 'center',\n        },\n      ],\n\n \n      editedItem: {\n        name: '',\n        calories: 0,\n        fat: 0,\n        carbs: 0,\n        protein: 0,\n      },\n\n      defaultItem: {\n        name: '',\n        calories: 0,\n        fat: 0,\n        carbs: 0,\n        protein: 0,\n      },\n\n\n      valid: false,\n      page: 1,\n      pageCount: 0,\n      current_page: 1,\n      last_page: 0,\n      loading: false\n\n\n    }),\n\n\n\n    methods: {\n\n      editItem(item) {\n\n\n\n\n        this.editedIndex = this.messages.indexOf(item)\n        this.editedItem = Object.assign({}, item)\n\n        this.dialog = true\n\n\n      },\n\n\n\n\n      getitems() {\n\n        var url = this.urL+\"/contactus?page=\" + this.current_page;\n        // var url = this.urL + \"http://127.0.0.1:5555/GetOwnerItemRating?page=\" + this.current_page;\n        this.loading = true;\n        axios({\n          method: 'get',\n          url: url,\n          headers: {\n            token: this.token\n          }\n\n        }).then(response => {\n          this.messages = response.data.Data.data;\n\n          this.last_page = response.data.Data.last_page;\n          this.pageCount = response.data.Data.last_page;\n\n\n\n\n\n\n\n        }).catch(error => {\n          //  this.$swal('خطاء', \"خطاء بالاتصال\", 'error')\n        }).finally(s => {\n          s;\n          this.loading = false;\n\n        });\n      },\n\n\n\n      deleteItem(item) {\n\n\n\n\n\n\n\n\n\n        const Swal = require('sweetalert2')\n\n\n        Swal.fire({\n          title: \"هل انت متاكد من الحذف ؟\",\n\n          icon: \"warning\",\n          showCancelButton: true,\n          confirmButtonColor: '#3085d6',\n          cancelButtonColor: '#d33',\n          confirmButtonText: 'Yes, delete it!'\n\n        }).then((result) => {\n          if (result.value) {\n            var url = \"http://127.0.0.1:5555/contactus_deleted/\" + item.id;\n            axios({\n              method: 'post',\n              url: url,\n              headers: {\n                token: this.token\n              }\n\n            }).then(response => {\n\n\n\n\n            }).catch(error => {\n              this.$swal('خطاء', \"خطاء بالاتصال\", 'error')\n            }).finally(d => {\n              Swal.fire(\n                'تم الحذف بنجاح',\n                '',\n                'success'\n              )\n              this.getitems();\n            });\n\n\n\n          }\n        })\n\n\n      },\n\n      close() {\n        this.dialog = false\n        this.imageUrl = '';\n        setTimeout(() => {\n          this.editedItem = Object.assign({}, this.defaultItem)\n          this.editedIndex = -1\n        }, 300)\n      },\n\n\n\n\n\n    },\n\n\n\n    created() {\n      this.getitems();\n\n    },\n    mounted() {\n\n\n\n    },\n    computed: {\n\n\n    },\n\n\n    watch: {\n\n    },\n  }\n",{"version":3,"sources":["messages.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiIA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;AAIA;;AAEA;;;;;AAKA;AACA;;AAEA;;;AAGA;;;;;AAKA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;AAQA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;;;;;;;;;;AAUA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;;;;AAIA;AACA;;AAEA;AACA;;;;AAIA;AACA;;;AAGA;;;AAGA;;AAEA;AACA","file":"messages.vue","sourceRoot":"src/components/admin/components","sourcesContent":["<template>\n  <v-layout column=\"\">\n    <v-dialog v-model=\"dialog\" persistent max-width=\"900px\">\n\n      <!--<v-btn slot=\"activator\" color=\"primary\" dark class=\"dodo mb-2\" >مقاله جديده</v-btn>-->\n\n      <v-form v-model=\"valid\" ref=\"form\">\n        <v-card>\n\n          <v-card-title>\n            <span class=\"headline\">{{ formTitle }}</span>\n          </v-card-title>\n\n          <v-card-text>\n            <v-container grid-list-md>\n              <v-layout wrap>\n\n                <v-flex xs12 sm6 md12>\n                  <p class=\"dodo ad_con_title\">\n                    <span> اسم المرسل:</span>\n                    {{editedItem.name}}\n                  </p>\n                </v-flex>\n\n\n\n\n                <v-flex xs12 sm12 md12>\n                  <p class=\"dodo ad_con_title\">\n                    <span> اسميل المرسل : </span>\n                    {{editedItem.email}}\n                  </p>\n                </v-flex>\n\n\n                <v-flex xs12 sm12 md12>\n                  <p class=\"dodo ad_con_title\">\n                    <span>نص الرساله : </span>\n                    {{editedItem.message}}\n                  </p>\n                </v-flex>\n\n                <v-flex xs12 sm12 md12>\n                  <p>\n                    <a :href=\"'mailto:'+editedItem.email\"> الرد على الرساله</a>\n                  </p>\n                </v-flex>\n\n\n              </v-layout>\n\n\n            </v-container>\n          </v-card-text>\n\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn color=\"blue darken-1\" flat @click=\"close\">Cancel</v-btn>\n\n          </v-card-actions>\n        </v-card>\n      </v-form>\n    </v-dialog>\n\n    <v-row>\n\n\n      <v-data-table :headers=\"headers\" :items=\"messages\" :page.sync=\"page\" sort-by=\"calories\"\n        class=\"elevation-1 request_table\" style=\"width:96%\" items-per-page=\"15\" hide-default-footer=\"\"\n        :loading=\"loading\" loading-text=\"جاري تحميل البيانات\">\n\n        <template v-slot:top>\n          <v-toolbar flat color=\"white\" pb-5>\n\n            <v-toolbar-title>الرسائل</v-toolbar-title>\n            <v-divider class=\"mx-4\" inset vertical></v-divider>\n            <v-spacer></v-spacer>\n            <v-row justify=\"end\" style=\"margin-top:20px;\">\n\n\n\n\n\n\n\n            </v-row>\n\n          </v-toolbar>\n        </template>\n\n\n\n\n        <template v-slot:bottom>\n          <v-pagination v-model=\"page\" :length=\"pageCount\"></v-pagination>\n        </template>\n        <!-- edit reservation -->\n\n\n        <!-- edit reservation -->\n        <template v-slot:item.action=\"{ item }\">\n\n          <v-icon small class=\"mr-2\" @click=\"editItem(item)\">\n            edit\n          </v-icon>\n          <v-icon small @click=\"deleteItem(item)\">\n            delete\n          </v-icon>\n        </template>\n        <template v-slot:no-data>\n          <h4>لاتوجد بيانات</h4>\n        </template>\n\n\n\n      </v-data-table>\n\n    </v-row>\n    <v-row>\n      <v-pagination v-model=\"page\" prev-icon=\"mdi-menu-right\" next-icon=\"mdi-menu-left\" circle=\"\" :length=\"pageCount\">\n      </v-pagination>\n\n    </v-row>\n  </v-layout>\n\n</template>\n\n\n<script>\nconst axios = require('axios');\n  export default {\n    data: () => ({\n\n\n      user_info: {},\n      res_filter: '',\n      token: localStorage.getItem('access_token'),\n\n      urL: 'http://109.224.53.155',\n      dialog: false,\n      messages: [],\n      editedIndex: -1,\n      loding_accept: false,\n      marvelHeroes: [],\n      loding_cancel: false,\n      headers: [{\n          text: 'رقم التعريف',\n          align: 'center',\n          sortable: false,\n          value: 'id',\n        },\n        {\n          text: 'الاسم',\n          align: 'center',\n          sortable: false,\n          value: 'name',\n        },\n        {\n          text: 'الايميل',\n          align: 'center',\n          sortable: false,\n          value: 'email',\n        },\n        {\n          text: 'الرساله',\n          align: 'center',\n          sortable: false,\n          value: 'message',\n        },\n\n        {\n          text: ' ',\n          value: 'action',\n          align: 'center',\n        },\n      ],\n\n \n      editedItem: {\n        name: '',\n        calories: 0,\n        fat: 0,\n        carbs: 0,\n        protein: 0,\n      },\n\n      defaultItem: {\n        name: '',\n        calories: 0,\n        fat: 0,\n        carbs: 0,\n        protein: 0,\n      },\n\n\n      valid: false,\n      page: 1,\n      pageCount: 0,\n      current_page: 1,\n      last_page: 0,\n      loading: false\n\n\n    }),\n\n\n\n    methods: {\n\n      editItem(item) {\n\n\n\n\n        this.editedIndex = this.messages.indexOf(item)\n        this.editedItem = Object.assign({}, item)\n\n        this.dialog = true\n\n\n      },\n\n\n\n\n      getitems() {\n\n        var url = this.urL+\"/contactus?page=\" + this.current_page;\n        // var url = this.urL + \"http://127.0.0.1:5555/GetOwnerItemRating?page=\" + this.current_page;\n        this.loading = true;\n        axios({\n          method: 'get',\n          url: url,\n          headers: {\n            token: this.token\n          }\n\n        }).then(response => {\n          this.messages = response.data.Data.data;\n\n          this.last_page = response.data.Data.last_page;\n          this.pageCount = response.data.Data.last_page;\n\n\n\n\n\n\n\n        }).catch(error => {\n          //  this.$swal('خطاء', \"خطاء بالاتصال\", 'error')\n        }).finally(s => {\n          s;\n          this.loading = false;\n\n        });\n      },\n\n\n\n      deleteItem(item) {\n\n\n\n\n\n\n\n\n\n        const Swal = require('sweetalert2')\n\n\n        Swal.fire({\n          title: \"هل انت متاكد من الحذف ؟\",\n\n          icon: \"warning\",\n          showCancelButton: true,\n          confirmButtonColor: '#3085d6',\n          cancelButtonColor: '#d33',\n          confirmButtonText: 'Yes, delete it!'\n\n        }).then((result) => {\n          if (result.value) {\n            var url = \"http://127.0.0.1:5555/contactus_deleted/\" + item.id;\n            axios({\n              method: 'post',\n              url: url,\n              headers: {\n                token: this.token\n              }\n\n            }).then(response => {\n\n\n\n\n            }).catch(error => {\n              this.$swal('خطاء', \"خطاء بالاتصال\", 'error')\n            }).finally(d => {\n              Swal.fire(\n                'تم الحذف بنجاح',\n                '',\n                'success'\n              )\n              this.getitems();\n            });\n\n\n\n          }\n        })\n\n\n      },\n\n      close() {\n        this.dialog = false\n        this.imageUrl = '';\n        setTimeout(() => {\n          this.editedItem = Object.assign({}, this.defaultItem)\n          this.editedIndex = -1\n        }, 300)\n      },\n\n\n\n\n\n    },\n\n\n\n    created() {\n      this.getitems();\n\n    },\n    mounted() {\n\n\n\n    },\n    computed: {\n\n\n    },\n\n\n    watch: {\n\n    },\n  }\n</script>"]}]}