{"remainingRequest":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/src/components/admin/components/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/src/components/admin/components/login.vue","mtime":1588163810249},{"path":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGltcG9ydCB7Ci8vICAgRXZlbnRCdXMKLy8gfSBmcm9tICcuLi9ldmVudC1idXMuanMnOwppbXBvcnQgewogIC8vVVNFUl9ST0xFX0dVRVNULAogIC8vVVNFUl9ST0xFX1JFR0lTVEVSRUQsCiAgQURNSU5fUk9MRSwKICAvL1VTRVJfUk9MRSwKICBPV05FUl9ST0xFLAogIERlbGl2ZXJ5X1JPTEUKCn0gZnJvbSAiLi4vY29uc3RhbnRzLmpzIjsKY29uc3QgYXhpb3MgPSByZXF1aXJlKCdheGlvcycpOwpleHBvcnQgZGVmYXVsdCB7CgoKICAkX3ZlZVZhbGlkYXRlOiB7CiAgICB2YWxpZGF0b3I6ICduZXcnLAogIH0sCiAgbmFtZTogJ2FwcCcsCgoKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZhbGlkOiB0cnVlLAogICAgICBsb2dpbl9pbmZvOiBbXSwKICAvLyAgICB2YWxpZGF0ZTogZmFsc2UsCiAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWNjZXNzX3Rva2VuJyksCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICB1ckw6ICdodHRwOi8vMTA5LjIyNC41My4xNTUnLAoKICAgICAgbmFtZVJ1bGVzOiBbCiAgICAgICAgdiA9PiAhIXYgfHwgJ05hbWUgaXMgcmVxdWlyc2VkJywKICAgICAgICB2ID0+ICh2ICYmIHYubGVuZ3RoIDw9IDEwKSB8fCAnTmFtZSBtdXN0IGJlIGxlc3MgdGhhbiAxMCBjaGFyYWN0ZXJzJywKICAgICAgXSwKICAgICAgIHBob25lUnVsZXM6IFsKICAgICAgICAgICAgICAgICAgKHYpID0+ICEhdiB8fCAn2YrYrNioINin2K/Yrtin2YQg2LHZgtmFINin2YTZh9in2KrZgScsCiAgICAgICAgICAgICAgICAgICh2KSA9PiB2Lmxlbmd0aCA+IDEwICYmIHYubGVuZ3RoIDwgMTIgfHwgJ9mK2KzYqCDYp9iv2K7Yp9mEINix2YLZhSDZh9in2KrZgSDYtdit2YrYrScsCgogICAgICAgICAgICAgIF0sCiAgICAgIHBhc3N3b3JkUnVsZXM6IFsKICAgICAgICB2ID0+ICEhdiB8fCAn2YPZhNmF2Kkg2KfZhNiz2LEg2YXYt9mE2KjYqScsCiAgICAgICAgdiA9PiAodiAmJiB2Lmxlbmd0aCA8PSAxMCkgfHwgJ1Bhc3N3b3JkIG11c3QgYmUgbGVzcyB0aGFuIDEwIGNoYXJhY3RlcnMnLAogICAgICBdLAogICAgICBlbWFpbFJ1bGVzOiBbCiAgICAgICAgdiA9PiAhIXYgfHwgJ0UtbWFpbCBpcyByZXF1aXJlZCcsCiAgICAgICAgdiA9PiAvLitALitcLi4rLy50ZXN0KHYpIHx8ICdFLW1haWwgbXVzdCBiZSB2YWxpZCcsCiAgICAgIF0sCgogICAgICBlcnJvcnM6ICcnLAogICAgICB1c2VyOiB7CiAgICAgICAgcGhvbmU6ICcnLAogICAgICAgIHJlZ19kaWFsb2c6IGZhbHNlLAogICAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgfSwKCgoKICAgICAgb3B0aW9uczogewogICAgICAgIGlzTG9nZ2luZ0luOiB0cnVlLAogICAgICAgIHNob3VsZFN0YXlMb2dnZWRJbjogdHJ1ZSwKICAgICAgfSwKICAgIH0KICB9LAoKICBtb3VudGVkKCkgewoKCgogIH0sCgoKCgogIG1ldGhvZHM6IHsKCiAgICBzdWJtaXQoKSB7CgoKICAgICAgaWYgKHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgYXhpb3MoewogICAgICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICAgICAgdXJsOiB0aGlzLnVyTCArICIvQXV0aC92MS9sb2dpbiIsCiAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICBwaG9uZTogIjk2NCIgKyBwYXJzZUludCh0aGlzLnVzZXIucGhvbmUpLAogICAgICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnVzZXIucGFzc3dvcmQsCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CgogICAgICAgICAgICB0aGlzLmxvZ2luX2luZm8gPSByZXNwb25zZS5kYXRhOwoKCiAgICAgICAgICAgIGlmICh0aGlzLmxvZ2luX2luZm8udXNlcl9yb2xlID09ICJhZG1pbiIpIHsKCgogICAgICAgICAgICAgIHRoaXMuJHVzZXIuc2V0KHsKICAgICAgICAgICAgICAgIHJvbGU6IEFETUlOX1JPTEUKICAgICAgICAgICAgICB9KTsKCgogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIG5hbWU6ICJhZG1pbl9kYXNoYm91cmQiCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdST0xFX1JFR0lTVEVSRUQnLCB0aGlzLiR1c2VyLmdldCgpLnJvbGUpOwoKCiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2FjY2Vzc190b2tlbicsIHJlc3BvbnNlLmRhdGEudG9rZW4pOwogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhZG1pbl9pbmZvJywgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YSkpOwoKCgoKCgogICAgICAgICAgICAgIC8vYWxlcnQodGhpcy4kdXNlci5nZXQoKS5yb2xlKTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmxvZ2luX2luZm8udXNlcl9yb2xlID09ICJvd25lciIpIHsKCgogICAgICAgICAgICAgIHRoaXMuJHVzZXIuc2V0KHsKICAgICAgICAgICAgICAgIHJvbGU6IE9XTkVSX1JPTEUKICAgICAgICAgICAgICB9KTsKCgogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdST0xFX1JFR0lTVEVSRUQnLCB0aGlzLiR1c2VyLmdldCgpLnJvbGUpOwoKCiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2FjY2Vzc190b2tlbicsIHJlc3BvbnNlLmRhdGEudG9rZW4pOwogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhZG1pbl9pbmZvJywgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YSkpOwoKCgogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIG5hbWU6ICJPd25lckRhc2hib3VyZCIKICAgICAgICAgICAgICB9KTsKCgoKCgoKCgogICAgICAgICAgICB9CgogICAgICAgICAgICAvL0RlbGl2ZXJ5X1JPTEUKICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5sb2dpbl9pbmZvLnVzZXJfcm9sZSA9PSAiRGVsaXZlcnlfQ29tcGFueSIpIHsKCgogICAgICAgICAgICAgIHRoaXMuJHVzZXIuc2V0KHsKICAgICAgICAgICAgICAgIHJvbGU6IERlbGl2ZXJ5X1JPTEUKICAgICAgICAgICAgICB9KTsKCgogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdST0xFX1JFR0lTVEVSRUQnLCB0aGlzLiR1c2VyLmdldCgpLnJvbGUpOwoKCiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2FjY2Vzc190b2tlbicsIHJlc3BvbnNlLmRhdGEudG9rZW4pOwogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhZG1pbl9pbmZvJywgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YSkpOwoKCgogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIG5hbWU6ICJEZWxpdmVyeV9kYXNoYm91cmQiCiAgICAgICAgICAgICAgfSk7CgoKCgoKICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmxvZ2luX2luZm8udXNlcl9yb2xlID09ICJjbGllbnQiKSB7CgogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIG5hbWU6ICJsb2dpbiIKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIH0KCgoKCgogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgIGVycm9yCiAgICAgICAgICAgIC8vIHRoaXMuZXJyb3JzID0gZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcl9kZXNjcmlwdGlvbjsKICAgICAgICAgIH0pLmZpbmFsbHkoYWEgPT4gewogICAgICAgICAgICBhYSwKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgfSk7CgoKCiAgICAgIH0KCiAgICB9LAoKCiAgfSwKICBjb21wb25lbnRzOiB7CgogIH0KfQo="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;;;;;AAKA;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;;;AAGA;AACA;;;;;;;AAOA;AACA;;;AAGA;AACA;AACA;;;AAGA;;;AAGA;AACA;;;;AAIA;AACA;AACA;;;;;;;;;AASA;;AAEA;AACA;;;AAGA;AACA;AACA;;;AAGA;;;AAGA;AACA;;;;AAIA;AACA;AACA;;;;;;AAMA;;AAEA;AACA;AACA;;AAEA;;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;;AAEA;;;AAGA;AACA;;AAEA;AACA","file":"login.vue","sourceRoot":"src/components/admin/components","sourcesContent":["<template>\n\n  <div>\n\n    <div class=\"login-dark\">\n      <v-form ref=\"form\" v-model=\"valid\">\n        <v-row>\n          <div style=\"width:75px;height:90px;position: relative; right: 35%;\">\n            <v-img src=\"/assets/logo_black.png\" style=\"with:100%;height:100%\"></v-img>\n          </div>\n        </v-row>\n\n        <br>\n\n        <v-row class=\"mb-6\" justify=\"center\">\n\n          <h3 style=\"color:black\">تسجيل الدخول </h3>\n\n        </v-row>\n\n\n\n\n\n        <v-text-field v-model=\"user.phone\"  label=\"رقم الهاتف\" data-vv-name=\"name\" type=\"number\"\n          :rules=\"phoneRules\" required></v-text-field>\n\n\n        <v-text-field v-model=\"user.password\"  type=\"Password\" label=\"كلمة المرور\"\n          :rules=\"passwordRules\" data-vv-name=\"password\" required></v-text-field>\n\n\n\n\n\n\n\n        <v-row justify=\"center\">\n          <v-btn class=\"btn btn-primary btn-block\" color=\"#ff6600\" @click=\"submit\" style=\";color:#fff;width:100%\">\n            دخول</v-btn>\n\n        </v-row>\n        <v-row>\n          <v-text-field color=\"primary\" loading disabled v-show=\"loading\"></v-text-field>\n        </v-row>\n\n        <p style=\"color:red;text-align:center\">{{this.errors}}</p>\n      </v-form>\n\n    </div>\n  </div>\n\n\n</template>\n\n<script>\n  // import {\n  //   EventBus\n  // } from '../event-bus.js';\n  import {\n    //USER_ROLE_GUEST,\n    //USER_ROLE_REGISTERED,\n    ADMIN_ROLE,\n    //USER_ROLE,\n    OWNER_ROLE,\n    Delivery_ROLE\n\n  } from \"../constants.js\";\n  const axios = require('axios');\n  export default {\n\n\n    $_veeValidate: {\n      validator: 'new',\n    },\n    name: 'app',\n\n\n\n    data() {\n      return {\n        valid: true,\n        login_info: [],\n    //    validate: false,\n        token: localStorage.getItem('access_token'),\n        loading: false,\n        urL: 'http://109.224.53.155',\n\n        nameRules: [\n          v => !!v || 'Name is requirsed',\n          v => (v && v.length <= 10) || 'Name must be less than 10 characters',\n        ],\n         phoneRules: [\n                    (v) => !!v || 'يجب ادخال رقم الهاتف',\n                    (v) => v.length > 10 && v.length < 12 || 'يجب ادخال رقم هاتف صحيح',\n\n                ],\n        passwordRules: [\n          v => !!v || 'كلمة السر مطلبة',\n          v => (v && v.length <= 10) || 'Password must be less than 10 characters',\n        ],\n        emailRules: [\n          v => !!v || 'E-mail is required',\n          v => /.+@.+\\..+/.test(v) || 'E-mail must be valid',\n        ],\n\n        errors: '',\n        user: {\n          phone: '',\n          reg_dialog: false,\n          password: '',\n        },\n\n\n\n        options: {\n          isLoggingIn: true,\n          shouldStayLoggedIn: true,\n        },\n      }\n    },\n\n    mounted() {\n\n\n\n    },\n\n\n\n\n    methods: {\n\n      submit() {\n\n\n        if (this.$refs.form.validate()) {\n          this.loading = true;\n\n          axios({\n              method: 'post',\n              url: this.urL + \"/Auth/v1/login\",\n              data: {\n                phone: \"964\" + parseInt(this.user.phone),\n                password: this.user.password,\n              }\n            })\n            .then(response => {\n\n              this.login_info = response.data;\n\n\n              if (this.login_info.user_role == \"admin\") {\n\n\n                this.$user.set({\n                  role: ADMIN_ROLE\n                });\n\n\n                this.$router.push({\n                  name: \"admin_dashbourd\"\n                });\n\n                localStorage.setItem('ROLE_REGISTERED', this.$user.get().role);\n\n\n                localStorage.setItem('access_token', response.data.token);\n                localStorage.setItem('admin_info', JSON.stringify(response.data));\n\n\n\n\n\n\n                //alert(this.$user.get().role);\n              } else if (this.login_info.user_role == \"owner\") {\n\n\n                this.$user.set({\n                  role: OWNER_ROLE\n                });\n\n\n                localStorage.setItem('ROLE_REGISTERED', this.$user.get().role);\n\n\n                localStorage.setItem('access_token', response.data.token);\n                localStorage.setItem('admin_info', JSON.stringify(response.data));\n\n\n\n                this.$router.push({\n                  name: \"OwnerDashbourd\"\n                });\n\n\n\n\n\n\n\n\n              }\n\n              //Delivery_ROLE\n              else if (this.login_info.user_role == \"Delivery_Company\") {\n\n\n                this.$user.set({\n                  role: Delivery_ROLE\n                });\n\n\n                localStorage.setItem('ROLE_REGISTERED', this.$user.get().role);\n\n\n                localStorage.setItem('access_token', response.data.token);\n                localStorage.setItem('admin_info', JSON.stringify(response.data));\n\n\n\n                this.$router.push({\n                  name: \"Delivery_dashbourd\"\n                });\n\n\n\n\n\n              } else if (this.login_info.user_role == \"client\") {\n\n                this.$router.push({\n                  name: \"login\"\n                });\n\n              }\n\n\n\n\n\n            })\n            .catch(error => {\n              error\n              // this.errors = error.response.data.error_description;\n            }).finally(aa => {\n              aa,\n              this.loading = false;\n\n            });\n\n\n\n        }\n\n      },\n\n\n    },\n    components: {\n\n    }\n  }\n</script>\n\n<style>\n  #app {\n    font-family: 'Avenir', Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-align: center;\n    color: #2c3e50;\n    margin-top: 60px;\n  }\n</style>"]}]}