{"remainingRequest":"/Users/haideraltemimy/Documents/GitHub/Hejozat/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/haideraltemimy/Documents/GitHub/Hejozat/src/components/mybooking.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/haideraltemimy/Documents/GitHub/Hejozat/src/components/mybooking.vue","mtime":1587249924265},{"path":"/Users/haideraltemimy/Documents/GitHub/Hejozat/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/Users/haideraltemimy/Documents/GitHub/Hejozat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/haideraltemimy/Documents/GitHub/Hejozat/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst Swal = require('sweetalert2');\nimport mybookingCard from './sub_components/mybookingcard'\nexport default {\n\n  name: 'App',\n\n  data: () => ({\n    msg: '',\n    items: [],\n    token: '',\n    datafound: true,\n    filterTitile: [{\n        name: 'الكل',\n        icon: 'fas fa-home'\n      }, {\n        name: 'الحجوزات المقبولة',\n        icon: 'fas fa-check'\n      },\n      {\n        name: 'الحجوزات المرفوضة ',\n        icon: 'fas fa-window-close'\n      }, {\n        name: 'الحجوزات المعلقة',\n        icon: 'fas fa-clock'\n      }\n    ],\n    inactive: false,\n    loading: true,\n    taps_chaked: 3,\n\n    user_info: {},\n    num_cancel: -1,\n    alert_msg: false,\n    urL: 'http://109.224.53.155',\n    text: \" شركة انجاز هي شركة رائدة في مجال التحول من الأنظمة الورقية التقليدية الى الأنظمة الرقمية الالكترونية، حيث ان الشركة تقوم من خلال \" +\n      \" تكنولوجيامتقدمة في وضع البنى التحتية الكفيلة بهذا الانتقال ومن ثم تقديم الخدمات بشكل الكتروني يضمن الرفاهية والسهولة \",\n\n\n  }),\n  methods: {\n\n    ontap(index) {\n      switch (index) {\n        case 0:\n          this.items = [];\n          this.getitems();\n          break;\n        case 1:\n          this.items = [];\n          this.getMyreserById(2);\n          break;\n\n\n        case 2:\n          this.items = [];\n          this.getMyreserById(3);\n          this.getMyreserById(4);\n\n          break;\n\n\n\n\n        case 3:\n          this.items = [];\n          this.getMyreserById(1);\n          break;\n\n      }\n\n\n    },\n\n\n\n    cancel_reservation(item, index) {\n\n\n      var url = this.urL + \"/UserCancelReservation/\" + item.id;\n\n\n\n\n\n\n\n      Swal.fire({\n        title: \"هل انت متاكد من الغاء الحجز ؟\",\n\n        icon: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: 'نعم  ',\n        cancelButtonText: 'الغاء',\n        showClass: {\n          popup: 'animated fadeInDown faster'\n        },\n        hideClass: {\n          popup: 'animated fadeOutUp faster'\n        }\n\n\n      }).then((result) => {\n\n\n        if (result.value == true) {\n          this.num_cancel = index;\n\n          axios({\n            method: 'get',\n            url: url,\n            headers: {\n              token: this.token\n            }\n\n          }).then(response => {\n              this.getitems();\n                this.getitems();\n            this.items[index].active = 0;\n            item.active = 0;\n            this.$swal('', \"    تم الغاء الحجز\", 'success')\n          \n           \n\n          }).catch(error => {\n\n            this.msg = \"يجب تسجيل الدخول\"\n            this.alert_msg = true;\n            if (error.response.status == 402) {\n              this.logout();\n              this.$router.reload()\n            }\n\n          }).finally(\n\n\n            this.num_cancel = -1,\n            this.alert_msg = false,\n            this.loading = false\n\n          );\n        }\n      }); // end of swal confirm msg\n\n    },\n\n    getDateDiff(to_date, to_time) {\n\n\n      var today = new Date();\n      var from_time = today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds()\n      var to_date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\n      var timediff = require('timediff');\n\n      var DateDiff = timediff('' + to_date + '  ' + from_time + '', '' + to_date + '  ' + to_time + '', 'YDHms');\n\n\n  return DateDiff;\n      // if(this.today<this.to_date)\n      // {\n      //    return DateDiff;\n      // }\n      \n     \n    },\n\n    getMyreserById(reserId) {\n\n      this.loading = true;\n      var url = this.urL + \"/getReserByStatusId/\" + reserId;\n      axios({\n        method: 'get',\n        url: url,\n        headers: {\n          token: this.token\n        }\n\n      }).then(response => {\n\n\n        this.items.push.apply(this.items, response.data.Data);\n\n\n\n        this.alert_msg = false;\n        this.loading = false;\n\n        if (this.items.length < 1) {\n\n          this.datafound = false;\n        } else {\n          this.datafound = true;\n        }\n      }).catch(error => {\n        this.msg = \"يجب تسجيل الدخول\"\n        this.alert_msg = true;\n        if (error.response.status == 402) {\n          this.logout();\n          this.$router.reload()\n        }\n\n      }).finally(\n\n        this.loading = false\n\n      );\n    },\n\n\n\n\n    getitems() {\n\n\n      var url = this.urL + \"/getUserReservations\";\n      axios({\n        method: 'get',\n        url: url,\n        headers: {\n          token: this.token\n        }\n\n      }).then(response => {\n        this.items = response.data.Data.data;\n        this.alert_msg = false;\n        this.loading = false;\n\n        this.msg = \"هنالك \" + this.items.length + \" حجوزات في الجدول\";\n\n\n        if (this.items.length < 1) {\n          this.datafound = false\n        } else {\n          this.datafound = true;\n        }\n\n      }).catch(error => {\n        this.msg = \"يجب تسجيل الدخول\"\n        this.alert_msg = true;\n        if (error.response.status == 402) {\n          this.logout();\n          this.$router.reload()\n        }\n\n      }).finally(d => {\n\n        this.loading = false;\n\n      });\n    },\n\n\n    getDiscription(disc, len) {\n      var text = disc;\n\n      text = text.substring(0, len)\n\n\n      return text;\n    },\n\n    logout() {\n      this.$user.set({\n        role: USER_ROLE_GUEST\n      });\n\n      window.localStorage.clear();\n\n    }\n  },\n  mounted() {\n    this.token = localStorage.getItem('access_token');\n    this.user_info = JSON.parse(localStorage.getItem('user_info'));\n    this.getitems();\n\n\n  },\n  components: {\n\n    mybookingCard\n\n  },\n  created() {\n\n\n\n\n\n  },\n\n\n};\n",{"version":3,"sources":["mybooking.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqUA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;;;;AAKA;AACA;AACA;AACA;;AAEA;;;AAGA;;;;AAIA;;;AAGA;;;;;;;;AAQA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;;;AAIA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;;;;AAKA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;;AAGA;AACA;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;;;;;;AAMA;;;AAGA","file":"mybooking.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-container fluid=\"\">\n    <v-layout column=\"\" wrap justify-center=\"\" class=\"mybooking\">\n\n      <v-row>\n      </v-row>\n      <v-row>\n        <label class=\"mybooking-title\">\n          <v-icon v-if=\"alert_msg\" color=\"warning\"> fas fa-exclamation-triangle</v-icon>\n          {{msg}}\n        </label>\n\n      </v-row>\n\n      <v-row class=\"mb-4\">\n        <v-divider></v-divider>\n\n      </v-row>\n\n\n\n      <v-row>\n        <v-container fluid>\n          <v-row justify=\"center\">\n\n            <!-- profile part -->\n            <v-flex xs12 xl2 md3 sm3 pa-2 v-if=\"!loading\">\n              <v-card style=\"padding:15px\">\n                <v-container>\n                  <v-layout column=\"\">\n                    <v-row justify=\"center\" class=\"mb-6\">\n                      <v-avatar size=\"80\">\n                        <img src=\"https://cdn.vuetifyjs.com/images/john.jpg\" alt=\"John\">\n                      </v-avatar>\n                    </v-row>\n\n                    <v-row justify=\"center\" class=\"mb-2\">\n                      <label style=\"color:gary\">{{user_info.user_name}}@</label>\n\n                    </v-row>\n                    <v-divider class=\"mb-6\"> </v-divider>\n\n\n                    <v-row class=\"mb-4\">\n\n                      <v-icon style=\"margin-left:10px;\" color=\"#65A1A7\">fas fa-user</v-icon>\n                      <label>{{user_info.user_name}}</label>\n\n                      <v-spacer></v-spacer>\n                      <v-icon style=\"margin-left:30px;\" color=\"gray\" size=\"15\">fas fa-pen</v-icon>\n                    </v-row>\n\n                    <v-row class=\"mb-4\">\n\n                      <v-icon style=\"margin-left:10px;\" color=\"#65A1A7\">fas fa-envelope</v-icon>\n                      <label>{{user_info.user_email}}</label>\n                      <v-spacer></v-spacer>\n                      <v-icon style=\"margin-left:30px;\" color=\"gray\" size=\"15\">fas fa-pen</v-icon>\n                    </v-row>\n\n                    <v-row class=\"mb-6\">\n\n                      <v-icon style=\"margin-left:10px;\" color=\"#65A1A7\">fas fa-phone-square</v-icon>\n                      <label>{{user_info.user_phone}}</label>\n                      <v-spacer></v-spacer>\n                      <v-icon style=\"margin-left:30px;\" color=\"gray\" size=\"15\">fas fa-pen</v-icon>\n                    </v-row>\n                    <v-divider class=\"mb-4\"></v-divider>\n                    <v-row>\n                      <v-container>\n\n\n\n                        <v-row class=\"mb-6\">\n\n                          <v-list style=\"width:100%\">\n\n                            <v-list-item-group color=\"gray\">\n                              <v-list-item v-for=\"(item, i) in filterTitile\" :key=\"i\" :inactive=\"inactive\">\n\n                                <v-list-item-content @click=\"ontap(i)\" check>\n                                  <v-row style=\"margin-right:1%\">\n                                    <v-icon style=\"margin-left:20px;\" color=\"#65A1A7\">{{item.icon}}</v-icon>\n                                    <label> {{item.name}}</label>\n                                  </v-row>\n\n                                </v-list-item-content>\n                              </v-list-item>\n                            </v-list-item-group>\n                          </v-list>\n\n\n\n\n\n                        </v-row>\n                      </v-container>\n                    </v-row>\n\n                  </v-layout>\n                </v-container>\n              </v-card>\n            </v-flex>\n\n\n            <v-flex v-else xxs12 xl2 md2 sm2 pa-2>\n              <v-skeleton-loader ref=\"skeleton\" type=\"article\" class=\"mx-auto\"></v-skeleton-loader>\n              <v-skeleton-loader  type=\"list-item-two-line\" class=\"mx-auto\">\n              </v-skeleton-loader>\n\n            </v-flex>\n\n            <!-- part of items -->\n\n            <v-flex xs12 xl6 md7 sm7 pa-2 v-if=\"!loading\">\n              <div v-if=\"datafound\">\n                <v-layout column wrap>\n\n                  <v-card class=\"bookingcard\" v-for=\"(item,index) in items\" :key=\"item\" style=\"margin-bottom:30px\">\n\n\n\n                    <v-hover v-slot:default=\"{ hover }\">\n                      <!-- <mybookingCard :item=\"item\"  :index=\"index\" :token=\"token\"></mybookingCard> -->\n\n                      <v-layout row wrap>\n\n\n                        <v-flex xs9>\n                          <router-link :to=\"{ name: 'item', params: { id: item.item_id } }\">\n                            <v-card-text class=\"bookingcard-head \">\n                              {{item.item.name}}\n                            </v-card-text>\n\n\n\n                            <v-chip :color=\"item.reservation_statuses.color\" dark=\"\" class=\"mb-4 mobstyle\">\n                                     <span><i  :class=\"item.reservation_statuses.icon\" style=\"font-size: 27px;padding-left:10px\" ></i></span>\n                           <span pl-1>   {{item.reservation_statuses.name}}</span>\n                        \n                            </v-chip>\n\n\n\n\n                            <v-divider></v-divider>\n\n\n\n\n\n                            <v-layout row wrap justify-start>\n\n\n                              <v-flex xs4 pa-3 class=\"mb_resposiv_hidden\">\n                                <v-card-text class=\"bookingcard-title\">تاريخ الحجز</v-card-text>\n                                <v-card-text class=\"bookingcard-text\"> {{item.from_date}} </v-card-text>\n                                \n                              </v-flex>\n\n\n\n                              <v-flex xs4 pa-3 class=\"mb_resposiv_hidden\">\n                                <v-card-text class=\"bookingcard-title\">وقت الحجز</v-card-text>\n                                 <span><v-card-text class=\"bookingcard-text\"> {{item.from_time}}</v-card-text></span>\n                               <!-- <span v-if=\"item.is_valid==1\"> <v-card-text class=\"bookingcard-text\">  متبقي {{getDateDiff(item.to_date,item.to_time).hours}} ساعه</v-card-text> </span>\n                               <span v-else>تم  احتياز الحجز </span> -->\n                              </v-flex>\n\n\n\n\n                              <v-flex xs4 pa-3 class=\"mb_resposiv_hidden\">\n                                <v-card-text class=\"bookingcard-title\">\n                                  تفاصيل\n                                </v-card-text>\n\n                                <v-card-text class=\"bookingcard-text\"> {{getDiscription(item.item.disc,80)}}\n                                </v-card-text>\n                              </v-flex>\n\n\n                              <!-- for mobile -->\n                              <v-flex xs6 class=\"mb_resposiv_show\">\n                                <v-card-text class=\"bookingcard-title\">تاريخ الحجز</v-card-text>\n                                <v-card-text class=\"bookingcard-text\"> {{item.from_date}} </v-card-text>\n                              </v-flex>\n\n\n\n                              <v-flex xs6 class=\"mb_resposiv_show\">\n                                <v-card-text class=\"bookingcard-title\">وقت الحجز</v-card-text>\n                                <v-card-text class=\"bookingcard-text\"> {{item.from_time}} </v-card-text>\n                              </v-flex>\n\n                              <!-- end mobile ui -->\n                            </v-layout>\n                          </router-link>\n                        </v-flex>\n\n\n\n\n\n\n                        <v-flex xs2 md3 sm3>\n                          <v-layout column wrap pa-5 justify-center=\"\">\n\n                            <span class=\"bookingcard-price-text\">السعر</span>\n\n                            <span class=\"bookingcard-price\">{{item.item.item_price.price}} د.ع </span>\n\n                            <v-row v-if=\"num_cancel==index\" justify=\"center\">\n                              <v-progress-circular indeterminate color=\"primary\"></v-progress-circular>\n                            </v-row>\n\n                            <span v-else>\n\n                              <v-row class=\"mb-2\" justify=\"center\" v-if=\"item.reservation_statuses_id < 3\">\n                                <v-btn dark=\"\" color=\"red\" class=\" bt_cancel_reserv\"\n                                  @click=\"cancel_reservation(item,index )\">\n                                  <v-icon right=\"\" class=\"mb_resposiv_hidden\">fas fa-times</v-icon>\n                                  <span class=\"font_button\">\n                                    الغاء حجز\n                                  </span>\n                                </v-btn>\n                              </v-row>\n                              <v-row justify=\"center\" v-if=\"item.reservation_statuses_id==2\">\n                                <v-btn dark=\"\" color=\"primary\" class=\"font_button bt_cancel_reserv\">\n\n                                  <v-icon right=\"\" class=\"mb_resposiv_hidden\">fas fa-car-side</v-icon>\n                                  <span class=\"font_button\">\n                                    طلب توصيل\n                                  </span>\n                                </v-btn>\n                              </v-row>\n\n\n                            </span>\n\n\n\n                          </v-layout>\n                        </v-flex>\n                      </v-layout>\n\n                    </v-hover>\n\n                  </v-card>\n\n                </v-layout>\n              </div>\n\n              <v-card v-else class=\"mb_emptyreservation\" outlined=\"\">\n                <v-container>\n                  <v-row style=\"padding:20px\">\n                    <v-icon size=\"50\" right=\"\" color=\"warning\" style=\"margin-left:20px\">fas fa-exclamation-circle\n                    </v-icon>\n                    <h1 style=\"color:gray\">لاتوجد حجوزات</h1>\n                  </v-row>\n                </v-container>\n              </v-card>\n\n            </v-flex>\n\n\n            <v-flex xs12 xl6 md7 sm7 pa-2 v-else>\n              <v-flex v-for=\"a in 4\" pa-3 :key=\"a\">\n\n                <v-skeleton-loader ref=\"skeleton\" type=\"article\" class=\"mx-auto\"></v-skeleton-loader>\n              </v-flex>\n\n            </v-flex>\n\n\n\n            <!-- part of schdual time -->\n            <!-- <v-flex xs12 xl2 md2 sm2 pa-2 v-if=\"!loading\">\n\n\n              <v-layout row wrap justify-center v-for=\"item in items\" pb-3 :key=\"item\">\n                <v-card :to=\"'/item/'+item.id\" style=\"width:100%; margin-right:15px ; margin-left:15px\">\n                  <v-col justify=\"center\">\n                    <v-row justify=\"center\">\n                      <v-card-title>\n\n                        <span style=\"padding-left:10px;color:#65A1A7\">{{ \"AM \"+item.from_time}}</span>\n                        <v-icon color=\"#65A1A7\">fas fa-clock</v-icon>\n                      </v-card-title>\n                    </v-row>\n\n                    <v-divider></v-divider>\n\n                    <v-card-text>\n                      {{item.item.name}}\n                    </v-card-text>\n                    <v-row justify=\"center\">\n                      <v-card-actions>\n                        <v-chip color=\"#f0f0f0\">عدد الحجوزات {{item.number}}</v-chip>\n                      </v-card-actions>\n                    </v-row>\n                  </v-col>\n\n                </v-card>\n\n              </v-layout>\n\n\n            </v-flex>\n\n            <v-flex xs12 xl2 md2 sm2 pa-2 v-else>\n              <v-flex pa-3 v-for=\"a in 4\" :key=\"a\">\n                <v-skeleton-loader ref=\"skeleton\" type=\"article\"></v-skeleton-loader>\n              </v-flex>\n            </v-flex> -->\n\n\n          </v-row>\n        </v-container>\n      </v-row>\n\n    </v-layout>\n  </v-container>\n</template>\n<script>\n  const Swal = require('sweetalert2');\n  import mybookingCard from './sub_components/mybookingcard'\n  export default {\n\n    name: 'App',\n\n    data: () => ({\n      msg: '',\n      items: [],\n      token: '',\n      datafound: true,\n      filterTitile: [{\n          name: 'الكل',\n          icon: 'fas fa-home'\n        }, {\n          name: 'الحجوزات المقبولة',\n          icon: 'fas fa-check'\n        },\n        {\n          name: 'الحجوزات المرفوضة ',\n          icon: 'fas fa-window-close'\n        }, {\n          name: 'الحجوزات المعلقة',\n          icon: 'fas fa-clock'\n        }\n      ],\n      inactive: false,\n      loading: true,\n      taps_chaked: 3,\n\n      user_info: {},\n      num_cancel: -1,\n      alert_msg: false,\n      urL: 'http://109.224.53.155',\n      text: \" شركة انجاز هي شركة رائدة في مجال التحول من الأنظمة الورقية التقليدية الى الأنظمة الرقمية الالكترونية، حيث ان الشركة تقوم من خلال \" +\n        \" تكنولوجيامتقدمة في وضع البنى التحتية الكفيلة بهذا الانتقال ومن ثم تقديم الخدمات بشكل الكتروني يضمن الرفاهية والسهولة \",\n\n\n    }),\n    methods: {\n\n      ontap(index) {\n        switch (index) {\n          case 0:\n            this.items = [];\n            this.getitems();\n            break;\n          case 1:\n            this.items = [];\n            this.getMyreserById(2);\n            break;\n\n\n          case 2:\n            this.items = [];\n            this.getMyreserById(3);\n            this.getMyreserById(4);\n\n            break;\n\n\n\n\n          case 3:\n            this.items = [];\n            this.getMyreserById(1);\n            break;\n\n        }\n\n\n      },\n\n\n\n      cancel_reservation(item, index) {\n\n\n        var url = this.urL + \"/UserCancelReservation/\" + item.id;\n\n\n\n\n\n\n\n        Swal.fire({\n          title: \"هل انت متاكد من الغاء الحجز ؟\",\n\n          icon: \"warning\",\n          showCancelButton: true,\n          confirmButtonColor: '#3085d6',\n          cancelButtonColor: '#d33',\n          confirmButtonText: 'نعم  ',\n          cancelButtonText: 'الغاء',\n          showClass: {\n            popup: 'animated fadeInDown faster'\n          },\n          hideClass: {\n            popup: 'animated fadeOutUp faster'\n          }\n\n\n        }).then((result) => {\n\n\n          if (result.value == true) {\n            this.num_cancel = index;\n\n            axios({\n              method: 'get',\n              url: url,\n              headers: {\n                token: this.token\n              }\n\n            }).then(response => {\n                this.getitems();\n                  this.getitems();\n              this.items[index].active = 0;\n              item.active = 0;\n              this.$swal('', \"    تم الغاء الحجز\", 'success')\n            \n             \n\n            }).catch(error => {\n\n              this.msg = \"يجب تسجيل الدخول\"\n              this.alert_msg = true;\n              if (error.response.status == 402) {\n                this.logout();\n                this.$router.reload()\n              }\n\n            }).finally(\n\n\n              this.num_cancel = -1,\n              this.alert_msg = false,\n              this.loading = false\n\n            );\n          }\n        }); // end of swal confirm msg\n\n      },\n\n      getDateDiff(to_date, to_time) {\n\n\n        var today = new Date();\n        var from_time = today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds()\n        var to_date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\n        var timediff = require('timediff');\n\n        var DateDiff = timediff('' + to_date + '  ' + from_time + '', '' + to_date + '  ' + to_time + '', 'YDHms');\n\n\n    return DateDiff;\n        // if(this.today<this.to_date)\n        // {\n        //    return DateDiff;\n        // }\n        \n       \n      },\n\n      getMyreserById(reserId) {\n\n        this.loading = true;\n        var url = this.urL + \"/getReserByStatusId/\" + reserId;\n        axios({\n          method: 'get',\n          url: url,\n          headers: {\n            token: this.token\n          }\n\n        }).then(response => {\n\n\n          this.items.push.apply(this.items, response.data.Data);\n\n\n\n          this.alert_msg = false;\n          this.loading = false;\n\n          if (this.items.length < 1) {\n\n            this.datafound = false;\n          } else {\n            this.datafound = true;\n          }\n        }).catch(error => {\n          this.msg = \"يجب تسجيل الدخول\"\n          this.alert_msg = true;\n          if (error.response.status == 402) {\n            this.logout();\n            this.$router.reload()\n          }\n\n        }).finally(\n\n          this.loading = false\n\n        );\n      },\n\n\n\n\n      getitems() {\n\n\n        var url = this.urL + \"/getUserReservations\";\n        axios({\n          method: 'get',\n          url: url,\n          headers: {\n            token: this.token\n          }\n\n        }).then(response => {\n          this.items = response.data.Data.data;\n          this.alert_msg = false;\n          this.loading = false;\n\n          this.msg = \"هنالك \" + this.items.length + \" حجوزات في الجدول\";\n\n\n          if (this.items.length < 1) {\n            this.datafound = false\n          } else {\n            this.datafound = true;\n          }\n\n        }).catch(error => {\n          this.msg = \"يجب تسجيل الدخول\"\n          this.alert_msg = true;\n          if (error.response.status == 402) {\n            this.logout();\n            this.$router.reload()\n          }\n\n        }).finally(d => {\n\n          this.loading = false;\n\n        });\n      },\n\n\n      getDiscription(disc, len) {\n        var text = disc;\n\n        text = text.substring(0, len)\n\n\n        return text;\n      },\n\n      logout() {\n        this.$user.set({\n          role: USER_ROLE_GUEST\n        });\n\n        window.localStorage.clear();\n\n      }\n    },\n    mounted() {\n      this.token = localStorage.getItem('access_token');\n      this.user_info = JSON.parse(localStorage.getItem('user_info'));\n      this.getitems();\n\n\n    },\n    components: {\n\n      mybookingCard\n\n    },\n    created() {\n\n\n\n\n\n    },\n\n\n  };\n</script>"]}]}