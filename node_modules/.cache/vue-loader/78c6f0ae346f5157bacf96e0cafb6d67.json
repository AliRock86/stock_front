{"remainingRequest":"/Users/haideraltemimy/Documents/GitHub/Hejozat/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/haideraltemimy/Documents/GitHub/Hejozat/src/components/register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/haideraltemimy/Documents/GitHub/Hejozat/src/components/register.vue","mtime":1580812866487},{"path":"/Users/haideraltemimy/Documents/GitHub/Hejozat/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/Users/haideraltemimy/Documents/GitHub/Hejozat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/haideraltemimy/Documents/GitHub/Hejozat/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n   const axios = require('axios');\n   const toast = require('vue-toasted');\n   import {\n       EventBus\n   } from '../event-bus.js';\n\n\n\n   import {\n       userInfo\n   } from 'os';\n\n\n\n   export default {\n       props: ['dialog'],\n\n\n       data() {\n           return {\n               email_error: '',\n               user_name: '',\n               allerros: '',\n               from: '',\n               signin: true,\n               from_post: false,\n               valid: false,\n               error_msg: '',\n               name: '',\n               email: '',\n               phone: '',\n               password: '',\n               city: '',\n               images: [],\n               urL: \"http://109.224.53.155\",\n               cities: [{\n                       id: '1',\n                       name: 'Bagdad',\n\n\n                   },\n                   {\n                       id: '2',\n                       name: 'Karbala',\n\n\n                   }\n               ],\n               seigin: true,\n               from_booking: false,\n               imagesUrl: '',\n               auths: false,\n               imgname: '',\n               user_img: '',\n               imageName: '',\n               name: '',\n               nameRules: [\n                   (v) => !!v || 'يجب ادخال الاسم',\n\n               ],\n                phoneRules: [\n                   (v) => !!v || 'يجب ادخال رقم الهاتف',\n                   (v)=>v.length>10 && v.length<12 || 'يجب ادخال رقم هاتف صحيح',\n\n               ],\n               email: '',\n               emailRules: [\n\n\n                  \n                   (v) => (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(v) || v.length<1 )|| 'ألايميل غير صحيح',\n\n\n               ],\n\n              \n\n               PasswordRules: [\n                   (v) => !!v || 'يجب ادخال الباسورد',\n                   v => (v.length > 3) || ' يجب ان لا يقل عن 4',\n\n               ],\n\n\n               user_info: localStorage.getItem('user_info'),\n               user_id: localStorage.getItem('user_id'),\n\n               reg_dialog: false,\n\n\n               data: '',\n               desserts: [],\n               editedIndex: -1,\n               editedItem: {},\n               post_dialog: false,\n               defaultItem: {\n\n\n               },\n\n           }\n       },\n\n       computed: {\n\n       },\n\n       watch: {\n\n       },\n       // reg_dialogl(val) {\n       //     val || this.close()\n       // },\n\n\n       created() {\n\n           // Listen for the i-got-clicked event and its payload.\n\n           EventBus.$on('reg_dialog', (from) => {\n\n               this.from = from;\n\n\n\n               this.reg_dialog = true;\n               this.from_booking = true;\n\n           });\n\n\n       },\n       updated() {\n\n           // if (localStorage.getItem('authenticat') == \"false\" || localStorage.getItem('authenticat') == null) {\n\n           //     this.auths = false;\n           // } else {\n           //     this.auths = true;\n           //     //      this.Get_Member_Info();\n\n           //     //   this.user_info = localStorage.getItem('user_info');\n\n\n           // }\n\n\n       },\n\n\n\n\n\n\n\n\n\n       methods: {\n           signin_fun() {\n\n               this.signin = true\n\n               this.reg_dialog = true\n\n           },\n\n\n           signup() {\n               this.signin = false\n               this.reg_dialog = true\n               state.index = state.array.indexOf('you')\n\n           },\n\n           logout() {\n               localStorage.setItem('user_id', ' ');\n               window.localStorage.clear();\n               location.reload();\n               this.$router.push({\n                   name: 'ألرئيسية',\n               });\n\n               localStorage.setItem('authenticat', false);\n               localStorage.setItem('access_token', response.data.token);\n               this.authenticat = true;\n               this.auths = false;\n\n\n               // this.Get_Member_Info();\n\n\n\n           },\n\n\n\n\n           pickFile() {\n               this.$refs.image.click()\n           },\n\n\n\n           sginUp() {\n\n               //alert(this.city)\n\n               var data = {\n                   owner_name: this.name,\n                   name: this.name,\n                   email: this.email,\n                   password: this.password,\n                   phone: this.phone,\n                   from: '',\n                   role_id: \"1\",\n                   address_id: \"2\",\n                   province_id: \"1\",\n                   country_id: this.city,\n                   category_id: \"1\",\n                   long: \"33\",\n                   lat: \"32\",\n                   discraption: \"d\",\n                   images: this.images,\n                   type: \"png\"\n\n               };\n               // this.description=JSON.stringify(data);\n               axios({\n                       method: 'post',\n                       url: this.urL + \"/Auth/v1/signupClient\",\n                       data: data\n                   })\n                   .then(response => {\n\n\n                      this.reg_dialog = false;\n                   \n                       //this.login();\n\n                       if (response.data.success == true) {\n                           this.$refs.form.reset()\n                       }\n                       // \n                       switch (this.from) {\n                           case \"mybooking\":\n                               this.$router.push({\n                                   name: 'mybooking'\n                               })\n                               break;\n                           case \"fromItem\":\n\n                               EventBus.$emit('booking_dialog', this.booking_dialog = true);\n                               break;\n\n                               // case 6:\n                               //     day = \"Saturday\";\n                       }\n\n\n\n\n\n                   })\n                   .catch(error => {\n                       if(error.response.status==422){\nthis.$swal( \"  \",\"  الرقم مستخدم\", 'error')\n\n                        }else{\nthis.$swal( \"  \",\"  خطاء بالخادم\", 'error')\n                        }\n\n\n                   });\n\n           }\n\n           ,\n\n\n\n           clear() {\n\n               this.editedItem.email = ''\n\n               this.$validator.reset()\n\n           },\n\n\n\n\n\n\n\n           cats_filter() {\n\n\n               // Fire.$emit('cats_fliter');\n           },\n\n\n\n\n\n\n\n           login() {\n\n\n\n               if (this.$refs.form.validate()) {\n\n\n\n\n\n                   //Sign In      \n\n                   if (this.signin) {\n\n                       axios.post(this.urL + '/Auth/v1/login', {\n\n                           phone: this.phone,\n                           password: this.password,\n\n                       }).then(response => {\n                           localStorage.setItem('user_info', JSON.stringify(response.data));\n                           this.auths = true,\n\n                               this.user_name = response.data.user_name;\n                           this.user_img = response.data.user_image;\n                           //   alert(this.user_img);\n\n                           this.reg_dialog = false;\n                           localStorage.setItem('access_token', response.data.token);\n                           this.authenticat = true;\n\n                           localStorage.setItem('authenticat', true);\n\n                           EventBus.$emit('authenticat', true);\n\n\n\n\n\n\n                           switch (this.from) {\n                               case \"mybooking\":\n                                   this.$router.push({\n                                       name: 'mybooking'\n                                   })\n                                   break;\n                               case \"fromItem\":\n\n                                   EventBus.$emit('booking_dialog', this.booking_dialog = true);\n                                   break;\n\n                                   // case 6:\n                                   //     day = \"Saturday\";\n                           }\n\n\n\n\n\n\n                           toast({\n                               type: 'success',\n                               title: 'تم تسجيل الدخول بنجاح'\n                           })\n\n\n                       }).catch((error) => {\n\n                           this.error_msg = 'رقم الهاتف او الباسورد غير صحيح';\n\n\n                       }).finally((w) => {\n\n                           EventBus.$emit('getUserReservationsCount', true);\n                       });\n\n\n\n\n\n\n                       //Sign Up\n\n                   } else {\n\n\n                       this.sginUp();\n\n\n\n                   }\n\n\n\n\n\n               }\n\n\n\n           },\n           close() {\n\n               this.imageName = ''\n               this.imageFile = ''\n               this.imageUrl = ''\n\n\n               //this.emailRules.splice(2);\n               this.allerros = ' ';\n               this.error_msg = ' ',\n                   this.editedItem = [],\n\n\n                   this.$refs.form.reset()\n               this.reg_dialog = false\n\n           },\n\n\n\n           pickFile() {\n\n               this.$refs.image.click()\n           },\n\n           onFilePicked(e) {\n\n               const files = e.target.files\n               if (files[0] !== undefined) {\n                   this.imageName = files[0].name\n                   if (this.imageName.lastIndexOf('.') <= 0) {\n                       return\n                   }\n                   const fr = new FileReader()\n                   fr.readAsDataURL(files[0])\n                   fr.addEventListener('load', () => {\n                       this.imageUrl = fr.result\n                       this.imageFile = files[0]\n                       this.images = [];\n                       this.images.push(fr.result);\n                       this.imgname = files[0].name;\n\n\n                   })\n\n               } else {\n                   this.imageName = ''\n                   this.imageFile = ''\n                   this.imageUrl = ''\n               }\n           },\n       },\n\n\n       mounted() {\n\n           if (localStorage.getItem('authenticat') == \"false\") {\n               this.auths = false;\n           } else if (localStorage.getItem('authenticat') == \"true\") {\n\n\n               var userinfo = JSON.parse(localStorage.getItem('user_info'));\n               this.user_name = userinfo.user_name;\n               this.user_img = userinfo.user_image;\n\n               this.auths = true;\n           } else if (localStorage.getItem('authenticat') == null) {\n               this.auths = false;\n           }\n\n           //localStorage.setItem('authenticat', false);\n\n\n\n\n       }\n\n   }\n",{"version":3,"sources":["register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4NA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;;;;AAIA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;AAIA;;;AAGA;;;;AAIA;AACA;AACA;;AAEA;;;AAGA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;;AAEA;;;;AAIA;AACA;;AAEA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;;AAGA;;;AAGA;;;;;;;;;;AAUA;AACA;;AAEA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;;;AAIA;;;;;AAKA;AACA;AACA;;;;AAIA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;;;;AAMA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;;AAEA;;;;AAIA;;AAEA;;AAEA;;AAEA;;;;;;;;AAQA;;;AAGA;AACA;;;;;;;;AAQA;;;;AAIA;;;;;;AAMA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;;;;;AAOA;AACA;AACA;AACA;;;AAGA;;AAEA;;;AAGA;;AAEA;AACA;;;;;;;AAOA;;AAEA;;;AAGA;;;;AAIA;;;;;;AAMA;;;;AAIA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;;;AAIA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;AAKA;;AAEA","file":"register.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n\n\n        <div class=\"d-inline   accent-4 white--text\">\n\n            <div v-if=\"this.auths\">\n\n                <div class=\"d-inline   accent-4 white--text\">\n                    <v-menu offset-y left>\n                        <template v-slot:activator=\"{ on }\">\n                            <v-btn small color=\"warning\" fab dark v-on=\"on\">\n                                <v-avatar>\n                                    <img v-if=\"user_img=='null'\"\n                                        src=\"https://avataaars.io/?avatarStyle=Transparent&topType=ShortHairShortFlat&accessoriesType=Prescription02&hairColor=Auburn&facialHairType=MoustacheMagnum&facialHairColor=Auburn&clotheType=Hoodie&clotheColor=Black&eyeType=Surprised&eyebrowType=RaisedExcited&mouthType=Tongue&skinColor=Pale\"\n                                        alt=\"John\">\n                                    <img v-else :src=\"'http://109.224.53.155/'+user_img\">\n                                </v-avatar>\n                            </v-btn>\n                        </template>\n                        <v-list>\n\n\n                            <v-list-item>\n                                <v-list-item-title> <i class=\"fas fa-user\"></i> البروفايل</v-list-item-title>\n\n                            </v-list-item>\n\n                            <v-list-item :to=\"'/mybooking'\">\n                                <v-list-item-title> <i class=\"fas fa-shopping-cart\"></i> حجوزاتي</v-list-item-title>\n\n                            </v-list-item>\n\n\n\n\n                            <v-list-item @click=\"logout\">\n                                <v-list-item-title> <i class=\"fas fa-power-off\"></i> تسجيل خروج</v-list-item-title>\n\n                            </v-list-item>\n\n\n\n\n\n\n                        </v-list>\n                    </v-menu>\n\n\n                </div>\n\n\n\n                <div class=\"hidden-md-and-down d-inline   white--text \" style=\"font-size:18px;padding-right: 7%;\">\n\n\n                    <v-btn class=\"hidden-md-and-down \" text depressed style=\"width: 36px;\">\n                        {{user_name}}\n                    </v-btn>\n\n\n                </div>\n            </div>\n\n            <div v-else style=\"padding: 0px;margin: 0px;\">\n                <v-btn small color=\"warning\" fab dark @click=\"signin_fun()\">\n                    <v-icon>fas fa-sign-in-alt</v-icon>\n                </v-btn>\n\n\n            </div>\n\n        </div>\n\n        <!-- </v-toolbar-items> -->\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n        <v-dialog v-model=\"reg_dialog\" max-width=\"460px\" max-height=\"370px\">\n\n\n            <v-card pb-4>\n\n\n                <v-layout pl-3>\n\n                    <v-layout row wrap>\n                        <v-flex xs6>\n                            <v-btn style=\"width:100%;border-radius:0px\" class=\"reg_btn\" v-on:click=\"signin=true\"\n                                v-bind:class=\"{btn_active:signin}\" height=\"60\">تسجيل الدخول </v-btn>\n\n                        </v-flex>\n\n                        <v-flex xs6>\n                            <v-btn style=\"width:100%;border-radius:0px\" class=\"reg_btn\" v-on:click=\"signin=false\"\n                                v-bind:class=\"{btn_active:!signin}\" height=\"60\"> حساب جديد </v-btn>\n\n                        </v-flex>\n                    </v-layout>\n\n\n                </v-layout>\n\n                <v-form v-model=\"valid\" ref=\"form\">\n\n\n                    <br>\n\n\n\n\n\n                    <div style=\"color:red;padding-right:20px\">{{error_msg}}</div>\n\n                    <v-card-text style=\"padding:0px !important\">\n                        <v-container grid-list-md fluid=\"\">\n                            <v-col v-if=\"!signin\">\n                                <v-row justify=\"center\" class=\"mb-3\">\n\n                                    <v-avatar height=\"100\" width=\"100\">\n                                        <img class=\"signup_img\" :src=\"images[0]\" :alt=\"imgname\">\n                                    </v-avatar>\n\n                                </v-row>\n                                <v-row justify=\"center\">\n                                    <v-btn class=\"btn_active\" @click=\"pickFile\">\n\n                                        <v-icon size=\"25\" style=\"padding-left :7px\">fas fa-camera</v-icon>\n                                        صورة\n                                    </v-btn>\n                                </v-row>\n                            </v-col>\n                            <v-layout wrap justify-center=\"\">\n\n                                <v-flex xs11>\n\n                                    <v-text-field label=\"ألأســم\" v-model=\"name\" required v-if=\"!signin\"\n                                        :rules=\"nameRules\" autocomplete=\"off\">\n                                    </v-text-field>\n\n                                </v-flex>\n\n\n                                <v-flex xs11>\n                                    <v-text-field label=\"ألايمــيل\" v-model=\"email\" data-vv-name=\"email\" \n                                        v-if=\"!signin\" :rules=\"emailRules\" autocomplete=\"off\"></v-text-field>\n                                </v-flex>\n\n                                <v-flex xs11>\n                                    <v-text-field label=\"رقم الهاتف\" v-model=\"phone\" data-vv-name=\"phone\" \n                                        :rules=\"phoneRules\"></v-text-field>\n                                </v-flex>\n\n\n                                <v-flex xs11>\n                                    <v-select :items=\"cities\" item-text=\"name\" v-model=\"city\" item-value=\"id\"\n                                        label=\"اسم المحافظه\" required v-if=\"!signin\"></v-select>\n\n                                </v-flex>\n\n\n                                <v-flex xs11>\n                                    <v-text-field label=\"الباسورد\" type=\"password\" :rules=\"PasswordRules\" required\n                                        v-model=\"password\">\n                                    </v-text-field>\n                                </v-flex>\n                                <input type=\"file\" style=\"display: none\" ref=\"image\" accept=\"image/*\"\n                                    @change=\"onFilePicked\">\n\n\n\n\n\n\n\n                            </v-layout>\n                        </v-container>\n\n                    </v-card-text>\n                    <v-card-actions>\n\n                        <v-container>\n                            <v-row justify=\"center\">\n                                <v-flex xs4>\n                                    <v-btn color=\"#ff6600\" @click=\"login\" style=\";color:#fff;width:100%\">\n                                        تسجيل\n                                    </v-btn>\n\n\n                                </v-flex>\n\n                            </v-row>\n                        </v-container>\n                    </v-card-actions>\n\n\n                </v-form>\n            </v-card>\n\n        </v-dialog>\n    </div>\n\n</template>\n\n\n\n<script>\n    const axios = require('axios');\n    const toast = require('vue-toasted');\n    import {\n        EventBus\n    } from '../event-bus.js';\n\n\n\n    import {\n        userInfo\n    } from 'os';\n\n\n\n    export default {\n        props: ['dialog'],\n\n\n        data() {\n            return {\n                email_error: '',\n                user_name: '',\n                allerros: '',\n                from: '',\n                signin: true,\n                from_post: false,\n                valid: false,\n                error_msg: '',\n                name: '',\n                email: '',\n                phone: '',\n                password: '',\n                city: '',\n                images: [],\n                urL: \"http://109.224.53.155\",\n                cities: [{\n                        id: '1',\n                        name: 'Bagdad',\n\n\n                    },\n                    {\n                        id: '2',\n                        name: 'Karbala',\n\n\n                    }\n                ],\n                seigin: true,\n                from_booking: false,\n                imagesUrl: '',\n                auths: false,\n                imgname: '',\n                user_img: '',\n                imageName: '',\n                name: '',\n                nameRules: [\n                    (v) => !!v || 'يجب ادخال الاسم',\n\n                ],\n                 phoneRules: [\n                    (v) => !!v || 'يجب ادخال رقم الهاتف',\n                    (v)=>v.length>10 && v.length<12 || 'يجب ادخال رقم هاتف صحيح',\n\n                ],\n                email: '',\n                emailRules: [\n\n\n                   \n                    (v) => (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(v) || v.length<1 )|| 'ألايميل غير صحيح',\n\n\n                ],\n\n               \n\n                PasswordRules: [\n                    (v) => !!v || 'يجب ادخال الباسورد',\n                    v => (v.length > 3) || ' يجب ان لا يقل عن 4',\n\n                ],\n\n\n                user_info: localStorage.getItem('user_info'),\n                user_id: localStorage.getItem('user_id'),\n\n                reg_dialog: false,\n\n\n                data: '',\n                desserts: [],\n                editedIndex: -1,\n                editedItem: {},\n                post_dialog: false,\n                defaultItem: {\n\n\n                },\n\n            }\n        },\n\n        computed: {\n\n        },\n\n        watch: {\n\n        },\n        // reg_dialogl(val) {\n        //     val || this.close()\n        // },\n\n\n        created() {\n\n            // Listen for the i-got-clicked event and its payload.\n\n            EventBus.$on('reg_dialog', (from) => {\n\n                this.from = from;\n\n\n\n                this.reg_dialog = true;\n                this.from_booking = true;\n\n            });\n\n\n        },\n        updated() {\n\n            // if (localStorage.getItem('authenticat') == \"false\" || localStorage.getItem('authenticat') == null) {\n\n            //     this.auths = false;\n            // } else {\n            //     this.auths = true;\n            //     //      this.Get_Member_Info();\n\n            //     //   this.user_info = localStorage.getItem('user_info');\n\n\n            // }\n\n\n        },\n\n\n\n\n\n\n\n\n\n        methods: {\n            signin_fun() {\n\n                this.signin = true\n\n                this.reg_dialog = true\n\n            },\n\n\n            signup() {\n                this.signin = false\n                this.reg_dialog = true\n                state.index = state.array.indexOf('you')\n\n            },\n\n            logout() {\n                localStorage.setItem('user_id', ' ');\n                window.localStorage.clear();\n                location.reload();\n                this.$router.push({\n                    name: 'ألرئيسية',\n                });\n\n                localStorage.setItem('authenticat', false);\n                localStorage.setItem('access_token', response.data.token);\n                this.authenticat = true;\n                this.auths = false;\n\n\n                // this.Get_Member_Info();\n\n\n\n            },\n\n\n\n\n            pickFile() {\n                this.$refs.image.click()\n            },\n\n\n\n            sginUp() {\n\n                //alert(this.city)\n\n                var data = {\n                    owner_name: this.name,\n                    name: this.name,\n                    email: this.email,\n                    password: this.password,\n                    phone: this.phone,\n                    from: '',\n                    role_id: \"1\",\n                    address_id: \"2\",\n                    province_id: \"1\",\n                    country_id: this.city,\n                    category_id: \"1\",\n                    long: \"33\",\n                    lat: \"32\",\n                    discraption: \"d\",\n                    images: this.images,\n                    type: \"png\"\n\n                };\n                // this.description=JSON.stringify(data);\n                axios({\n                        method: 'post',\n                        url: this.urL + \"/Auth/v1/signupClient\",\n                        data: data\n                    })\n                    .then(response => {\n\n\n                       this.reg_dialog = false;\n                    \n                        //this.login();\n\n                        if (response.data.success == true) {\n                            this.$refs.form.reset()\n                        }\n                        // \n                        switch (this.from) {\n                            case \"mybooking\":\n                                this.$router.push({\n                                    name: 'mybooking'\n                                })\n                                break;\n                            case \"fromItem\":\n\n                                EventBus.$emit('booking_dialog', this.booking_dialog = true);\n                                break;\n\n                                // case 6:\n                                //     day = \"Saturday\";\n                        }\n\n\n\n\n\n                    })\n                    .catch(error => {\n                        if(error.response.status==422){\n this.$swal( \"  \",\"  الرقم مستخدم\", 'error')\n\n                         }else{\n this.$swal( \"  \",\"  خطاء بالخادم\", 'error')\n                         }\n\n\n                    });\n\n            }\n\n            ,\n\n\n\n            clear() {\n\n                this.editedItem.email = ''\n\n                this.$validator.reset()\n\n            },\n\n\n\n\n\n\n\n            cats_filter() {\n\n\n                // Fire.$emit('cats_fliter');\n            },\n\n\n\n\n\n\n\n            login() {\n\n\n\n                if (this.$refs.form.validate()) {\n\n\n\n\n\n                    //Sign In      \n\n                    if (this.signin) {\n\n                        axios.post(this.urL + '/Auth/v1/login', {\n\n                            phone: this.phone,\n                            password: this.password,\n\n                        }).then(response => {\n                            localStorage.setItem('user_info', JSON.stringify(response.data));\n                            this.auths = true,\n\n                                this.user_name = response.data.user_name;\n                            this.user_img = response.data.user_image;\n                            //   alert(this.user_img);\n\n                            this.reg_dialog = false;\n                            localStorage.setItem('access_token', response.data.token);\n                            this.authenticat = true;\n\n                            localStorage.setItem('authenticat', true);\n\n                            EventBus.$emit('authenticat', true);\n\n\n\n\n\n\n                            switch (this.from) {\n                                case \"mybooking\":\n                                    this.$router.push({\n                                        name: 'mybooking'\n                                    })\n                                    break;\n                                case \"fromItem\":\n\n                                    EventBus.$emit('booking_dialog', this.booking_dialog = true);\n                                    break;\n\n                                    // case 6:\n                                    //     day = \"Saturday\";\n                            }\n\n\n\n\n\n\n                            toast({\n                                type: 'success',\n                                title: 'تم تسجيل الدخول بنجاح'\n                            })\n\n\n                        }).catch((error) => {\n\n                            this.error_msg = 'رقم الهاتف او الباسورد غير صحيح';\n\n\n                        }).finally((w) => {\n\n                            EventBus.$emit('getUserReservationsCount', true);\n                        });\n\n\n\n\n\n\n                        //Sign Up\n\n                    } else {\n\n\n                        this.sginUp();\n\n\n\n                    }\n\n\n\n\n\n                }\n\n\n\n            },\n            close() {\n\n                this.imageName = ''\n                this.imageFile = ''\n                this.imageUrl = ''\n\n\n                //this.emailRules.splice(2);\n                this.allerros = ' ';\n                this.error_msg = ' ',\n                    this.editedItem = [],\n\n\n                    this.$refs.form.reset()\n                this.reg_dialog = false\n\n            },\n\n\n\n            pickFile() {\n\n                this.$refs.image.click()\n            },\n\n            onFilePicked(e) {\n\n                const files = e.target.files\n                if (files[0] !== undefined) {\n                    this.imageName = files[0].name\n                    if (this.imageName.lastIndexOf('.') <= 0) {\n                        return\n                    }\n                    const fr = new FileReader()\n                    fr.readAsDataURL(files[0])\n                    fr.addEventListener('load', () => {\n                        this.imageUrl = fr.result\n                        this.imageFile = files[0]\n                        this.images = [];\n                        this.images.push(fr.result);\n                        this.imgname = files[0].name;\n\n\n                    })\n\n                } else {\n                    this.imageName = ''\n                    this.imageFile = ''\n                    this.imageUrl = ''\n                }\n            },\n        },\n\n\n        mounted() {\n\n            if (localStorage.getItem('authenticat') == \"false\") {\n                this.auths = false;\n            } else if (localStorage.getItem('authenticat') == \"true\") {\n\n\n                var userinfo = JSON.parse(localStorage.getItem('user_info'));\n                this.user_name = userinfo.user_name;\n                this.user_img = userinfo.user_image;\n\n                this.auths = true;\n            } else if (localStorage.getItem('authenticat') == null) {\n                this.auths = false;\n            }\n\n            //localStorage.setItem('authenticat', false);\n\n\n\n\n        }\n\n    }\n</script>"]}]}