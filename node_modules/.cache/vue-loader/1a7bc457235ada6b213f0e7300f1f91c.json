{"remainingRequest":"/Users/haideraltemimy/Documents/GitHub/bala_front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/haideraltemimy/Documents/GitHub/bala_front/src/components/Owner/components/item_dialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/haideraltemimy/Documents/GitHub/bala_front/src/components/Owner/components/item_dialog.vue","mtime":1595934382370},{"path":"/Users/haideraltemimy/Documents/GitHub/bala_front/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/haideraltemimy/Documents/GitHub/bala_front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/haideraltemimy/Documents/GitHub/bala_front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IGF4aW9zID0gcmVxdWlyZSgnYXhpb3MnKTsKCi8vIGltcG9ydCBHb29nbGVNYXAgZnJvbSAnLi4vY29tcG9uZW50cy9tYXAnCmltcG9ydCB7CiAgICBFdmVudEJ1cwp9IGZyb20gJy4vZXZlbnQtYnVzLmpzJzsKCgoKZXhwb3J0IGRlZmF1bHQgewoKICAgIHByb3BzOiB7CiAgICAgICAgJ2l0ZW1fSUQnOiBOdW1iZXIsCiAgICAgICAgJ2hpZGRlbic6IEJvb2xlYW4KICAgIH0sCgogICAgZGF0YTogKCkgPT4gKHsKICAgICAgICBkaWFsb2c6IGZhbHNlLAoKICAgICAgICBpbWdfdXJsOiAnaHR0cDovLzEwOS4yMjQuMjcuOTo4MScsCiAgICAgICAgaXRlbV9pZDogJycsCiAgICAgICAgc3RhcnQ6IG51bGwsCiAgICAgICAgdGltZV9kaWFsb2c6IGZhbHNlLAogICAgICAgIHhjOiBbXSwKICAgICAgICBpbWdfbmFtZTogJycsCiAgICAgICAgZW5kOiBudWxsLAogICAgICAgIHZhbGlkX2RheV9vcGVuOiBmYWxzZSwKCgogICAgICAgIGVycm9yc19hZGRyZXNzOiBbXSwKICAgICAgICBlcnJvcnNfcGF5bWVudDogW10sCiAgICAgICAgcmFkaW9QYXltZW50OiBbIjAiLCAiMSJdLAogICAgICAgIGVycm9yc19kYXRlOiBbXSwKICAgICAgICBkYXlfc3RhdHVzOiBbewogICAgICAgICAgICBpZDogNiwKICAgICAgICAgICAgc3RhdHVzX25hbWVfYXI6ICfZhdmB2KrZiNitJwogICAgICAgIH0sIHsKICAgICAgICAgICAgaWQ6IDcsCiAgICAgICAgICAgIHN0YXR1c19uYW1lX2FyOiAn2YXYutmE2YInCiAgICAgICAgfV0sCgogICAgICAgIGRlbGl2ZXJhYmxlOlsKICAgICAgICAgICAgewogICAgICAgICAgICAKICAgICAgICAgICAgICAgICBpZDoxLAogICAgICAgICAgICAgICAgIG5hbWU6ICfYqtmI2LXZitmEINmF2KzYp9mG2YonCgogICAgICAgICAgICB9LAogICAgICAgICAgICAgewogICAgICAgICAgICAKICAgICAgICAgICAgICAgICBpZDoyLAogICAgICAgICAgICAgICAgIG5hbWU6ICfYqtmI2LXZitmEICDYqNmF2KjZhNi6JwoKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAKICAgICAgICAgICAgICAgICBpZDozLAogICAgICAgICAgICAgICAgIG5hbWU6ICfYqNiv2YjZhiDYqtmI2LXZitmEJwoKICAgICAgICAgICAgfQoKICAgICAgICAgICAgCiAgICAgICAgXSwKICAgICAgICBJdGVtU3RhdHVzOlsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICBpZDoxLAogICAgICAgICAgICAgICAgIHN0YXR1c19uYW1lX2FyOiAn2YXYqtmI2YHYsScKCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIGlkOjI2LAogICAgICAgICAgICAgICAgIHN0YXR1c19uYW1lX2FyOiAn2KfZhNi52K/YryDZhdmG2KrZh9mKJwoKICAgICAgICAgICAgfSwKICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgaWQ6MjcsCiAgICAgICAgICAgICAgICAgc3RhdHVzX25hbWVfYXI6ICfZhdiq2YjZgtmBJwoKICAgICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgRGF5RGlhbG9nOiBmYWxzZSwKICAgICAgICBtc2dfZXJyb3I6IFtdLAogICAgICAgIEl0ZW1GZWF0dXJlc0RpYWxvZzogZmFsc2UsCiAgICAgICAgZXJfYWRkcmVzczogdHJ1ZSwKICAgICAgICB2YWxpZF9JdGVtRmVhdHVyZXM6IGZhbHNlLAogICAgICAgIHZhbGlkX3BheW1lbnQ6IGZhbHNlLAoKICAgICAgICBJdGVtRmVhdHVyZXM6IFt7CiAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgaXRlbV9pZDogJycsCiAgICAgICAgICAgIGZlYXR1cmVfbmFtZTogJycsCiAgICAgICAgICAgIGZlYXR1cmVfcHJpY2U6ICcnCgogICAgICAgIH1dLAoKCgogICAgICAgIGVkaXRlSXRlbUZlYXR1cmVzOiB7CiAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgaXRlbV9pZDogJycsCiAgICAgICAgICAgIGZlYXR1cmVfbmFtZTogJycsCiAgICAgICAgICAgIGZlYXR1cmVfcHJpY2U6ICcnCiAgICAgICAgfSwKCgoKICAgICAgICBlcl9wYXltZW50OiB0cnVlLAoKICAgICAgICBlZGl0ZVRpbWVPcGVuOiB7CgogICAgICAgICAgICBpZDogJycsCiAgICAgICAgICAgIGFjdGlvbl9pZDogJycsCiAgICAgICAgICAgIGZyb21fdGltZTogJycsCiAgICAgICAgICAgIHRvX3RpbWU6ICcnLAogICAgICAgICAgICAKICAgICAgICAgICAgbWF4X3JlcXVlc3Q6ICcnLAogICAgICAgICAgICByZXNlcnZhdGlvbnNfbnVtYmVyOiAnJywKICAgICAgICAgICAgc3RhdHVzOiB7CiAgICAgICAgICAgICAgICBpZDogJycsCiAgICAgICAgICAgICAgICBzdGF0dXNfbmFtZV9hcjogJycKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmVzZXJ2YXRpb25fdHlwZTogewogICAgICAgICAgICAgICAgaWQ6ICcnLAogICAgICAgICAgICAgICAgcmVzZXJ2YXRpb25fdHlwZV9uYW1lOiAnJwogICAgICAgICAgICB9LAoKICAgICAgICB9LAoKICAgICAgICBlZGl0ZURheU9wZW46IFt7CiAgICAgICAgICAgICAgICBpZDogJycsCiAgICAgICAgICAgICAgICByZXNlcnZhdGlvbl90eXBlOiB7CiAgICAgICAgICAgICAgICAgICAgaWQ6ICcnLAogICAgICAgICAgICAgICAgICAgIHJlc2VydmF0aW9uX3R5cGVfbmFtZTogJycKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB3b3JrX2RheTogJycsCiAgICAgICAgICAgICAgICBzdGF0dXM6IHsKICAgICAgICAgICAgICAgICAgICBpZDogJycsCiAgICAgICAgICAgICAgICAgICAgc3RhdHVzX25hbWVfYXI6ICcnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcmVzZXJ2YXRpb25zX251bWJlcjogJycsCiAgICAgICAgICAgICAgICB0aW1lX3RvX29wZW46IFt7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uX2lkOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgZnJvbV90aW1lOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgdG9fdGltZTogJycsCiAgICAgICAgICAgICAgICAgICAgICAgIG1heF9yZXF1ZXN0OiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXJ2YXRpb25zX251bWJlcjogJycsCiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzX25hbWVfYXI6ICcnCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2VydmF0aW9uX3R5cGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2VydmF0aW9uX3R5cGVfbmFtZTogJycKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB9LAoKCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICB9XQoKCgogICAgICAgICAgICAsCiAgICAgICAgZXJfZGF0ZTogdHJ1ZSwKICAgICAgICBlcjE6IHRydWUsCiAgICAgICAgcmVzZXJ2YXRpb25fdHlwZTogW3sKICAgICAgICAgICAgICAgIGlkOiAxLAogICAgICAgICAgICAgICAgcmVzZXJ2YXRpb25fdHlwZV9uYW1lOiAn2LrZitixINmF2K3Yr9ivJwogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZDogMiwKICAgICAgICAgICAgICAgIHJlc2VydmF0aW9uX3R5cGVfbmFtZTogJ9in2K7YqtmK2KfYsSDYudiv2K8nCiAgICAgICAgICAgIH0KICAgICAgICBdLAogICAgICAgIC8vICAgIFsn2LrZitixINmF2K3Yr9ivJywn2KfYrtiq2YrYp9ixINi52K/YryddLAogICAgICAgIGUxOiAxLAogICAgICAgIHN3aXRjaDI6IGZhbHNlLAogICAgICAgIHJhZGlvczogJ3JhZGlvLTEnLAogICAgICAgIHN1Ym1pdF9uYW1lOiAnJywKICAgICAgICBlcnJvcnNfcHJpbWVyeTogW10sCiAgICAgICAgaXRlbV9uZXdfcHJpY2U6ICcnLAogICAgICAgIG1lbnVfZGF0ZV9mcm9tOiBmYWxzZSwKICAgICAgICBtZW51X2RhdGVfdG86IGZhbHNlLAogICAgICAgIGVkaXRkYWlsb2c6IGZhbHNlLAogICAgICAgIHVzZXJfaW5mbzoge30sCiAgICAgICAgdG9rZW46ICcnLAogICAgICAgIGVycl9zaG93OiBmYWxzZSwKICAgICAgICBtZW51MTogZmFsc2UsCiAgICAgICAgbWVudTI6IGZhbHNlLAogICAgICAgIG1lbnUzOiBmYWxzZSwKICAgICAgICBtZW51NDogZmFsc2UsCiAgICAgICAgbWFwX2RpYWxvZzogZmFsc2UsCiAgICAgICAgbW9kYWwyOiBmYWxzZSwKICAgICAgICBib29rX2R1cl9zdGF0dXM6IGZhbHNlLAogICAgICAgIGJvb2tfbnVtX3N0YXR1czogZmFsc2UsCiAgICAgICAgb2ZmZXJfaW5mbzogewoKCiAgICAgICAgfQoKICAgICAgICAsCiAgICAgICAgcmV2ZV90eXBlOiBbewogICAgICAgICAgICBpZDogMCwKICAgICAgICAgICAgZHVyYXRpb246ICfYutmK2LEg2YXYrdiv2YjYrycKICAgICAgICB9LCB7CiAgICAgICAgICAgIGlkOiAxLAogICAgICAgICAgICBkdXJhdGlvbjogJ9in2K7YqtmK2KfYsSDZgdiq2LHYqScKICAgICAgICB9LCB7CiAgICAgICAgICAgIGlkOiAyLAogICAgICAgICAgICBkdXJhdGlvbjogJ9in2K7YqtmK2KfYsSDYudiv2K8g2YTZhNmK2YjZhSDYp9mE2YjYp9it2K8nCiAgICAgICAgfV0sCiAgICAgICAgcmV2ZV90eXBlMTogW3sKICAgICAgICAgICAgaWQ6IDAsCiAgICAgICAgICAgIGR1cmF0aW9uOiAn2LrZitixINmF2K3Yr9mI2K8nCiAgICAgICAgfSwgewogICAgICAgICAgICBpZDogMSwKICAgICAgICAgICAgZHVyYXRpb246ICfYp9iu2KrZitin2LEg2YHYqtix2KknCiAgICAgICAgfSwgewogICAgICAgICAgICBpZDogMiwKICAgICAgICAgICAgZHVyYXRpb246ICfYp9iu2KrZitin2LEg2LnYr9ivICAnCiAgICAgICAgfV0sCiAgICAgICAgZXJyb3I6ICcnLAogICAgICAgIG1zZ19lcnJvcl90eHQ6ICfZh9iw2Kcg2KfZhNmK2YjZhSDZhdmD2LHYsSAnLAoKCiAgICAgICAgcGFnZTogMSwKICAgICAgICBwYWdlQ291bnQ6IDAsCiAgICAgICAgaXRlbXM6IFtdLAogICAgICAgIHJlc2VydmF0aW9uX251bTogZmFsc2UsCiAgICAgICAgZWRpdGVkSW5kZXg6IC0xLAogICAgICAgIGVkaXRlZEluZGV4ZGF5OiAtMSwKICAgICAgICBlZGl0ZWRJbmRleHRpbWU6IC0xLAogICAgICAgIG51bWJlcl9vZl9pdGVtczogJycsCiAgICAgICAgZWRpdGVkSW5kZXhJdGVtRmVhdHVyZXM6IC0xLAoKICAgICAgICBlZGl0ZWRJdGVtOiB7CiAgICAgICAgICAgIGl0ZW1fbmFtZTogJycsCiAgICAgICAgICAgIGRlbGl2ZXJhYmxlX2lkOicnLAogICAgICAgICAgICBpdGVtX2Rlc2NyaXB0aW9uOiAnJywKICAgICAgICAgICAgc3ViX2NhdGVnb3J5OiB7CiAgICAgICAgICAgICAgICBjYXRlZ29yeV9pZDogMCwKICAgICAgICAgICAgICAgIGlkOiAwLAogICAgICAgICAgICAgICAgbmFtZTogIiIsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIAogICAgICAgICAgICBBZGRyZXNzOiB7CiAgICAgICAgICAgICAgICBhZGRyZXNzX2Rlc2NyYXB0aW9uOiAnJywKICAgICAgICAgICAgICAgIHByb3ZpbmNlOiB7CiAgICAgICAgICAgICAgICAgICAgaWQ6ICcnLAogICAgICAgICAgICAgICAgICAgIGNvdW50cnlfaWQ6ICcnLAoKICAgICAgICAgICAgICAgIH0sCgoKICAgICAgICAgICAgICAgIGxvbmc6ICcxMicsCiAgICAgICAgICAgICAgICBsYXQ6ICczMycKCiAgICAgICAgICAgIH0sCgogICAgICAgICAgICBJdGVtRmVhdHVyZXM6IFsKCgogICAgICAgICAgICBdLAogICAgICAgICAgICBpbWFnZXM6IFt7CiAgICAgICAgICAgICAgICAgICAgImltYWdlX3VybCI6ICcnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJpbWFnZV91cmwiOiAnJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAiaW1hZ2VfdXJsIjogJycKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgImltYWdlX3VybCI6ICcnCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIHN0YXR1czoKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWQ6JycsCiAgICAgICAgICAgICAgICBzdGF0dXNfbmFtZV9hcjonJwoKICAgICAgICAgICAgfQogICAgICAgICAgICAsCgogICAgICAgICAgICBwcmljZTogewogICAgICAgICAgICAgICAgaWQ6ICcnLAogICAgICAgICAgICAgICAgcHJpY2VfdmFsdWU6ICcnLAogICAgICAgICAgICAgICAgcGF5bWVudDogJycsCiAgICAgICAgICAgICAgICBkZWR1Y3Rpb246IDAsCiAgICAgICAgICAgICAgICBwYXltZW50X3doZW5fcmVjZWl2aW5nOiAnJywKICAgICAgICAgICAgICAgIGZyZWVfY2FuY2VsbGF0aW9uOiAnJywKICAgICAgICAgICAgICAgIHBheW1lbnRfYWZ0ZXJfYXdoaWxlOiAnJywKICAgICAgICAgICAgICAgIGluc3RhbGxtZW50czogJycsCiAgICAgICAgICAgICAgICBjYW5jZWxsYXRpb25fZGVkdWN0aW9uX3JhdGlvOiAnMCcsCgogICAgICAgICAgICB9LAoKCiAgICAgICAgICAgIGNhbG9yaWVzOiAwLAogICAgICAgICAgICBmYXQ6IDAsCiAgICAgICAgICAgIGNhcmJzOiAwLAogICAgICAgICAgICBkaXNjOiAnJywKICAgICAgICAgICAgcHJvdGVpbjogMCwKCgogICAgICAgIH0sCiAgICAgICAgdmFsaWQ6IGZhbHNlLAoKICAgICAgICBkZWR1Y3Rpb246ICcnLAogICAgICAgIGRheXM6IFsi2KfZhNiz2KjYqiIsICLYp9mE2KfYrdivIiwgItin2YTYp9ir2YbZitmGIiwgItin2YTYq9mE2KfYq9in2KEiLCAi2KfZhNin2LHYqNi52KfYoSIsICLYp9mE2K7ZhdmK2LMiLCAi2KfZhNis2YXYudipIiwgItmD2YQg2KfZhNin2YrYp9mFIl0sCiAgICAgICAgdGltZXM6IFsiMTowMCDZhSIsICIyOjAwINmFIiwgIjM6MDAg2YUiLCAiNDowMCDZhSAiLCAiNTowMCDZhSIsICI2OjAwINmFIiwgIjc6MDAg2YUgIiwgIjg6MDAg2YUiLCAiOTowMCDZhSIsCiAgICAgICAgICAgICIxMDowMCDZhSIsCiAgICAgICAgICAgICIxMTowMCDZhSIsICIxMjowMCDZhSIsCiAgICAgICAgICAgICIxOjAwINi1IiwgIjI6MDAg2LUiLCAiMzowMCDYtSIsICI0OjAwINi1ICIsICI1OjAwINi1IiwgIjY6MDAg2LUiLCAiNzowMCDYtSAiLCAiODowMCDYtSIsICI5OjAwINi1IiwKICAgICAgICAgICAgIjEwOjAwINi1IiwKICAgICAgICAgICAgIjExOjAwINi1IiwgIjEyOjAwINi1IgogICAgICAgIF0sCgogICAgICAgIGltZ19jbGljZWQ6IC0xLAogICAgICAgIGRheV90b19vcGVuOiBbewoKICAgICAgICAgICAgZXZlcnlfZGF5OiAwLAogICAgICAgICAgICBldmVyeV90aW1lOiAwLAogICAgICAgICAgICBmcm9tX2RheTogIiIsCiAgICAgICAgICAgIGZyb21fdGltZTogIiIsCiAgICAgICAgICAgIHRvX2RheTogIiIsCiAgICAgICAgICAgIHRvX3RpbWU6ICIiLAogICAgICAgICAgICBtYXhfcmVxdWVzdHM6IDAKICAgICAgICB9XSwKCiAgICAgICAgbmFtZVJ1bGVzOiBbCiAgICAgICAgICAgIHYgPT4gISF2IHx8ICfZh9iw2Kcg2KfZhNit2YLZhCDZhdi32YTZiNioICAnLAoKICAgICAgICBdLAogICAgICAgIG51bWJlclJ1bDogWwogICAgICAgICAgICB2ID0+ICEhdiB8fCAn2YfYsNinINin2YTYrdmC2YQg2YXYt9mE2YjYqCAgJywKCiAgICAgICAgICAgIHYgPT4gIWlzTmFOKHYpIHx8ICfZitis2Kgg2KfYr9iu2KfZhCDYsdmC2YUgJywKICAgICAgICBdLAogICAgICAgIFJlc2VydmF0aW9uVHlwZVJ1bGVzOiBbCiAgICAgICAgICAgIHYgPT4gISF2IHx8ICfZh9iw2Kcg2KfZhNit2YLZhCDZhdi32YTZiNioICAnLAogICAgICAgICAgICB2ID0+ICFpc05hTih2LmlkKSB8fCAn2YrYrNioINin2K/Yrtin2YQg2LHZgtmFICcsCgogICAgICAgIF0sCgogICAgICAgIHRvX3RpbWVSdWxlczogWwogICAgICAgICAgICB2ID0+ICEhdiB8fCAn2YfYsNinINin2YTYrdmC2YQg2YXYt9mE2YjYqCAgJywKICAgICAgICAgICAgdiA9PiAhaXNOYU4odikgfHwgJ9mK2KzYqCDYp9iv2K7Yp9mEINix2YLZhSAnLAoKICAgICAgICBdLAoKICAgICAgICBUaW1lU3RhdHVzUnVsZXM6IFsKICAgICAgICAgICAgdiA9PiAhIXYgfHwgJ9mH2LDYpyDYp9mE2K3ZgtmEINmF2LfZhNmI2KggICcsCiAgICAgICAgICAgIHYgPT4gIWlzTmFOKHYuaWQpIHx8ICfZitis2Kgg2KfYr9iu2KfZhCDYsdmC2YUgJywKCiAgICAgICAgXSwKCiAgICAgICAgcGF5bWVudFJ1bDogWwogICAgICAgICAgICB2ID0+ICEhdiB8fCAn2YfYsNinINin2YTYrdmC2YQg2YXYt9mE2YjYqCAgJywKCiAgICAgICAgICAgIHYgPT4gIWlzTmFOKHYpIHx8ICfZitis2Kgg2KfYr9iu2KfZhCDYsdmC2YUgJywKCiAgICAgICAgXSwKICAgICAgICBEYXlTdGF0dXNSdWxlczogWwogICAgICAgICAgICB2ID0+ICEhdiB8fCAn2YfYsNinINin2YTYrdmC2YQg2YXYt9mE2YjYqCAgJywKCiAgICAgICAgICAgIHYgPT4gIWlzTmFOKHYpIHx8ICfZitis2Kgg2KfYr9iu2KfZhCDYsdmC2YUgJywKCiAgICAgICAgXSwKICAgICAgICAvLyJeWzAtOV0rJCIKCgogICAgICAgIEl0ZW1OdW1iZXJSdWxlczogWwogICAgICAgICAgICAodikgPT4gKC9eWzAtOV0rJC8udGVzdCh2KSB8fCB2Lmxlbmd0aCA8IDEpIHx8CiAgICAgICAgICAgICfYp9ix2YLYp9mFINmB2YLYtycsCgoKICAgICAgICBdLAoKCiAgICAgICAgbnVtYmVyUnVsMTogWwoKICAgICAgICAgICAgdiA9PiAhaXNOYU4odikgfHwgJ9mK2KzYqCDYp9iv2K7Yp9mEINix2YLZhSAnLAogICAgICAgIF0sCiAgICAgICAgZGVzY3JpcHRSdWxlczogWwogICAgICAgICAgICB2ID0+ICEhdiB8fCAn2YfYsNinINin2YTYrdmC2YQg2YXYt9mE2YjYqCAgJywKICAgICAgICAgICAgdiA9PiB2Lmxlbmd0aCA+PSAyMCB8fCAn2YrYrNioINin2YYg2YrZg9mI2YYg2KfZhNmI2LXZgSDYp9mD2KvYsSDZhdmGINmi2aAg2K3YsdmBICcsCiAgICAgICAgXSwKICAgICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgICBwcm92aW5jZTogW10sCiAgICAgICAgaW1hZ2VOYW1lOiAnJywKICAgICAgICBpbWFnZVVybDogJycsCiAgICAgICAgY291bnRyaWVzOiBbewogICAgICAgICAgICBuYW1lOiAn2KfZhNi52LHYp9mCJywKICAgICAgICAgICAgaWQ6IDEKICAgICAgICB9XSwKICAgICAgICBpbWFnZUZpbGU6ICcnLAoKCiAgICAgICAgcGF5bWVudDogZmFsc2UsCiAgICAgICAgaW1hZ2VzOiBbJ2EnLCAnYScsICdhJywgJ2EnXSwKICAgICAgICBmcmVlX2NhbmNlbGxhdGlvbjogZmFsc2UsCiAgICAgICAgZGVkdWN0aW9udmFsdWU6IDAsCiAgICAgICAgZXZlcnlkYXk6IGZhbHNlLAogICAgICAgIGV2ZXJ5dGltZTogZmFsc2UsCiAgICAgICAgZnJvbWRheTogJycsCiAgICAgICAgdG9kYXk6ICcnLAogICAgICAgIGZyb210aW1lOiAnJywKICAgICAgICB0b3RpbWU6ICcnLAogICAgICAgIGN1cnJlbnRfcGFnZTogMSwKICAgICAgICBsYXN0X3BhZ2U6IDAsCiAgICAgICAgb2ZmZXJfZGlhbG9nOiBmYWxzZSwKICAgICAgICBzdWJjYXRlZ29yeTogW10sCiAgICAgICAgc3ViX2NhdGVnb3J5X2lkOiAnJywKICAgICAgICBjYXRlZ29yeTogW10sCiAgICAgICAgcmVzZXJ2X3R5cGVfaWQxOiAtMSwKICAgICAgICB2YWxpZF9kYXk6IHRydWUsCiAgICAgICAgLy8gZWRpdGVkSXRlbS5BZGRyZXNzLmFkZHJlc3NfZGVzY3JhcHRpb246ICcnLAogICAgICAgIGxhdDogMCwKICAgICAgICBsbmc6IDAsCgoKICAgIH0pLAoKCgogICAgbWV0aG9kczogewogICAgICAgIHh4KCkgewogICAgICAgICAgICB0aGlzLmVkaXRlZEluZGV4dGltZSA9IC0xOwogICAgICAgICAgICB0aGlzLmVkaXRlVGltZU9wZW4gPSB7CgogICAgICAgICAgICAgICAgaWQ6ICcnLAogICAgICAgICAgICAgICAgYWN0aW9uX2lkOiAnJywKICAgICAgICAgICAgICAgIGZyb21fdGltZTogJycsCiAgICAgICAgICAgICAgICB0b190aW1lOiAnJywKICAgICAgICAgICAgICAgIG1heF9yZXF1ZXN0OiAnJywKICAgICAgICAgICAgICAgIHJlc2VydmF0aW9uc19udW1iZXI6ICcnLAogICAgICAgICAgICAgICAgc3RhdHVzOiB7CiAgICAgICAgICAgICAgICAgICAgaWQ6ICcnLAogICAgICAgICAgICAgICAgICAgIHN0YXR1c19uYW1lX2FyOiAnJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHJlc2VydmF0aW9uX3R5cGU6IHsKICAgICAgICAgICAgICAgICAgICBpZDogJycsCiAgICAgICAgICAgICAgICAgICAgcmVzZXJ2YXRpb25fdHlwZV9uYW1lOiAnJwogICAgICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIH0KCiAgICAgICAgfSwKICAgICAgICBjYW5jZWxfZGF5KCkgewogICAgICAgICAgICBpZiAodGhpcy4kcmVmcy52YWxpZF9kYXlfb3Blbi52YWxpZGF0ZSgpKSB7CgogICAgICAgICAgICAgICAgaWYgKHRoaXMuZWRpdGVEYXlPcGVuLnN0YXR1cyA9PSA2ICYmIHRoaXMuZWRpdGVkSXRlbS5kYXlfdG9fb3Blblt0aGlzLmVkaXRlZEluZGV4ZGF5XS50aW1lX3RvX29wZW4KICAgICAgICAgICAgICAgICAgICAubGVuZ3RoID09IDApIHsKCiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ9mK2LHYrNimINin2K7YqtmK2KfYsSDZiNmC2Kog2KfYsNinINmD2KfZhiDYp9mE2YXYsdmD2LIg2YXZgdiq2YjYrSDZgdmKINmH2KfYsNinINin2YTZitmI2YUnKTsKCgogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRlZEl0ZW0uZGF5X3RvX29wZW5bdGhpcy5lZGl0ZWRJbmRleGRheV0uc3RhdHVzWydpZCddID0gdGhpcy5lZGl0ZURheU9wZW4uc3RhdHVzLmlkOwogICAgICAgICAgICAgICAgICAgIHRoaXMuRGF5RGlhbG9nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lX2RpYWxvZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGVUaW1lT3BlbiA9IHsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uX2lkOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgZnJvbV90aW1lOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgdG9fdGltZTogJycsCiAgICAgICAgICAgICAgICAgICAgICAgIG1heF9yZXF1ZXN0OiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXJ2YXRpb25zX251bWJlcjogJycsCiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzX25hbWVfYXI6ICcnCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2VydmF0aW9uX3R5cGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2VydmF0aW9uX3R5cGVfbmFtZTogJycKICAgICAgICAgICAgICAgICAgICAgICAgfSwKCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIH0KCgoKICAgICAgICAgICAgfQoKCgoKCiAgICAgICAgfSwKICAgICAgICBjbG9zZV90aW1lX0RhaWxvZygpIHsKICAgICAgICAgICAgdGhpcy5lZGl0ZWRJbmRleHRpbWUgPSAtMTsKICAgICAgICAgICAgdGhpcy50aW1lX2RpYWxvZyA9IGZhbHNlOwogICAgICAgIH0sCgoKICAgICAgICBlZGl0ZWRUaW1lT3BlbihpdGVtKSB7CiAgICAgICAgICAgIHRoaXMuZWRpdGVkSW5kZXh0aW1lID0gdGhpcy5lZGl0ZURheU9wZW4udGltZV90b19vcGVuLmluZGV4T2YoaXRlbSkKICAgICAgICAgICAgdGhpcy5lZGl0ZVRpbWVPcGVuID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSk7CgoKICAgICAgICB9LAogICAgICAgIFNldERheVN0YXR1cygpIHsKCiAgICAgICAgfSwKCiAgICAgICAgc2F2ZV90aW1lKCkgewoKCiAgICAgICAgICAgIGlmICghdGhpcy5lZGl0ZVRpbWVPcGVuLnJlc2VydmF0aW9uX3R5cGUuaWQgPT0gJyAnIHx8ICF0aGlzLmVkaXRlVGltZU9wZW4ucmVzZXJ2YXRpb25fdHlwZS5pZCA9PSBudWxsICYmCiAgICAgICAgICAgICAgICAhdGhpcy5lZGl0ZVRpbWVPcGVuLnRvX3RpbWUgPT0gJyAnIHx8ICF0aGlzLmVkaXRlVGltZU9wZW4udG9fdGltZSA9PSBudWxsKQoKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWYgKCF0aGlzLmVkaXRlVGltZU9wZW4uc3RhdHVzLmlkID09IG51bGwgfHwgIXRoaXMuZWRpdGVUaW1lT3Blbi5zdGF0dXMuaWQgPT0gJyAnICYmICF0aGlzCiAgICAgICAgICAgICAgICAgICAgLmVkaXRlVGltZU9wZW4uZnJvbV90aW1lID09ICcgJyB8fCAhdGhpcy5lZGl0ZVRpbWVPcGVuLmZyb21fdGltZSA9PSBudWxsKSB7CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMuJHJlZnMudmFsaWRfZGF5X29wZW4udmFsaWRhdGUoKSkgewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVkaXRlZEluZGV4dGltZSA+IC0xKSB7CgoKICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmVkaXRlRGF5T3Blbi50aW1lX3RvX29wZW5bdGhpcy5lZGl0ZWRJbmRleHRpbWVdLCB0aGlzLmVkaXRlVGltZU9wZW4pOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlX3RpbWVfRGFpbG9nKCk7CgoKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewoKCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGVEYXlPcGVuLnRpbWVfdG9fb3Blbi5wdXNoKHRoaXMuZWRpdGVUaW1lT3Blbik7CgogICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZWRpdGVkSXRlbS5kYXlfdG9fb3Blblt0aGlzLmVkaXRlZEluZGV4ZGF5XS50aW1lX3RvX29wZW4sIHRoaXMKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5lZGl0ZVRpbWVPcGVuKQoKCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZvcih2YXIgaT0wO2k8PXRoaXMuZWRpdGVkSXRlbS5kYXlfdG9fb3Blblt0aGlzLmVkaXRlZEluZGV4ZGF5XS50aW1lX3RvX29wZW4ubGVuZ3RoO2krKykKICAgICAgICAgICAgICAgICAgICAgICAgLy8gewogICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgaWYodGhpcy5lZGl0ZWRJdGVtLmRheV90b19vcGVuW3RoaXMuZWRpdGVkSW5kZXhkYXldWydzdGF0dXMnXT09NikKICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB0aGlzLmVkaXRlZEl0ZW0uZGF5X3RvX29wZW5bdGhpcy5lZGl0ZWRJbmRleGRheV1bJ3N0YXR1cyddPTY7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgYnJlYWs7CgoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgdGhpcy5lZGl0ZWRJdGVtLmRheV90b19vcGVuW3RoaXMuZWRpdGVkSW5kZXhkYXldWydzdGF0dXMnXT03OwoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH0KCgogICAgICAgICAgICAgICAgICAgICAgICAvLyB9CgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlX3RpbWVfRGFpbG9nKCk7CgoKCgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmNsb3NlKCkKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgLy8gfQoKCgoKCgogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn2YrYsdis2KYg2YXZhNimINis2YXZiti5INin2YTYrdmC2YjZhCcpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgYWxlcnQoJ9mK2LHYrNimINmF2YTYpiDYrNmF2YrYuSDYp9mE2K3ZgtmI2YQnKTsKICAgICAgICAgICAgfQoKCgogICAgICAgIH0sCgoKICAgICAgICB0cigpIHsKICAgICAgICAgICAgaWYgKHRoaXMuZWRpdGVkSXRlbS5wcmljZS5wYXltZW50X3doZW5fcmVjZWl2aW5nID09IDIpIHsKICAgICAgICAgICAgICAgIHRoaXMuZWRpdGVkSXRlbS5wcmljZS5wYXltZW50X3doZW5fcmVjZWl2aW5nID0gMDsKCiAgICAgICAgICAgIH0KCiAgICAgICAgfSwKCiAgICAgICAgZWRpdEl0ZW1GZWF0dXJlcyhpdGVtKSB7CiAgICAgICAgICAgIHRoaXMuZWRpdGVkSW5kZXhJdGVtRmVhdHVyZXMgPSB0aGlzLmVkaXRlZEl0ZW0uSXRlbUZlYXR1cmVzLmluZGV4T2YoaXRlbSkKICAgICAgICAgICAgdGhpcy5lZGl0ZUl0ZW1GZWF0dXJlcyA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pCiAgICAgICAgICAgIHRoaXMuSXRlbUZlYXR1cmVzRGlhbG9nID0gdHJ1ZTsKCiAgICAgICAgfSwKICAgICAgICBBZGRJdGVtRmVhdHVyZXMoKSB7CiAgICAgICAgICAgIHRoaXMuZWRpdGVJdGVtRmVhdHVyZXMgPSB7fTsKICAgICAgICAgICAgdGhpcy5JdGVtRmVhdHVyZXNEaWFsb2cgPSB0cnVlOwogICAgICAgIH0sCgogICAgICAgIERlbGV0ZUl0ZW1GZWF0dXJlcyhpdGVtKSB7CgoKCiAgICAgICAgICAgIGNvbnN0IFN3YWwgPSByZXF1aXJlKCdzd2VldGFsZXJ0MicpCgoKCgoKCiAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICB0aXRsZTogItmH2YQg2KfZhtiqINmF2KrYp9mD2K8g2YXZhiDYp9mE2K3YsNmBINifIiwKCiAgICAgICAgICAgICAgICBpY29uOiAid2FybmluZyIsCiAgICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAnIzMwODVkNicsCiAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogJyNkMzMnLAogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdZZXMsIGRlbGV0ZSBpdCEnCgogICAgICAgICAgICB9KS50aGVuKCgpID0+IHsKCiAgICAgICAgICAgICAgICBpZiAoaXRlbS5pZCA9PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5lZGl0ZWRJdGVtLkl0ZW1GZWF0dXJlcy5pbmRleE9mKGl0ZW0pCiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0ZWRJdGVtLkl0ZW1GZWF0dXJlcy5zcGxpY2UoaW5kZXgsIDEpCgogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuZWRpdGVkSXRlbS5JdGVtRmVhdHVyZXMuaW5kZXhPZihpdGVtKQogICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGVkSXRlbS5JdGVtRmVhdHVyZXMuc3BsaWNlKGluZGV4LCAxKQogICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSAiL0l0ZW1GZWF0dXJlcy9vd25lci9kZWxldGUvIiArIGl0ZW0uaWQ7CiAgICAgICAgICAgICAgICAgICAgYXhpb3MoewogICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdkZWxldGUnLAogICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCwKICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewoKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gewoKCgogICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSwKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0ZWRJdGVtLmltYWdlc1tpbmRleF0uaW1hZ2VfdXJsID0gJ2EnOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmltZ19uYW1lID0gaW5kZXg7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VzW2luZGV4XSA9ICdhJzsKCiAgICAgICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICfYqtmFINin2YTYrdiw2YEg2KjZhtis2KfYrScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdWNjZXNzJwogICAgICAgICAgICAgICAgICAgICAgICApCgogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IKICAgICAgICAgICAgICAgICAgICB9KS5maW5hbGx5KGQgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBkLAoKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRpdGVtcygpOwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIH0pCgogICAgICAgICAgICAvLyBjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgaXRlbT8nKSAmJnRoaXMuZWRpdGVkSXRlbS5JdGVtRmVhdHVyZXMuc3BsaWNlKGluZGV4LCAxKQoKICAgICAgICB9LAogICAgICAgIHNhdmVfSXRlbUZlYXR1cmVzKCkgewoKICAgICAgICAgICAgaWYgKHRoaXMuJHJlZnMudmFsaWRfSXRlbUZlYXR1cmVzKSB7CgoKICAgICAgICAgICAgICAgIGlmICh0aGlzLmVkaXRlZEluZGV4SXRlbUZlYXR1cmVzID4gLTEpIHsKCiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmVkaXRlZEl0ZW0uSXRlbUZlYXR1cmVzW3RoaXMuZWRpdGVkSW5kZXhJdGVtRmVhdHVyZXNdLCB0aGlzCiAgICAgICAgICAgICAgICAgICAgICAgIC5lZGl0ZUl0ZW1GZWF0dXJlcykKCiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZWRpdGVJdGVtRmVhdHVyZXMpOwoKICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRlZEl0ZW0uSXRlbUZlYXR1cmVzLnB1c2godGhpcy5lZGl0ZUl0ZW1GZWF0dXJlcykKCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLkl0ZW1GZWF0dXJlc0RpYWxvZyA9IGZhbHNlCiAgICAgICAgICAgIH0KCgogICAgICAgIH0sCiAgICAgICAgLy8gc2F2ZV9kYXRlKCkgewoKICAgICAgICAvLyAgICAgaWYgKHRoaXMuZWRpdGVkYXlfdG9fb3Blbi5zdGF0dXMuaWQgPT0gNikgewogICAgICAgIC8vICAgICAgICAgaWYgKHRoaXMuZWRpdGVkYXlfdG9fb3Blbi50aW1lX3RvX29wZW5bMF0uZnJvbV90aW1lID09IG51bGwgfHwgdGhpcy5lZGl0ZWRheV90b19vcGVuLnRpbWVfdG9fb3BlblswXQogICAgICAgIC8vICAgICAgICAgICAgIC5mcm9tX3RpbWUgPT0gJycpIHsKICAgICAgICAvLyAgICAgICAgICAgICBhbGVydCgn2YrYrNioINin2K7YqtmK2KfYsSDZgdiq2LHZhyDYp9iw2Kcg2YPYp9mG2Kog2K3Yp9mE2Ycg2KfZhNmF2LHZg9iyINmF2YHYqtmI2K0g2YHZiiDZh9in2LDYpyDYp9mE2YrZiNmFJyk7CiAgICAgICAgLy8gICAgICAgICB9IGVsc2UgaWYgKHRoaXMuJHJlZnMudmFsaWRfZGF5X29wZW4udmFsaWRhdGUoKSkgewogICAgICAgIC8vICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5kYXlfdG9fb3Blblt0aGlzLmVkaXRlZEluZGV4ZGF5XSwgdGhpcy5lZGl0ZWRheV90b19vcGVuKQogICAgICAgIC8vICAgICAgICAgICAgIHRoaXMuRGF5RGlhbG9nID0gZmFsc2UKCiAgICAgICAgLy8gICAgICAgICB9CgogICAgICAgIC8vICAgICB9IGVsc2UgewogICAgICAgIC8vICAgICAgICAgaWYgKHRoaXMuJHJlZnMudmFsaWRfZGF5X29wZW4udmFsaWRhdGUoKSkgewogICAgICAgIC8vICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5kYXlfdG9fb3Blblt0aGlzLmVkaXRlZEluZGV4ZGF5XSwgdGhpcy5lZGl0ZWRheV90b19vcGVuKQogICAgICAgIC8vICAgICAgICAgICAgIHRoaXMuRGF5RGlhbG9nID0gZmFsc2UKICAgICAgICAvLyAgICAgICAgIH0KICAgICAgICAvLyAgICAgfQoKICAgICAgICAvLyB9LAoKICAgICAgICBzYXZlX2RhdGUoKSB7CiAgICAgICAgICAgIC8vIGFsZXJ0KHRoaXMuZWRpdGVkSW5kZXh0aW1lKTsKCiAgICAgICAgICAgIGlmICh0aGlzLmVkaXRlRGF5T3Blbi5zdGF0dXMuaWQgPT0gNikgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuZWRpdGVUaW1lT3Blbi5mcm9tX3RpbWUgPT0gbnVsbCB8fCB0aGlzLmVkaXRlVGltZU9wZW4uZnJvbV90aW1lID09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ9mK2KzYqCDYp9iu2KrZitin2LEg2YHYqtix2Ycg2KfYsNinINmD2KfZhtiqINit2KfZhNmHINin2YTZhdix2YPYsiDZhdmB2KrZiNitINmB2Yog2YfYp9iw2Kcg2KfZhNmK2YjZhScpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLiRyZWZzLnZhbGlkX2RheV9vcGVuLnZhbGlkYXRlKCkpIHsKICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZWRpdGVkSXRlbS5kYXlfdG9fb3Blblt0aGlzLmVkaXRlZEluZGV4dGltZV0sIHRoaXMuZWRpdGVkVGltZU9wZW4pCiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lX2RpYWxvZyA9IGZhbHNlCgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLiRyZWZzLnZhbGlkX2RheV9vcGVuLnZhbGlkYXRlKCkpIHsKICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZWRpdGVkSXRlbS5kYXlfdG9fb3Blblt0aGlzLmVkaXRlZEluZGV4dGltZV0sIHRoaXMuZWRpdGVkVGltZU9wZW4pCiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lX2RpYWxvZyA9IGZhbHNlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgfSwKCiAgICAgICAgZWRpdEl0ZW0oaXRlbSkgewoKICAgICAgICAgICAgdGhpcy5lZGl0ZWRJbmRleGRheSA9IHRoaXMuZWRpdGVkSXRlbS5kYXlfdG9fb3Blbi5pbmRleE9mKGl0ZW0pCiAgICAgICAgICAgIC8vLyBhbGVydCh0aGlzLmVkaXRlZEluZGV4ZGF5KTsKICAgICAgICAgICAgLy8gICBhbGVydCh0aGlzLmVkaXRlZEluZGV4ZGF5KTsKICAgICAgICAgICAgdGhpcy5lZGl0ZURheU9wZW4gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKQogICAgICAgICAgICB0aGlzLkRheURpYWxvZyA9IHRydWUKICAgICAgICAgICAgaWYgKGl0ZW0ucmVzZXJ2YXRpb25fdHlwZS5pZCA9PSAyKSB7CiAgICAgICAgICAgICAgICB0aGlzLnJlc2VydmF0aW9uX251bSA9IHRydWU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLnJlc2VydmF0aW9uX251bSA9IGZhbHNlOwoKICAgICAgICAgICAgfQogICAgICAgIH0sCgoKCiAgICAgICAgZ2V0ZGF5cyhpbmRleCkgewogICAgICAgICAgICB2YXIgZGF5cyA9IFsi2Kfvu7fYrdivIiwgItin77u32KvZhtmK2YYiLCAi2KfZhNir2YTYp9ir2KfYoSIsICLYp++7t9ix2KjYudin2KEiLCAi2KfZhNiu2YXZitizIiwgItin2YTYrNmF2LnYqSIsICLYp9mE2LPYqNiqIl07CgogICAgICAgICAgICByZXR1cm4gZGF5c1tpbmRleF07CiAgICAgICAgfSwKCiAgICAgICAgZ2V0c3RhdHVzKGluZGV4KSB7CiAgICAgICAgICAgIGlmIChpbmRleCA9PSA3KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJ9mF2LrZhNmCJzsKICAgICAgICAgICAgfSBlbHNlIGlmIChpbmRleCA9PSA2KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJ9mF2YHYqtmI2K0nOwoKICAgICAgICAgICAgfQoKCiAgICAgICAgfSwKICAgICAgICBnZXRzdGF0dXNzKGluZGV4KSB7CiAgICAgICAgICAgIGlmIChpbmRleCA9PSAxKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJ9i62YrYsSDZhdit2K/Yryc7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT0gMikgewogICAgICAgICAgICAgICAgcmV0dXJuICfYp9iu2KrZitin2LEg2LnYr9ivJzsKCiAgICAgICAgICAgIH0KCgogICAgICAgIH0sCiAgICAgICAgZ2V0SXRlbURldGFpbHMoKSB7CgoKCgoKICAgICAgICAgICAgdmFyIHVybCA9ICIvdjIvaXRlbXMvc2hvdy8iICsgdGhpcy5pdGVtX2lkOwogICAgICAgICAgICB0aGlzLiRodHRwKHsKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdnZXQnLAogICAgICAgICAgICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0ZWRJdGVtID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgIHRoaXMuaW1ncyA9IHRoaXMuZWRpdGVkSXRlbS5pbWFnZXM7CiAgICAgICAgICAgICAgICAgICAgLy8gIHRoaXMuRGF5T3BlbiA9IHJlc3BvbnNlLmRhdGEuZGF0YS5kYXlfdG9fb3BlbjsKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lZGl0ZWRJdGVtLnByaWNlLnBheW1lbnRfd2hlbl9yZWNlaXZpbmcgPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRlZEl0ZW0ucHJpY2UucGF5bWVudF93aGVuX3JlY2VpdmluZyA9IDI7CiAgICAgICAgICAgICAgICAgICAgfQoKCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZWRpdGVkSXRlbS5pbWFnZXMubGVuZ3RoIDwgNCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29tcGxldEltZ0FycmF5TGVuZ3RoID0gNCAtIHRoaXMuZWRpdGVkSXRlbS5pbWFnZXMubGVuZ3RoOwoKICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21wbGV0SW1nQXJyYXlMZW5ndGg7IGkrKykgewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGVkSXRlbS5pbWFnZXMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VfcGF0aDogJ2EnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCA0OyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZWRpdGVkSXRlbS5pbWFnZXNbaV0uaW1hZ2VfcGF0aCAhPSAnYScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VzW2ldID0gImh0dHA6Ly8xMDkuMjI0LjI3Ljk6ODEvaW1hZ2VzLyIgKyB0aGlzLmVkaXRlZEl0ZW0uaW1hZ2VzW2ldCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmltYWdlX3VybDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRTdWJDYXRlZ29yeSgpOwoKCgoKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgfSwKCgogICAgICAgIGRlbGV0ZV9pbWcoaW1nX2lkLCBpbmRleCkgewoKCiAgICAgICAgICAgIHRoaXMudXNlcl9pbmZvID0gdGhpcy4kY29va2llcy5nZXQoJ2FkbWluX2luZm8nKTsKCgogICAgICAgICAgICBjb25zdCBTd2FsID0gcmVxdWlyZSgnc3dlZXRhbGVydDInKTsKCgoKICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgIHRpdGxlOiAi2YfZhCDYp9mG2Kog2YXYqtin2YPYryDZhdmGINin2YTYrdiw2YEg2J8iLAoKICAgICAgICAgICAgICAgIGljb246ICJ3YXJuaW5nIiwKICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjMzA4NWQ2JywKICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAnI2QzMycsCiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ1llcywgZGVsZXRlIGl0IScKCiAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuaW1nX2NsaWNlZCA9IGluZGV4OwoKCiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0ZWRJdGVtLmltYWdlc1tpbmRleF0uaW1hZ2VfdXJsID0gJ2EnOwogICAgICAgICAgICAgICAgICAgIHRoaXMuaW1nX25hbWUgPSBpbmRleDsKICAgICAgICAgICAgICAgICAgICB0aGlzLmltYWdlc1tpbmRleF0gPSAnYSc7CgogICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSAiL3YyL2l0ZW1zL2RlbGV0ZV9pbWFnZS8iICsgaW1nX2lkOwogICAgICAgICAgICAgICAgICAgIGF4aW9zKHsKICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CgogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gewoKICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UsCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGVkSXRlbS5pbWFnZXNbaW5kZXhdLmltYWdlX3VybCA9ICdhJzsKICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3QgaW1wb3J0YW50CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW1nX25hbWUgPSBpbmRleDsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWFnZXNbaW5kZXhdID0gJ2EnOwoKICAgICAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ9iq2YUg2KfZhNit2LDZgSDYqNmG2KzYp9itJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnCiAgICAgICAgICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBlcnJvcgogICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy4kc3dhbCgn2K7Yt9in2KEnLCAi2K7Yt9in2KEg2KjYp9mE2KfYqti12KfZhCIsICdlcnJvcicpCiAgICAgICAgICAgICAgICAgICAgfSkuZmluYWxseShkID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgZCwKCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0aXRlbXMoKTsKICAgICAgICAgICAgICAgICAgICB9KTsKCgoKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKCgoKCiAgICAgICAgfSwKCgogICAgICAgIGNhbmNlbCgpIHsKICAgICAgICAgICAgdGhpcy4kcmVmcy5mb3JtLnJlc2V0KCksCiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCJjaGFuZ2VTdGF0dXMiLCBmYWxzZSk7CiAgICAgICAgfSwKCiAgICAgICAgZWRpdHQoKSB7CiAgICAgICAgICAgIC8vIGFsZXJ0KHRoaXMuaXRlbV9pZCk7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoImVkaXRlX2l0ZW0iKTsKCiAgICAgICAgfSwKCiAgICAgICAgc3RlcDEoKSB7CiAgICAgICAgICAgIHRoaXMuZTEgPSAxOwogICAgICAgICAgICB0aGlzLkNoZWNrX1ByaW1lcnkoKTsKCgogICAgICAgIH0sCgogICAgICAgIHN0ZXAyKCkgewoKICAgICAgICAgICAgdGhpcy5lMSA9IDI7CiAgICAgICAgICAgIHRoaXMuQ2hlY2tfUHJpbWVyeSgpOwogICAgICAgICAgICAvLyB0aGlzLkNoZWNrX3BheW1lbnQoKTsKICAgICAgICAgICAgLy8gdGhpcy5DaGVja19hZGRyZXNzKCk7CgoKICAgICAgICB9LAoKCiAgICAgICAgc3RlcDMoKSB7CiAgICAgICAgICAgIHRoaXMuZTEgPSAzOwogICAgICAgICAgICB0aGlzLkNoZWNrX1ByaW1lcnkoKTsKICAgICAgICAgICAgdGhpcy5DaGVja19hZGRyZXNzKCk7CiAgICAgICAgICAgIC8vICB0aGlzLkNoZWNrX2RhdGUoKTsKICAgICAgICAgICAgLy8gdGhpcy5DaGVja19wYXltZW50KCk7CgoKICAgICAgICB9LAoKCgoKCgoKCgoKCgogICAgICAgIENoZWNrX1ByaW1lcnkoKSB7CgoKCgogICAgICAgICAgICB0aGlzLmVycm9yc19wcmltZXJ5ID0gW107CgogICAgICAgICAgICBpZiAoIXRoaXMuZWRpdGVkSXRlbS5pdGVtX25hbWUgfHwgIXRoaXMuZWRpdGVkSXRlbS5zdWJfY2F0ZWdvcnkuY2F0ZWdvcnlfaWQgfHwgIXRoaXMuZWRpdGVkSXRlbQogICAgICAgICAgICAgICAgLnN1Yl9jYXRlZ29yeQogICAgICAgICAgICAgICAgLmlkIHx8ICF0aGlzLmVkaXRlZEl0ZW0uaXRlbV9kZXNjcmlwdGlvbikgewoKCiAgICAgICAgICAgICAgICB0aGlzLmVycm9yc19wcmltZXJ5LnB1c2goItmK2LHYrNimINmF2YTYpiDYp9mE2K3ZgtmI2YQiKTsKICAgICAgICAgICAgfQoKCiAgICAgICAgICAgIGlmICh0aGlzLmVycm9yc19wcmltZXJ5Lmxlbmd0aCkgewogICAgICAgICAgICAgICAgdGhpcy5lcjEgPSBmYWxzZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuZXIxID0gdHJ1ZTsKICAgICAgICAgICAgfQoKCiAgICAgICAgfSwKCgoKICAgICAgICBDaGVja19hZGRyZXNzKCkgewoKICAgICAgICAgICAgdGhpcy5lcnJvcnNfYWRkcmVzcyA9IFtdOwogICAgICAgICAgICBpZiAoIXRoaXMuZWRpdGVkSXRlbS5BZGRyZXNzLnByb3ZpbmNlLmNvdW50cnlfaWQgfHwgIXRoaXMuZWRpdGVkSXRlbS5BZGRyZXNzLnByb3ZpbmNlLmlkIHx8ICF0aGlzCiAgICAgICAgICAgICAgICAuZWRpdGVkSXRlbS5BZGRyZXNzLmFkZHJlc3NfZGVzY3JhcHRpb24pIHsKICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JzX2FkZHJlc3MucHVzaCgi2YrYsdis2KYg2YXZhNimINin2YTYrdmC2YjZhCIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0aGlzLmVycm9yc19hZGRyZXNzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgdGhpcy5lcl9hZGRyZXNzID0gZmFsc2U7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmVyX2FkZHJlc3MgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCgogICAgICAgIENoZWNrX3BheW1lbnQoKSB7CgogICAgICAgICAgICB0aGlzLmVycm9yc19wYXltZW50ID0gW107CgoKICAgICAgICAgICAgaWYgKCF0aGlzLiRyZWZzLnZhbGlkX3BheW1lbnQudmFsaWRhdGUoKSkgewogICAgICAgICAgICAgICAgdGhpcy5lcnJvcnNfcGF5bWVudC5wdXNoKCLZitix2KzYpiDZhdmE2KYg2KfZhNit2YLZiNmEIik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZWRpdGVkSXRlbS5wcmljZS5wcmljZV92YWx1ZSApIHsKCiAgICAgICAgICAgIC8vICAgaWYgKHRoaXMuZWRpdGVkSXRlbS5wcmljZS5wYXltZW50X3doZW5fcmVjZWl2aW5nICE9PTEgfHwgdGhpcy5lZGl0ZWRJdGVtLnByaWNlLnBheW1lbnRfd2hlbl9yZWNlaXZpbmcgIT09MCApIHsKCgogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JzX3BheW1lbnQucHVzaCgi2YrYsdis2KYg2KrYrdiv2YrYryDYt9ix2YrZgtmHINin2YTYr9mB2LkiKTsKICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvcnNfcGF5bWVudC5wdXNoKCLZitix2KzYpiDZhdmE2KYg2KfZhNit2YLZiNmEIik7CiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZXJyb3JzX3BheW1lbnQubGVuZ3RoKSB7CiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcl9wYXltZW50ID0gZmFsc2U7CiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJfcGF5bWVudCA9IHRydWU7CiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAgICAgfSwKCgoKCgogICAgICAgIGdldGxvY2F0aW9uKGxhdCwgbG5nKSB7CgogICAgICAgICAgICB0aGlzLmVkaXRlZEl0ZW0uYWRkcmVzcy5sYXQgPSBsYXQ7CiAgICAgICAgICAgIHRoaXMuZWRpdGVkSXRlbS5hZGRyZXNzLmxvbmcgPSBsbmcKICAgICAgICAgICAgdGhpcy5tYXBfZGlhbG9nID0gZmFsc2U7CgoKICAgICAgICB9LAogICAgICAgIHByaWNlX3BlcmNlbnRhZ2UodikgewoKICAgICAgICAgICAgdGhpcy5vZmZlcl9pbmZvLm5ld19wcmljZSA9IHRoaXMub2ZmZXJfaW5mby5vbGRfcHJpY2U7CiAgICAgICAgICAgIHRoaXMub2ZmZXJfaW5mby5uZXdfcHJpY2UgPSB0aGlzLm9mZmVyX2luZm8ub2xkX3ByaWNlIC0gKHRoaXMub2ZmZXJfaW5mby5vbGRfcHJpY2UgKiAodiAvIDEwMCkpOwogICAgICAgICAgICB0aGlzLm9mZmVyX2luZm8uZGlzY291bnRfcGVyY2VudGFnZSA9IHY7CgoKCiAgICAgICAgfSwKCgoKCgoKCiAgICAgICAgY2hhbmdlX3RpbWVkYXkoKSB7CiAgICAgICAgICAgIHRoaXMuZGF5X3RvX29wZW4ubGVuZ3RoID0gMDsKICAgICAgICB9LAogICAgICAgIHNlbGVjdF9yZXNlcl90eXBlMShpZCkgewoKICAgICAgICAgICAgdGhpcy5yZXNlcnZfdHlwZV9pZDEgPSBpZDsKICAgICAgICB9LAogICAgICAgIHNlbGVjdF9yZXNlcl90eXBlKGlkKSB7CgogICAgICAgICAgICB0aGlzLnJlc2Vydl90eXBlX2lkID0gaWQ7CiAgICAgICAgICAgIGlmIChpZCA9PSAxKSB7CiAgICAgICAgICAgICAgICB0aGlzLmJvb2tfZHVyX3N0YXR1cyA9IHRydWU7CiAgICAgICAgICAgICAgICB0aGlzLmJvb2tfbnVtX3N0YXR1cyA9IGZhbHNlOwogICAgICAgICAgICB9IGVsc2UgaWYgKGlkID09IDIpIHsKICAgICAgICAgICAgICAgIHRoaXMuYm9va19kdXJfc3RhdHVzID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLmJvb2tfbnVtX3N0YXR1cyA9IHRydWU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmJvb2tfZHVyX3N0YXR1cyA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy5ib29rX251bV9zdGF0dXMgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIGFsbG93ZWRIb3Vycyh2KSB7CiAgICAgICAgICAgIHYKCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9LAoKICAgICAgICBjb21wdXRfbWF4UmVxdWVzdChpZCwgdGltZV9kdXJhdGlvbiwgZnJvbV90aW0sIHRvX3RpbSkgewoKICAgICAgICAgICAgaWYgKGlkID09IDApIHsKICAgICAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgICAgICB9IGVsc2UgaWYgKGlkID09IDEpIHsKICAgICAgICAgICAgICAgIC8vIHRoaXMucmVzZXJ2YXRpb25fZHVyYXRpb24KCiAgICAgICAgICAgICAgICB2YXIgZnJvbV9ob3VyID0gcGFyc2VJbnQoZnJvbV90aW0uc3BsaXQoIjoiKVswXSkKICAgICAgICAgICAgICAgIHZhciBmcm9tX21pbiA9IHBhcnNlSW50KGZyb21fdGltLnNwbGl0KCI6IilbMV0pCgoKICAgICAgICAgICAgICAgIHZhciB0b19ob3VyID0gcGFyc2VJbnQodG9fdGltLnNwbGl0KCI6IilbMF0pCiAgICAgICAgICAgICAgICB2YXIgdG9fbWluID0gcGFyc2VJbnQodG9fdGltLnNwbGl0KCI6IilbMV0pCgogICAgICAgICAgICAgICAgdmFyIGZyb20gPSBmcm9tX2hvdXIgKiA2MCArIGZyb21fbWluOwoKCiAgICAgICAgICAgICAgICB2YXIgdG8gPSB0b19ob3VyICogNjAgKyB0b19taW47CgogICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRvIC0gZnJvbTsKCiAgICAgICAgICAgICAgICB2YXIgaG91ZXIgPSBwYXJzZUludCh0aW1lX2R1cmF0aW9uLnNwbGl0KCI6IilbMF0pOwogICAgICAgICAgICAgICAgdmFyIG1pbml0ID0gcGFyc2VJbnQodGltZV9kdXJhdGlvbi5zcGxpdCgiOiIpWzFdKTsKCiAgICAgICAgICAgICAgICB2YXIgZHVyID0gaG91ZXIgKiA2MCArIG1pbml0OwoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdCAvIGR1cgoKICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQKCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gMAogICAgICAgICAgICB9CgoKCgogICAgICAgIH0sCiAgICAgICAgc3VibWl0KCkgewoKCgoKICAgICAgICAgICAgdmFyIGltYWcgPSBbXTsKICAgICAgICAgICAgZm9yICh2YXIgaW0gPSAwOyBpbSA8IHRoaXMuaW1hZ2VzLmxlbmd0aDsgaW0rKykgewoKCiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbWFnZXNbaW1dICE9ICdhJyAmJiB0aGlzLmltYWdlc1tpbV0gIT09IHRoaXMuaW1nX3VybCArICIvaW1hZ2VzLyIgKyB0aGlzLmVkaXRlZEl0ZW0KICAgICAgICAgICAgICAgICAgICAuaW1hZ2VzW2ltXQogICAgICAgICAgICAgICAgICAgIC5pbWFnZV91cmwpIHsKCiAgICAgICAgICAgICAgICAgICAgaW1hZy5wdXNoKHRoaXMuaW1hZ2VzW2ltXSk7CiAgICAgICAgICAgICAgICB9CgoKCiAgICAgICAgICAgIH0KCgoKICAgICAgICAgICAgaWYgKCF0aGlzLmVyMSkgewogICAgICAgICAgICAgICAgdGhpcy5zdGVwMSgpOwoKICAgICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5lcl9wYXltZW50KSB7CiAgICAgICAgICAgICAgICB0aGlzLnN0ZXA0KCk7CiAgICAgICAgICAgIH0KCgoKICAgICAgICAgICAgaWYgKHRoaXMuZWRpdGVkSXRlbS5wcmljZS5mcmVlX2NhbmNlbGxhdGlvbikgewogICAgICAgICAgICAgICAgdGhpcy5lZGl0ZWRJdGVtLnByaWNlLmZyZWVfY2FuY2VsbGF0aW9uID0gMTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuZWRpdGVkSXRlbS5wcmljZS5mcmVlX2NhbmNlbGxhdGlvbiA9IDA7CiAgICAgICAgICAgIH0KCgoKCgogICAgICAgICAgICBpZiAodGhpcy5EYXlPcGVuID09IDApIHsKICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwoJ9iq2K3YsNmK2LEnLCAiICAgINmK2KzYqCDYp9iu2KrZitin2LEg2KzYr9mI2YQg2KfZhNit2KzYsiIsICd3YXJuaW5nJykKICAgICAgICAgICAgfQoKCgogICAgICAgICAgICB0aGlzLnVzZXJfaW5mbyA9IHRoaXMuJGNvb2tpZXMuZ2V0KCdhZG1pbl9pbmZvJyk7CgoKCiAgICAgICAgICAgIHZhciBkYXRhID0gewoKCiAgICAgICAgICAgICAgICBpdGVtX25hbWU6IHRoaXMuZWRpdGVkSXRlbS5pdGVtX25hbWUsCiAgICAgICAgICAgICAgICBpdGVtX2Rlc2NyaXB0aW9uOiB0aGlzLmVkaXRlZEl0ZW0uaXRlbV9kZXNjcmlwdGlvbiwKICAgICAgICAgICAgICAgIHN1Yl9jYXRlZ29yeV9pZDogdGhpcy5lZGl0ZWRJdGVtLnN1Yl9jYXRlZ29yeS5pZCwKICAgICAgICAgICAgICAgIGNhdGVnb3J5X2lkOiB0aGlzLmVkaXRlZEl0ZW0uc3ViX2NhdGVnb3J5LmNhdGVnb3J5X2lkLAogICAgICAgICAgICAgICAgbnVtYmVyX29mX2l0ZW1zOiB0aGlzLmVkaXRlZEl0ZW0ubnVtYmVyX29mX2l0ZW1zLAogICAgICAgICAgICAgICAgc3RhdHVzX2lkOnRoaXMuZWRpdGVkSXRlbS5zdGF0dXMuaWQsCiAgICAgICAgICAgICAgICAvL1ByaWNlIERhdGEKICAgICAgICAgICAgICAgIHByaWNlOiB0aGlzLmVkaXRlZEl0ZW0ucHJpY2UsCgoKICAgICAgICAgICAgICAgIC8vQWRkcmVzcyBJbmZvcm1hdGlvbnMKICAgICAgICAgICAgICAgIEFkZHJlc3M6IFtdLAogICAgICAgICAgICAgICAgaW1hZ2VzOiBpbWFnLAogICAgICAgICAgICAgICAgZGVsaXZlcmFibGVfaWQ6dGhpcy5lZGl0ZWRJdGVtLmRlbGl2ZXJhYmxlX2lkLAogICAgICAgICAgICAgICAgd29ya190aW1lczogW10sCiAgICAgICAgICAgICAgICBJdGVtRmVhdHVyZXM6IFtdCgoKCgoKCgogICAgICAgICAgICAgICAgLy8gaW1hZ2VzOiBpbWFnCiAgICAgICAgICAgIH07CgoKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgdmFyIHBvc3R1cmwgPSB0aGlzLml0ZW1faWQgIT0gMCA/ICIvdjIvaXRlbXMvdXBkYXRlLyIgKyB0aGlzLml0ZW1faWQgOiAiL3YyL2l0ZW1zL3N0b3JlIjsKCgoKICAgICAgICAgICAgZGF0YSwKICAgICAgICAgICAgdGhpcy4kaHR0cCh7CiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgICAgICAgICAgICAgdXJsOiBwb3N0dXJsLAogICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewoKCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CgogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwoJ9iq2YUnLCB0aGlzLml0ZW1faWQgIT0gMCA/ICLYqtmFINiq2LnYr9mK2YQg2KfZhNin2YrYqtmFIiA6ICIgICAg2KrZhSDYp9i22KfZgdipINin2YTYp9mK2KrZhSIsICdzdWNjZXNzJykKICAgICAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsKCk7CgoKICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzID09IHRydWUpIHsKCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2U7CgoKICAgICAgICAgICAgICAgICAgICB9CgoKCgogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgICAgICAgICBlcnJvciwKICAgICAgICAgICAgICAgICAgICB0aGlzLiRzd2FsKCfYqtmFJywgdGhpcy5pdGVtX2lkICE9IDAgPyAi2KrZhSDYqti52K/ZitmEINin2YTYrdis2LIiIDogIiAgICDYqtmFINin2LbYp9mB2Kkg2KfZhNit2KzYsiIsICdzdWNjZXNzJykKICAgICAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCJjaGFuZ2VTdGF0dXMiLCBmYWxzZSk7CgogICAgICAgICAgICAgICAgICAgIC8vICB0aGlzLmVycl9zaG93ID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAvL3RoaXMuJHN3YWwoJ9iu2LfYp9ihJywgdGhpcy5pdGVtX2lkICE9IDAgPyAiICAgICDZgdi02YQgINin2LbYp9mB2Kkg2KfZhNit2KzYsiIgOiAi2YHYtNmEINiq2LnYr9mK2YQg2KfZhNit2KzYsiIsCiAgICAgICAgICAgICAgICAgICAgLy8gICAnZXJyb3InKQoKICAgICAgICAgICAgICAgIH0pLmZpbmFsbHkoZCA9PiB7CiAgICAgICAgICAgICAgICAgICAgZCwKICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZXJ5ZGF5ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVyeXRpbWUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAvLyB9IGVsc2UgewoKICAgICAgICAgICAgLy8gICAgIHRoaXMuZXJyX3Nob3cgPSB0cnVlOwoKCgoKICAgICAgICAgICAgLy8gIH0KCgoKCiAgICAgICAgfSwKCgoKICAgICAgICBnZXRDYXRlZ29yeSgpIHsKCgogICAgICAgICAgICB0aGlzLiRodHRwKHsKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdnZXQnLAogICAgICAgICAgICAgICAgICAgIHVybDogIi92Mi9pbmZvL0NhdGVnb3JpZXMiLAogICAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yeSA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKCgoKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgfSwKCgogICAgICAgIGdldENvdW50cnkoKSB7CgoKICAgICAgICAgICAgdGhpcy4kaHR0cCh7CiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgICAgICAgICAgICAgICB1cmw6ICIvdjIvaW5mby9Db3VudHJpZXMiLAogICAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb3VudHJpZXMgPSByZXNwb25zZS5kYXRhLmRhdGE7CgoKCiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0sCgoKCiAgICAgICAgZ2V0U3ViQ2F0ZWdvcnkoKSB7CgogICAgICAgICAgICBpZiAodGhpcy5pdGVtX0lEID09IDApIHsKICAgICAgICAgICAgICAgIHZhciBjYXRfaWQgPSB0aGlzLmVkaXRlZEl0ZW0uc3ViX2NhdGVnb3J5LmNhdGVnb3J5X2lkCgoKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNhdF9pZCA9IHRoaXMuZWRpdGVkSXRlbS5zdWJfY2F0ZWdvcnkuY2F0ZWdvcnkuaWQ7CgogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgdXJsID0gInYyL2luZm8vc3ViQ2F0ZWdvcnlDYXRfaWQvIiArIGNhdF9pZDsKICAgICAgICAgICAgdGhpcy4kaHR0cCh7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICdnZXQnLAogICAgICAgICAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgdGhpcy5zdWJjYXRlZ29yeSA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKCgoKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGdldFByb3ZpbmNlKCkgewoKCiAgICAgICAgICAgIHRoaXMuJGh0dHAoewogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ2dldCcsCiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL3YyL2luZm8vUHJvdmluY2VzJywKICAgICAgICAgICAgICAgIH0pCgogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMucHJvdmluY2UgPSByZXNwb25zZS5kYXRhLmRhdGE7CgoKCiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0sCgoKCgoKCgoKCiAgICAgICAgcGlja0ZpbGUoaW5kZXgpIHsKCiAgICAgICAgICAgIHRoaXMuaW1nX2NsaWNlZCA9IGluZGV4CiAgICAgICAgICAgIHRoaXMuJHJlZnMuaW1hZ2UuY2xpY2soKQogICAgICAgIH0sCgogICAgICAgIG9uRmlsZVBpY2tlZChlKSB7CgogICAgICAgICAgICBjb25zdCBmaWxlcyA9IGUudGFyZ2V0LmZpbGVzCiAgICAgICAgICAgIGlmIChmaWxlc1swXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICB0aGlzLmltYWdlTmFtZSA9IGZpbGVzWzBdLm5hbWUKICAgICAgICAgICAgICAgIGlmICh0aGlzLmltYWdlTmFtZS5sYXN0SW5kZXhPZignLicpIDw9IDApIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbnN0IGZyID0gbmV3IEZpbGVSZWFkZXIoKQogICAgICAgICAgICAgICAgZnIucmVhZEFzRGF0YVVSTChmaWxlc1swXSkKICAgICAgICAgICAgICAgIGZyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWFnZVVybCA9IGZyLnJlc3VsdAogICAgICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VGaWxlID0gZmlsZXNbMF0KCiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWFnZXNbdGhpcy5pbWdfY2xpY2VkXSA9IGZyLnJlc3VsdDsKICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IHRoaXMuaW1nX2NsaWNlZCArIDE7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWdfbmFtZSA9ICIgICDYtdmI2LHYqSDYsdmC2YUgIiArIGEKCgogICAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmltYWdlTmFtZSA9ICcnCiAgICAgICAgICAgICAgICB0aGlzLmltYWdlRmlsZSA9ICcnCiAgICAgICAgICAgICAgICB0aGlzLmltYWdlVXJsID0gJycKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIGNoYW5nZV9wYXltZW50KHN0YXR1cykgewogICAgICAgICAgICBpZiAoc3RhdHVzID09IHRydWUpIHsKICAgICAgICAgICAgICAgIHRoaXMuZWRpdGVkSXRlbS5wcmljZS5mcmVlX2NhbmNlbGxhdGlvbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy5lZGl0ZWRJdGVtLnByaWNlLmRlZHVjdGlvbiA9IDA7CiAgICAgICAgICAgIH0KCgoKCgogICAgICAgIH0sCiAgICAgICAgY2hhbmdlX3Jlc2VydmF0aW9uX3R5cGUoKSB7CgogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmVkaXRlRGF5T3Blbi5yZXNlcnZhdGlvbl90eXBlKTsKICAgICAgICAgICAgLy8gYWxlcnQodGhpcy5lZGl0ZURheU9wZW4ucmVzZXJ2YXRpb25fdHlwZS5pZCk7CiAgICAgICAgICAgIGlmICh0aGlzLmVkaXRlRGF5T3Blbi5yZXNlcnZhdGlvbl90eXBlLmlkID09IDIpIHsKICAgICAgICAgICAgICAgIHRoaXMucmVzZXJ2YXRpb25fbnVtID0gdHJ1ZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMucmVzZXJ2YXRpb25fbnVtID0gZmFsc2U7CgogICAgICAgICAgICB9CgogICAgICAgIH0sCgoKCgoKCiAgICAgICAgc2F2ZSgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuZWRpdGVkSW5kZXggPiAtMSkgewogICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmVkaXRlZEl0ZW0uZGF5X3RvX29wZW5bdGhpcy5lZGl0ZWRJbmRleF0sIHRoaXMuZWRpdGVkSXRlbSkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuZWRpdGVkSXRlbS5kYXlfdG9fb3Blbi5wdXNoKHRoaXMuZWRpdGVkSXRlbSkKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmNsb3NlKCkKICAgICAgICB9LAoKCiAgICB9LAoKICAgIHdhdGNoOiB7CiAgICAgICAgc2VsZWN0ZWQ6ICdkZCcsCiAgICAgICAgc3RlcHModmFsKSB7CgogICAgICAgICAgICBpZiAodGhpcy5lMSA+IHZhbCkgewogICAgICAgICAgICAgICAgdGhpcy5lMSA9IHZhbAogICAgICAgICAgICB9CiAgICAgICAgfSwKCgoKICAgIH0sCiAgICBjb21wdXRlZDogewoKCiAgICB9LAoKCgoKICAgIGNyZWF0ZWQoKSB7CgoKCiAgICB9LAoKCiAgICBtb3VudGVkKCkgewogICAgICAgIHRoaXMuZ2V0Q2F0ZWdvcnkoKTsKICAgICAgICB0aGlzLmdldFByb3ZpbmNlKCk7CgogICAgICAgIC8vIHRoaXMudG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWNjZXNzX3Rva2VuJyk7CiAgICAgICAgLy8gdGhpcy51c2VyX2luZm8gPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyX2luZm8nKSk7CgogICAgICAgIC8vICAgdGhpcy51c2VyX2luZm8gPSB0aGlzLiRjb29raWVzLmdldCgnYWRtaW5faW5mbycpOwoKCiAgICAgICAgdGhpcy5pdGVtX2lkID0gdGhpcy5pdGVtX0lEOwoKCiAgICAgICAgdGhpcy5pdGVtX2lkICE9IDAgPyB0aGlzLmdldEl0ZW1EZXRhaWxzKCkgOiB0aGlzLmRheV90b19vcGVuLmxlbmd0aCA9IDA7CiAgICB9LAoKICAgIGNvbXBvbmVudHM6IHsKCgoKICAgIH0KCn0K"},{"version":3,"sources":["item_dialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8UA;;AAEA;AACA;AACA;AACA;;;;AAIA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;;;AAGA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;AAIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;;AAIA;;;;;;AAMA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;;;;;;;AAOA;AACA;;;AAGA;AACA;;;AAGA;;;AAGA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;;;;;AAKA;AACA;;;;;;;;AAQA;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;;AAGA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;;;;;;;AAOA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;;AAGA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;;;;;;AAMA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;AAKA;AACA;;;AAGA;;;AAGA;;;AAGA;;;;AAIA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;;;;;AAKA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;;;;;;;;;;AAaA;;;;;AAKA;;AAEA;AACA;AACA;;;AAGA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;;AAGA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;;;AAIA;;;;;;;;AAQA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;;;AAGA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;;;AAKA;AACA;;;;;AAKA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;;;AAIA;;;;AAIA;AACA;;AAEA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AACA;;;;AAIA;;;;AAIA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAQA;AACA;;;AAGA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;;;AAGA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;AAKA;;;;;AAKA;;;;AAIA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;;;AAGA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;;;;AAIA;;AAEA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;;;;;;;;;;AAUA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;AACA;;;AAGA;;;;;AAKA;;;;AAIA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;;;AAGA;;;AAGA;AACA;;AAEA;;;;AAIA;;AAEA","file":"item_dialog.vue","sourceRoot":"src/components/Owner/components","sourcesContent":["<template>\n\n\n    <v-form ref=\"form\" v-model=\"valid\">\n\n        <v-card height=\"100%\">\n\n            <div style=\"display:block;height:40px\">\n                <v-card-title class=\"\"   \n\n                style=\"font-family: 'droid_bold' !important;background-color: #2e94b9 !important;color:#fff\">\n                <span v-if=\"item_ID==0\"> </span>\n                <span v-else> </span>\n                <v-spacer></v-spacer>\n                <v-btn icon dark @click=\"cancel()\">\n                    <v-icon>mdi-close</v-icon>\n                </v-btn>\n            </v-card-title>\n            </div>\n\n\n            <v-container >\n\n                <v-stepper v-model=\"e1\">\n                    <!--Star Steper Header-->\n                    <v-stepper-header>\n                        <!--   <v-stepper-step :rules=\"[() =>this.er1]\" :complete=\"e1 > 1\" step=\"1\" @click=\"step1()\">     edit-icon=\"fas fa-money-check-alt\"-->\n                        <v-stepper-step :rules=\"[() =>this.er1]\" :complete=\"e1 > 1\" step=\"1\">\n                            \n                            <small>{{this.errors_primery[0]}}</small>\n                        </v-stepper-step>\n\n                        <v-divider></v-divider>\n\n\n\n                        <v-divider></v-divider>\n\n\n\n                        <v-stepper-step :complete=\"e1 > 4\" step=\"2\" :editable=\"false\" :rules=\"[() =>this.er_payment]\">\n                             \n                            <small>{{this.errors_payment[0]}}</small>\n\n                        </v-stepper-step>\n\n\n\n                        <v-divider></v-divider>\n                        <v-stepper-step step=\"3\"> </v-stepper-step>\n                    </v-stepper-header>\n                    <!--End Steper Header-->\n\n\n\n                    <v-stepper-items>\n\n                        <!--Primery Info-->\n                        <v-stepper-content step=\"1\">\n                            <v-card class=\"mb-12\" color=\"#cac0c057\" height=\"470px\" pl-5>\n\n                                <v-layout row wrap pr-2 pl-2>\n\n                                    <v-flex pa-3 xs6>\n                                        <v-text-field background-color=\"#fff\" height=\"45\" style=\"\"\n                                            placeholder=\" \" v-model=\"editedItem.item_name\" :rules=\"nameRules\"\n                                            required></v-text-field>\n                                    </v-flex>\n\n\n\n\n\n\n\n\n                                </v-layout>\n\n\n                                <v-layout row wrap pr-2 pl-2>\n                                    <v-flex pa-3 xs6>\n                                        <v-select background-color=\"#ffffff\" height=\"45\" :rules=\"nameRules\" class=\"my-2\"\n                                            :items=\"category\" item-value=\"id\" item-text=\"name\"\n                                            v-model=\"editedItem.sub_category.category_id\"\n                                            placeholder=\"   \" @change=\"getSubCategory()\" required>\n                                        </v-select>\n                                    </v-flex>\n\n                                    <v-flex pa-3 xs6>\n                                        <v-select :rules=\"nameRules\" segmented class=\"my-2\" :items=\"subcategory\"\n                                            item-value=\"id\" item-text=\"name\" background-color=\"#ffffff\" height=\"45\"\n                                            v-model=\"editedItem.sub_category.id\" placeholder=\"  \"\n                                            @change=\"dis()\" required></v-select>\n                                    </v-flex>\n\n\n\n\n\n\n                                </v-layout>\n\n                                <v-layout row wrap pr-2 pl-2>\n\n                                     <v-flex pa-3 xs4>\n                                     <v-select :rules=\"nameRules\" segmented class=\"my-2\" :items=\"ItemStatus\"\n                                            item-value=\"id\" item-text=\"status_name_ar\" background-color=\"#ffffff\" height=\"45\"\n                                            v-model=\"editedItem.status.id\" placeholder=\" \"\n                                            @change=\"dis()\" required></v-select>\n\n                                     </v-flex>\n                                        <v-flex pa-3 xs4>\n\n\n                                        <v-text-field background-color=\"#fff\" height=\"45\" style=\"\"\n                                            placeholder=\" \" v-model=\"editedItem.number_of_items\"\n                                            :rules=\"ItemNumberRules\" required></v-text-field>\n                                    </v-flex>\n\n                                     <v-flex pa-3 xs3>\n                                     <v-select :rules=\"nameRules\" segmented class=\"my-2\" :items=\"deliverable\"\n                                            item-value=\"id\" item-text=\"name\" background-color=\"#ffffff\" height=\"45\"\n                                            v-model=\"editedItem.deliverable_id\" placeholder=\" \"\n                                            required></v-select>\n\n                                     </v-flex>\n\n\n                                </v-layout>\n\n\n                                <v-layout>\n                                    <v-flex pa-3 xs12>\n                                        <v-textarea background-color=\"#fff\" placeholder=\"  \"\n                                       \n                                            v-model=\"editedItem.item_description\" :rules=\"descriptRules\" required>\n                                        </v-textarea>\n                                    </v-flex>\n\n\n\n                                </v-layout>\n\n                            </v-card>\n\n\n                            <v-btn color=\"primary\" @click=\"step2()\">\n                                \n\n                            </v-btn>\n\n                            <!-- <v-btn text>Cancel</v-btn> -->\n                        </v-stepper-content>\n                        <!--End Primery Info-->\n\n\n\n\n\n\n\n\n\n\n                        <!--Date Price-->\n                        <v-stepper-content step=\"2\">\n                            <v-card class=\"mb-12\" color=\"#cac0c057\" height=\"400px\">\n\n                                <v-form ref=\"valid_payment\" v-model=\"valid_payment\">\n                                    <v-layout row wrap pl-2>\n                                        <v-flex xs4 pa-3 pr-5>\n                                            <v-text-field background-color=\"#fff\" height=\"50\" placeholder=\"  \"\n                                                data-vv-name=\"name\" v-model=\"editedItem.price.price_value\"\n                                                :rules=\"numberRul\" required>\n                                            </v-text-field>\n                                        </v-flex>\n                                    </v-layout>\n\n\n                                    <v-layout row wrap pl-2 pr-4>\n\n                                        <span>  :</span>\n\n                                        <div v-if=\"item_id==1\">\n                                            <span v-if=\"editedItem.price.payment_when_receiving==0\">  \n                                                </span>\n                                            <span v-if=\"editedItem.price.payment_when_receiving==1\">  \n                                                </span>\n\n                                        </div>\n\n                                        <div v-else>\n                                            <span v-if=\"editedItem.price.payment_when_receiving===0\">  \n                                                </span>\n                                            <span v-if=\"editedItem.price.payment_when_receiving===1\">  \n                                                </span>\n\n                                        </div>\n\n\n\n\n\n                                    </v-layout>\n                                    <v-layout row wrap pl-2 pr-4>\n                                        <v-radio-group @change=\"tr()\" :rules=\"paymentRul\" required\n                                            v-model=\"editedItem.price.payment_when_receiving\">\n                                            <v-radio label=\"   \" :value=\"1\"></v-radio>\n                                            <v-radio label=\"   \" :value=\"2\"></v-radio>\n                                        </v-radio-group>\n\n\n\n\n\n                                    </v-layout>\n\n                                    <v-layout row wrap pl-2 pr-4>\n                                        <v-flex xs4 pa-1>\n                                            <v-checkbox v-model=\"editedItem.price.free_cancellation\"\n                                                label=\"  \" required></v-checkbox>\n                                        </v-flex>\n\n\n                                        <v-flex xs3 pa-1 v-if=\"!editedItem.price.free_cancellation\" pl-4>\n                                            <v-text-field prepend-inner-icon=\"fas fa-percent\" background-color=\"#fff\"\n                                                class=\"deucation_txfield\" height=\"40\" placeholder=\"   \"\n                                                data-vv-name=\"name\" :disabled=\"!editedItem.price.free_cancellation\"\n                                                :readonly=\"!editedItem.price.free_cancellation\"\n                                                v-model=\"editedItem.price.cancellation_deduction_ratio\"\n                                                :rules=\"numberRul1\">\n                                            </v-text-field>\n                                        </v-flex>\n\n\n                                    </v-layout>\n                                </v-form>\n                            </v-card>\n\n                            <v-btn color=\"primary\" @click=\"step3()\">\n                                \n                            </v-btn>\n\n                            <v-btn @click=\"step1()\" text></v-btn>\n                        </v-stepper-content>\n                        <!--Date Price-->\n\n\n\n\n                        <v-stepper-content step=\"3\">\n\n                            <v-card class=\"mb-12\" color=\"#cac0c057\" height=\"400px\">\n                                <v-layout row wrap>\n                                    <v-flex pa-5 xs3>\n                                        <!-- <v-text-field label=\"  \" solo=\"\" @click='pickFile' append-icon='fas fa-image'></v-text-field> -->\n                                    </v-flex>\n\n                                    <v-flex pa-5>\n                                        <input type=\"file\" style=\"display: none\" ref=\"image\" accept=\"image/*\"\n                                            @change=\"onFilePicked\">\n                                    </v-flex>\n                                </v-layout>\n\n\n\n                                <span>{{img_name}}</span>\n\n                                <v-layout row wrap>\n                                    <v-row justify=\"center\">\n                                        <v-flex xs2 v-for=\"(img ,index) in images\" pa-2 :key=\"img\">\n\n                                            <v-card height=\"150\" width=\"150\" class=\"card_img\">\n                                                <v-img :src=\"img\" height=\"150\" width=\"150\" class=\"card_img\"\n                                                    v-if=\"img!='a'\">\n                                                    <v-btn icon=\"\"\n                                                        style=\"padding-right: 24px;position:relative;left: 46px;\"\n                                                        @click=\"delete_img(editedItem.images[index].id,index)\">\n                                                        <v-icon color=\"#fff\">fas fa-window-close</v-icon>\n                                                    </v-btn>\n\n                                                </v-img>\n\n                                                <v-btn icon v-else @click='pickFile(index)'>\n                                                    <v-icon style=\"margin:0px\" size=\"40\">fas fa-plus-square</v-icon>\n                                                </v-btn>\n\n\n                                            </v-card>\n                                        </v-flex>\n                                    </v-row>\n\n\n                                </v-layout>\n                            </v-card>\n\n                            <v-btn @click=\"submit\" color=\"success\" style=\"margin-left:10px\">\n                                <span v-show=\"!loading\"></span>\n                                <v-progress-circular indeterminate color=\"white\" v-show=\"loading\"></v-progress-circular>\n                            </v-btn>\n\n\n                            <v-btn @click=\"step2()\" text></v-btn>\n\n\n                        </v-stepper-content>\n\n\n\n\n                    </v-stepper-items>\n                </v-stepper>\n            </v-container>\n\n\n\n\n\n\n\n\n\n\n        </v-card>\n\n    </v-form>\n\n\n\n</template>\n\n\n\n<script>\n    const axios = require('axios');\n\n    // import GoogleMap from '../components/map'\n    import {\n        EventBus\n    } from './event-bus.js';\n\n\n\n    export default {\n\n        props: {\n            'item_ID': Number,\n            'hidden': Boolean\n        },\n\n        data: () => ({\n            dialog: false,\n\n            img_url: 'http://109.224.27.9:81',\n            item_id: '',\n            start: null,\n            time_dialog: false,\n            xc: [],\n            img_name: '',\n            end: null,\n            valid_day_open: false,\n\n\n            errors_address: [],\n            errors_payment: [],\n            radioPayment: [\"0\", \"1\"],\n            errors_date: [],\n            day_status: [{\n                id: 6,\n                status_name_ar: ''\n            }, {\n                id: 7,\n                status_name_ar: ''\n            }],\n\n            deliverable:[\n                {\n                \n                     id:1,\n                     name: ' '\n\n                },\n                 {\n                \n                     id:2,\n                     name: '  '\n\n                },\n                {\n                \n                     id:3,\n                     name: ' '\n\n                }\n\n                \n            ],\n            ItemStatus:[\n                {\n                      id:1,\n                     status_name_ar: ''\n\n                },\n                 {\n                      id:26,\n                     status_name_ar: ' '\n\n                },\n                 {\n                      id:27,\n                     status_name_ar: ''\n\n                }\n            ],\n            DayDialog: false,\n            msg_error: [],\n            ItemFeaturesDialog: false,\n            er_address: true,\n            valid_ItemFeatures: false,\n            valid_payment: false,\n\n            ItemFeatures: [{\n                id: '',\n                item_id: '',\n                feature_name: '',\n                feature_price: ''\n\n            }],\n\n\n\n            editeItemFeatures: {\n                id: '',\n                item_id: '',\n                feature_name: '',\n                feature_price: ''\n            },\n\n\n\n            er_payment: true,\n\n            editeTimeOpen: {\n\n                id: '',\n                action_id: '',\n                from_time: '',\n                to_time: '',\n                \n                max_request: '',\n                reservations_number: '',\n                status: {\n                    id: '',\n                    status_name_ar: ''\n                },\n                reservation_type: {\n                    id: '',\n                    reservation_type_name: ''\n                },\n\n            },\n\n            editeDayOpen: [{\n                    id: '',\n                    reservation_type: {\n                        id: '',\n                        reservation_type_name: ''\n                    },\n                    work_day: '',\n                    status: {\n                        id: '',\n                        status_name_ar: ''\n                    },\n                    reservations_number: '',\n                    time_to_open: [{\n                            id: '',\n                            action_id: '',\n                            from_time: '',\n                            to_time: '',\n                            max_request: '',\n                            reservations_number: '',\n                            status: {\n                                id: '',\n                                status_name_ar: ''\n                            },\n                            reservation_type: {\n                                id: '',\n                                reservation_type_name: ''\n                            },\n                        },\n\n\n                    ],\n                }]\n\n\n\n                ,\n            er_date: true,\n            er1: true,\n            reservation_type: [{\n                    id: 1,\n                    reservation_type_name: ' '\n                },\n                {\n                    id: 2,\n                    reservation_type_name: ' '\n                }\n            ],\n            //    [' ',' '],\n            e1: 1,\n            switch2: false,\n            radios: 'radio-1',\n            submit_name: '',\n            errors_primery: [],\n            item_new_price: '',\n            menu_date_from: false,\n            menu_date_to: false,\n            editdailog: false,\n            user_info: {},\n            token: '',\n            err_show: false,\n            menu1: false,\n            menu2: false,\n            menu3: false,\n            menu4: false,\n            map_dialog: false,\n            modal2: false,\n            book_dur_status: false,\n            book_num_status: false,\n            offer_info: {\n\n\n            }\n\n            ,\n            reve_type: [{\n                id: 0,\n                duration: ' '\n            }, {\n                id: 1,\n                duration: ' '\n            }, {\n                id: 2,\n                duration: '   '\n            }],\n            reve_type1: [{\n                id: 0,\n                duration: ' '\n            }, {\n                id: 1,\n                duration: ' '\n            }, {\n                id: 2,\n                duration: '   '\n            }],\n            error: '',\n            msg_error_txt: '   ',\n\n\n            page: 1,\n            pageCount: 0,\n            items: [],\n            reservation_num: false,\n            editedIndex: -1,\n            editedIndexday: -1,\n            editedIndextime: -1,\n            number_of_items: '',\n            editedIndexItemFeatures: -1,\n\n            editedItem: {\n                item_name: '',\n                deliverable_id:'',\n                item_description: '',\n                sub_category: {\n                    category_id: 0,\n                    id: 0,\n                    name: \"\",\n                },\n                \n                Address: {\n                    address_descraption: '',\n                    province: {\n                        id: '',\n                        country_id: '',\n\n                    },\n\n\n                    long: '12',\n                    lat: '33'\n\n                },\n\n                ItemFeatures: [\n\n\n                ],\n                images: [{\n                        \"image_url\": ''\n                    },\n                    {\n                        \"image_url\": ''\n                    },\n                    {\n                        \"image_url\": ''\n                    },\n                    {\n                        \"image_url\": ''\n                    }\n                ],\n                status:\n                {\n                    id:'',\n                    status_name_ar:''\n\n                }\n                ,\n\n                price: {\n                    id: '',\n                    price_value: '',\n                    payment: '',\n                    deduction: 0,\n                    payment_when_receiving: '',\n                    free_cancellation: '',\n                    payment_after_awhile: '',\n                    installments: '',\n                    cancellation_deduction_ratio: '0',\n\n                },\n\n\n                calories: 0,\n                fat: 0,\n                carbs: 0,\n                disc: '',\n                protein: 0,\n\n\n            },\n            valid: false,\n\n            deduction: '',\n            days: [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \" \"],\n            times: [\"1:00 \", \"2:00 \", \"3:00 \", \"4:00  \", \"5:00 \", \"6:00 \", \"7:00  \", \"8:00 \", \"9:00 \",\n                \"10:00 \",\n                \"11:00 \", \"12:00 \",\n                \"1:00 \", \"2:00 \", \"3:00 \", \"4:00  \", \"5:00 \", \"6:00 \", \"7:00  \", \"8:00 \", \"9:00 \",\n                \"10:00 \",\n                \"11:00 \", \"12:00 \"\n            ],\n\n            img_cliced: -1,\n            day_to_open: [{\n\n                every_day: 0,\n                every_time: 0,\n                from_day: \"\",\n                from_time: \"\",\n                to_day: \"\",\n                to_time: \"\",\n                max_requests: 0\n            }],\n\n            nameRules: [\n                v => !!v || '    ',\n\n            ],\n            numberRul: [\n                v => !!v || '    ',\n\n                v => !isNaN(v) || '   ',\n            ],\n            ReservationTypeRules: [\n                v => !!v || '    ',\n                v => !isNaN(v.id) || '   ',\n\n            ],\n\n            to_timeRules: [\n                v => !!v || '    ',\n                v => !isNaN(v) || '   ',\n\n            ],\n\n            TimeStatusRules: [\n                v => !!v || '    ',\n                v => !isNaN(v.id) || '   ',\n\n            ],\n\n            paymentRul: [\n                v => !!v || '    ',\n\n                v => !isNaN(v) || '   ',\n\n            ],\n            DayStatusRules: [\n                v => !!v || '    ',\n\n                v => !isNaN(v) || '   ',\n\n            ],\n            //\"^[0-9]+$\"\n\n\n            ItemNumberRules: [\n                (v) => (/^[0-9]+$/.test(v) || v.length < 1) ||\n                ' ',\n\n\n            ],\n\n\n            numberRul1: [\n\n                v => !isNaN(v) || '   ',\n            ],\n            descriptRules: [\n                v => !!v || '    ',\n                v => v.length >= 20 || '        ',\n            ],\n            loading: false,\n            province: [],\n            imageName: '',\n            imageUrl: '',\n            countries: [{\n                name: '',\n                id: 1\n            }],\n            imageFile: '',\n\n\n            payment: false,\n            images: ['a', 'a', 'a', 'a'],\n            free_cancellation: false,\n            deductionvalue: 0,\n            everyday: false,\n            everytime: false,\n            fromday: '',\n            today: '',\n            fromtime: '',\n            totime: '',\n            current_page: 1,\n            last_page: 0,\n            offer_dialog: false,\n            subcategory: [],\n            sub_category_id: '',\n            category: [],\n            reserv_type_id1: -1,\n            valid_day: true,\n            // editedItem.Address.address_descraption: '',\n            lat: 0,\n            lng: 0,\n\n\n        }),\n\n\n\n        methods: {\n            xx() {\n                this.editedIndextime = -1;\n                this.editeTimeOpen = {\n\n                    id: '',\n                    action_id: '',\n                    from_time: '',\n                    to_time: '',\n                    max_request: '',\n                    reservations_number: '',\n                    status: {\n                        id: '',\n                        status_name_ar: ''\n                    },\n                    reservation_type: {\n                        id: '',\n                        reservation_type_name: ''\n                    },\n\n                }\n\n            },\n            cancel_day() {\n                if (this.$refs.valid_day_open.validate()) {\n\n                    if (this.editeDayOpen.status == 6 && this.editedItem.day_to_open[this.editedIndexday].time_to_open\n                        .length == 0) {\n\n                        alert('         ');\n\n\n                    } else {\n                        this.editedItem.day_to_open[this.editedIndexday].status['id'] = this.editeDayOpen.status.id;\n                        this.DayDialog = false;\n                        this.time_dialog = false;\n                        this.editeTimeOpen = {\n\n                            id: '',\n                            action_id: '',\n                            from_time: '',\n                            to_time: '',\n                            max_request: '',\n                            reservations_number: '',\n                            status: {\n                                id: '',\n                                status_name_ar: ''\n                            },\n                            reservation_type: {\n                                id: '',\n                                reservation_type_name: ''\n                            },\n\n                        }\n\n                    }\n\n\n\n                }\n\n\n\n\n\n            },\n            close_time_Dailog() {\n                this.editedIndextime = -1;\n                this.time_dialog = false;\n            },\n\n\n            editedTimeOpen(item) {\n                this.editedIndextime = this.editeDayOpen.time_to_open.indexOf(item)\n                this.editeTimeOpen = Object.assign({}, item);\n\n\n            },\n            SetDayStatus() {\n\n            },\n\n            save_time() {\n\n\n                if (!this.editeTimeOpen.reservation_type.id == ' ' || !this.editeTimeOpen.reservation_type.id == null &&\n                    !this.editeTimeOpen.to_time == ' ' || !this.editeTimeOpen.to_time == null)\n\n                {\n                    if (!this.editeTimeOpen.status.id == null || !this.editeTimeOpen.status.id == ' ' && !this\n                        .editeTimeOpen.from_time == ' ' || !this.editeTimeOpen.from_time == null) {\n\n\n\n\n\n\n                        // if (this.$refs.valid_day_open.validate()) {\n                        if (this.editedIndextime > -1) {\n\n\n                            Object.assign(this.editeDayOpen.time_to_open[this.editedIndextime], this.editeTimeOpen);\n                            this.close_time_Dailog();\n\n\n                        } else {\n\n\n                            this.editeDayOpen.time_to_open.push(this.editeTimeOpen);\n\n                            Object.assign(this.editedItem.day_to_open[this.editedIndexday].time_to_open, this\n                                .editeTimeOpen)\n\n\n                            // for(var i=0;i<=this.editedItem.day_to_open[this.editedIndexday].time_to_open.length;i++)\n                            // {\n                            //     if(this.editedItem.day_to_open[this.editedIndexday]['status']==6)\n                            //     {\n                            //         this.editedItem.day_to_open[this.editedIndexday]['status']=6;\n                            //         break;\n\n\n                            //     }\n                            //     else\n                            //     {\n                            //          this.editedItem.day_to_open[this.editedIndexday]['status']=7;\n\n                            //     }\n\n\n                            // }\n\n                            this.close_time_Dailog();\n\n\n\n\n                        }\n                        // this.close()\n\n\n\n\n\n\n\n                        // }\n\n\n\n\n\n\n                    } else {\n                        alert('   ');\n                    }\n                } else {\n                    alert('   ');\n                }\n\n\n\n            },\n\n\n            tr() {\n                if (this.editedItem.price.payment_when_receiving == 2) {\n                    this.editedItem.price.payment_when_receiving = 0;\n\n                }\n\n            },\n\n            editItemFeatures(item) {\n                this.editedIndexItemFeatures = this.editedItem.ItemFeatures.indexOf(item)\n                this.editeItemFeatures = Object.assign({}, item)\n                this.ItemFeaturesDialog = true;\n\n            },\n            AddItemFeatures() {\n                this.editeItemFeatures = {};\n                this.ItemFeaturesDialog = true;\n            },\n\n            DeleteItemFeatures(item) {\n\n\n\n                const Swal = require('sweetalert2')\n\n\n\n\n\n\n                Swal.fire({\n                    title: \"     \",\n\n                    icon: \"warning\",\n                    showCancelButton: true,\n                    confirmButtonColor: '#3085d6',\n                    cancelButtonColor: '#d33',\n                    confirmButtonText: 'Yes, delete it!'\n\n                }).then(() => {\n\n                    if (item.id == 'undefined') {\n                        const index = this.editedItem.ItemFeatures.indexOf(item)\n                        this.editedItem.ItemFeatures.splice(index, 1)\n\n                    } else {\n                        const index = this.editedItem.ItemFeatures.indexOf(item)\n                        this.editedItem.ItemFeatures.splice(index, 1)\n                        var url = \"/ItemFeatures/owner/delete/\" + item.id;\n                        axios({\n                            method: 'delete',\n                            url: url,\n                            headers: {\n\n                            }\n                        }).then(response => {\n\n\n\n                            response,\n                            this.editedItem.images[index].image_url = 'a';\n                            this.img_name = index;\n                            this.images[index] = 'a';\n\n                            Swal.fire(\n                                '  ',\n                                '',\n                                'success'\n                            )\n\n                        }).catch(error => {\n                            error\n                        }).finally(d => {\n                            d,\n\n                            this.getitems();\n                        });\n\n                    }\n\n                })\n\n                // confirm('Are you sure you want to delete this item?') &&this.editedItem.ItemFeatures.splice(index, 1)\n\n            },\n            save_ItemFeatures() {\n\n                if (this.$refs.valid_ItemFeatures) {\n\n\n                    if (this.editedIndexItemFeatures > -1) {\n\n                        Object.assign(this.editedItem.ItemFeatures[this.editedIndexItemFeatures], this\n                            .editeItemFeatures)\n\n                    } else {\n                        console.log(this.editeItemFeatures);\n\n                        this.editedItem.ItemFeatures.push(this.editeItemFeatures)\n\n                    }\n                    this.ItemFeaturesDialog = false\n                }\n\n\n            },\n            // save_date() {\n\n            //     if (this.editeday_to_open.status.id == 6) {\n            //         if (this.editeday_to_open.time_to_open[0].from_time == null || this.editeday_to_open.time_to_open[0]\n            //             .from_time == '') {\n            //             alert('          ');\n            //         } else if (this.$refs.valid_day_open.validate()) {\n            //             Object.assign(this.day_to_open[this.editedIndexday], this.editeday_to_open)\n            //             this.DayDialog = false\n\n            //         }\n\n            //     } else {\n            //         if (this.$refs.valid_day_open.validate()) {\n            //             Object.assign(this.day_to_open[this.editedIndexday], this.editeday_to_open)\n            //             this.DayDialog = false\n            //         }\n            //     }\n\n            // },\n\n            save_date() {\n                // alert(this.editedIndextime);\n\n                if (this.editeDayOpen.status.id == 6) {\n                    if (this.editeTimeOpen.from_time == null || this.editeTimeOpen.from_time == '') {\n                        alert('          ');\n                    } else if (this.$refs.valid_day_open.validate()) {\n                        Object.assign(this.editedItem.day_to_open[this.editedIndextime], this.editedTimeOpen)\n                        this.time_dialog = false\n\n                    }\n\n                } else {\n                    if (this.$refs.valid_day_open.validate()) {\n                        Object.assign(this.editedItem.day_to_open[this.editedIndextime], this.editedTimeOpen)\n                        this.time_dialog = false\n                    }\n                }\n\n            },\n\n            editItem(item) {\n\n                this.editedIndexday = this.editedItem.day_to_open.indexOf(item)\n                /// alert(this.editedIndexday);\n                //   alert(this.editedIndexday);\n                this.editeDayOpen = Object.assign({}, item)\n                this.DayDialog = true\n                if (item.reservation_type.id == 2) {\n                    this.reservation_num = true;\n                } else {\n                    this.reservation_num = false;\n\n                }\n            },\n\n\n\n            getdays(index) {\n                var days = [\"\", \"\", \"\", \"\", \"\", \"\", \"\"];\n\n                return days[index];\n            },\n\n            getstatus(index) {\n                if (index == 7) {\n                    return '';\n                } else if (index == 6) {\n                    return '';\n\n                }\n\n\n            },\n            getstatuss(index) {\n                if (index == 1) {\n                    return ' ';\n                } else if (index == 2) {\n                    return ' ';\n\n                }\n\n\n            },\n            getItemDetails() {\n\n\n\n\n\n                var url = \"/v2/items/show/\" + this.item_id;\n                this.$http({\n                        method: 'get',\n                        url: url,\n                        headers: {\n\n                        }\n                    })\n\n                    .then(response => {\n                        this.editedItem = response.data.data;\n                        this.imgs = this.editedItem.images;\n                        //  this.DayOpen = response.data.data.day_to_open;\n                        if (this.editedItem.price.payment_when_receiving == 0) {\n                            this.editedItem.price.payment_when_receiving = 2;\n                        }\n\n\n                        if (this.editedItem.images.length < 4) {\n                            var completImgArrayLength = 4 - this.editedItem.images.length;\n\n                            for (var i = 0; i < completImgArrayLength; i++) {\n\n                                this.editedItem.images.push({\n                                    image_path: 'a'\n                                });\n                            }\n\n                        }\n\n                        for (i = 0; i < 4; i++) {\n                            if (this.editedItem.images[i].image_path != 'a') {\n                                this.images[i] = \"http://109.224.27.9:81/images/\" + this.editedItem.images[i]\n                                    .image_url;\n                            }\n\n                        }\n                        this.getSubCategory();\n\n\n\n\n                    })\n            },\n\n\n            delete_img(img_id, index) {\n\n\n                this.user_info = this.$cookies.get('admin_info');\n\n\n                const Swal = require('sweetalert2');\n\n\n\n                Swal.fire({\n                    title: \"     \",\n\n                    icon: \"warning\",\n                    showCancelButton: true,\n                    confirmButtonColor: '#3085d6',\n                    cancelButtonColor: '#d33',\n                    confirmButtonText: 'Yes, delete it!'\n\n                }).then((result) => {\n                    if (result.value) {\n                        this.img_cliced = index;\n\n\n                        this.editedItem.images[index].image_url = 'a';\n                        this.img_name = index;\n                        this.images[index] = 'a';\n\n                        var url = \"/v2/items/delete_image/\" + img_id;\n                        axios({\n                            method: 'post',\n                            url: url,\n                            headers: {\n\n                            }\n\n                        }).then(response => {\n\n                            response,\n                            this.editedItem.images[index].image_url = 'a';\n                            //not important\n                            this.img_name = index;\n                            this.images[index] = 'a';\n\n                            Swal.fire(\n                                '  ',\n                                '',\n                                'success'\n                            )\n\n                        }).catch(error => {\n                            error\n                            //     this.$swal('', \" \", 'error')\n                        }).finally(d => {\n                            d,\n\n                            this.getitems();\n                        });\n\n\n\n                    }\n                })\n\n\n\n\n            },\n\n\n            cancel() {\n                this.$refs.form.reset(),\n                    this.$emit(\"changeStatus\", false);\n            },\n\n            editt() {\n                // alert(this.item_id);\n                this.$emit(\"edite_item\");\n\n            },\n\n            step1() {\n                this.e1 = 1;\n                this.Check_Primery();\n\n\n            },\n\n            step2() {\n\n                this.e1 = 2;\n                this.Check_Primery();\n                // this.Check_payment();\n                // this.Check_address();\n\n\n            },\n\n\n            step3() {\n                this.e1 = 3;\n                this.Check_Primery();\n                this.Check_address();\n                //  this.Check_date();\n                // this.Check_payment();\n\n\n            },\n\n\n\n\n\n\n\n\n\n\n\n\n            Check_Primery() {\n\n\n\n\n                this.errors_primery = [];\n\n                if (!this.editedItem.item_name || !this.editedItem.sub_category.category_id || !this.editedItem\n                    .sub_category\n                    .id || !this.editedItem.item_description) {\n\n\n                    this.errors_primery.push(\"  \");\n                }\n\n\n                if (this.errors_primery.length) {\n                    this.er1 = false;\n                } else {\n                    this.er1 = true;\n                }\n\n\n            },\n\n\n\n            Check_address() {\n\n                this.errors_address = [];\n                if (!this.editedItem.Address.province.country_id || !this.editedItem.Address.province.id || !this\n                    .editedItem.Address.address_descraption) {\n                    this.errors_address.push(\"  \");\n                }\n                if (this.errors_address.length) {\n                    this.er_address = false;\n                } else {\n                    this.er_address = true;\n                }\n            },\n\n\n            Check_payment() {\n\n                this.errors_payment = [];\n\n\n                if (!this.$refs.valid_payment.validate()) {\n                    this.errors_payment.push(\"  \");\n                }\n\n                //                 if (!this.editedItem.price.price_value ) {\n\n                //   if (this.editedItem.price.payment_when_receiving !==1 || this.editedItem.price.payment_when_receiving !==0 ) {\n\n\n                //                     this.errors_payment.push(\"   \");\n                //                 }\n\n                //                     this.errors_payment.push(\"  \");\n                //                 }\n\n                //                 if (this.errors_payment.length) {\n                //                     this.er_payment = false;\n                //                 } else {\n                //                     this.er_payment = true;\n                //                 }\n            },\n\n\n\n\n\n            getlocation(lat, lng) {\n\n                this.editedItem.address.lat = lat;\n                this.editedItem.address.long = lng\n                this.map_dialog = false;\n\n\n            },\n            price_percentage(v) {\n\n                this.offer_info.new_price = this.offer_info.old_price;\n                this.offer_info.new_price = this.offer_info.old_price - (this.offer_info.old_price * (v / 100));\n                this.offer_info.discount_percentage = v;\n\n\n\n            },\n\n\n\n\n\n\n\n            change_timeday() {\n                this.day_to_open.length = 0;\n            },\n            select_reser_type1(id) {\n\n                this.reserv_type_id1 = id;\n            },\n            select_reser_type(id) {\n\n                this.reserv_type_id = id;\n                if (id == 1) {\n                    this.book_dur_status = true;\n                    this.book_num_status = false;\n                } else if (id == 2) {\n                    this.book_dur_status = false;\n                    this.book_num_status = true;\n                } else {\n                    this.book_dur_status = false;\n                    this.book_num_status = false;\n                }\n            },\n\n            allowedHours(v) {\n                v\n\n                return false;\n            },\n\n            comput_maxRequest(id, time_duration, from_tim, to_tim) {\n\n                if (id == 0) {\n                    return 0;\n                } else if (id == 1) {\n                    // this.reservation_duration\n\n                    var from_hour = parseInt(from_tim.split(\":\")[0])\n                    var from_min = parseInt(from_tim.split(\":\")[1])\n\n\n                    var to_hour = parseInt(to_tim.split(\":\")[0])\n                    var to_min = parseInt(to_tim.split(\":\")[1])\n\n                    var from = from_hour * 60 + from_min;\n\n\n                    var to = to_hour * 60 + to_min;\n\n                    var result = to - from;\n\n                    var houer = parseInt(time_duration.split(\":\")[0]);\n                    var minit = parseInt(time_duration.split(\":\")[1]);\n\n                    var dur = houer * 60 + minit;\n\n                    result = result / dur\n\n                    return result\n\n                } else {\n                    return 0\n                }\n\n\n\n\n            },\n            submit() {\n\n\n\n\n                var imag = [];\n                for (var im = 0; im < this.images.length; im++) {\n\n\n                    if (this.images[im] != 'a' && this.images[im] !== this.img_url + \"/images/\" + this.editedItem\n                        .images[im]\n                        .image_url) {\n\n                        imag.push(this.images[im]);\n                    }\n\n\n\n                }\n\n\n\n                if (!this.er1) {\n                    this.step1();\n\n                } else if (!this.er_payment) {\n                    this.step4();\n                }\n\n\n\n                if (this.editedItem.price.free_cancellation) {\n                    this.editedItem.price.free_cancellation = 1;\n                } else {\n                    this.editedItem.price.free_cancellation = 0;\n                }\n\n\n\n\n\n                if (this.DayOpen == 0) {\n                    this.$swal('', \"       \", 'warning')\n                }\n\n\n\n                this.user_info = this.$cookies.get('admin_info');\n\n\n\n                var data = {\n\n\n                    item_name: this.editedItem.item_name,\n                    item_description: this.editedItem.item_description,\n                    sub_category_id: this.editedItem.sub_category.id,\n                    category_id: this.editedItem.sub_category.category_id,\n                    number_of_items: this.editedItem.number_of_items,\n                    status_id:this.editedItem.status.id,\n                    //Price Data\n                    price: this.editedItem.price,\n\n\n                    //Address Informations\n                    Address: [],\n                    images: imag,\n                    deliverable_id:this.editedItem.deliverable_id,\n                    work_times: [],\n                    ItemFeatures: []\n\n\n\n\n\n\n\n                    // images: imag\n                };\n\n\n                this.loading = true;\n                var posturl = this.item_id != 0 ? \"/v2/items/update/\" + this.item_id : \"/v2/items/store\";\n\n\n\n                data,\n                this.$http({\n                        method: 'post',\n                        url: posturl,\n                        data: data,\n                        headers: {\n\n\n                        }\n\n                    })\n                    .then(response => {\n\n                        this.$swal('', this.item_id != 0 ? \"  \" : \"      \", 'success')\n                        this.dialog = false;\n                        this.cancel();\n\n\n                        if (response.data.success == true) {\n\n                            this.dialog = false;\n\n\n                        }\n\n\n\n\n                    })\n                    .catch((error) => {\n                        error,\n                        this.$swal('', this.item_id != 0 ? \"  \" : \"      \", 'success')\n                        this.dialog = false;\n                        EventBus.$emit(\"changeStatus\", false);\n\n                        //  this.err_show = true;\n                        //this.$swal('', this.item_id != 0 ? \"        \" : \"  \",\n                        //   'error')\n\n                    }).finally(d => {\n                        d,\n                        this.loading = false;\n                        this.everyday = false;\n                        this.everytime = false;\n                    });\n                // } else {\n\n                //     this.err_show = true;\n\n\n\n\n                //  }\n\n\n\n\n            },\n\n\n\n            getCategory() {\n\n\n                this.$http({\n                        method: 'get',\n                        url: \"/v2/info/Categories\",\n                    })\n\n                    .then(response => {\n                        this.category = response.data.data;\n\n\n\n                    })\n            },\n\n\n            getCountry() {\n\n\n                this.$http({\n                        method: 'get',\n                        url: \"/v2/info/Countries\",\n                    })\n\n                    .then(response => {\n                        this.countries = response.data.data;\n\n\n\n                    })\n            },\n\n\n\n            getSubCategory() {\n\n                if (this.item_ID == 0) {\n                    var cat_id = this.editedItem.sub_category.category_id\n\n\n                } else {\n                    cat_id = this.editedItem.sub_category.category.id;\n\n                }\n\n                var url = \"v2/info/subCategoryCat_id/\" + cat_id;\n                this.$http({\n                    method: 'get',\n                    url: url,\n                }).then(response => {\n                    this.subcategory = response.data.data;\n\n\n\n                })\n            },\n            getProvince() {\n\n\n                this.$http({\n                        method: 'get',\n                        url: '/v2/info/Provinces',\n                    })\n\n                    .then(response => {\n                        this.province = response.data.data;\n\n\n\n                    })\n            },\n\n\n\n\n\n\n\n\n\n            pickFile(index) {\n\n                this.img_cliced = index\n                this.$refs.image.click()\n            },\n\n            onFilePicked(e) {\n\n                const files = e.target.files\n                if (files[0] !== undefined) {\n                    this.imageName = files[0].name\n                    if (this.imageName.lastIndexOf('.') <= 0) {\n                        return\n                    }\n                    const fr = new FileReader()\n                    fr.readAsDataURL(files[0])\n                    fr.addEventListener('load', () => {\n                        this.imageUrl = fr.result\n                        this.imageFile = files[0]\n\n                        this.images[this.img_cliced] = fr.result;\n                        var a = this.img_cliced + 1;\n                        this.img_name = \"     \" + a\n\n\n                    })\n\n                } else {\n                    this.imageName = ''\n                    this.imageFile = ''\n                    this.imageUrl = ''\n                }\n            },\n\n            change_payment(status) {\n                if (status == true) {\n                    this.editedItem.price.free_cancellation = false;\n                    this.editedItem.price.deduction = 0;\n                }\n\n\n\n\n\n            },\n            change_reservation_type() {\n\n                console.log(this.editeDayOpen.reservation_type);\n                // alert(this.editeDayOpen.reservation_type.id);\n                if (this.editeDayOpen.reservation_type.id == 2) {\n                    this.reservation_num = true;\n                } else {\n                    this.reservation_num = false;\n\n                }\n\n            },\n\n\n\n\n\n\n            save() {\n                if (this.editedIndex > -1) {\n                    Object.assign(this.editedItem.day_to_open[this.editedIndex], this.editedItem)\n                } else {\n                    this.editedItem.day_to_open.push(this.editedItem)\n                }\n                this.close()\n            },\n\n\n        },\n\n        watch: {\n            selected: 'dd',\n            steps(val) {\n\n                if (this.e1 > val) {\n                    this.e1 = val\n                }\n            },\n\n\n\n        },\n        computed: {\n\n\n        },\n\n\n\n\n        created() {\n\n\n\n        },\n\n\n        mounted() {\n            this.getCategory();\n            this.getProvince();\n\n            // this.token = localStorage.getItem('access_token');\n            // this.user_info = JSON.parse(localStorage.getItem('user_info'));\n\n            //   this.user_info = this.$cookies.get('admin_info');\n\n\n            this.item_id = this.item_ID;\n\n\n            this.item_id != 0 ? this.getItemDetails() : this.day_to_open.length = 0;\n        },\n\n        components: {\n\n\n\n        }\n\n    }\n</script>"]}]}