{"remainingRequest":"/Users/haideraltemimy/Documents/GitHub/Hejozat/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/haideraltemimy/Documents/GitHub/Hejozat/src/components/admin/components/item_dialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/haideraltemimy/Documents/GitHub/Hejozat/src/components/admin/components/item_dialog.vue","mtime":1585659622022},{"path":"/Users/haideraltemimy/Documents/GitHub/Hejozat/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/Users/haideraltemimy/Documents/GitHub/Hejozat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/haideraltemimy/Documents/GitHub/Hejozat/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n    EventBus\n  } from './event-bus.js';\n    import GoogleMap from '../components/map'\n    import itemFormx from '../components/item_form'\n    import itemDialog from './item_dialog.vue'\n\n    export default {\n\n    props: {\n      'item_ID': Number,\n      'hidden': Boolean\n    },\n\n        data: () => ({\n            dialog: false,\nitem_id:'',\n            errors_address: [],\n            errors_address: [],\n           // item_id:'',\n            errors_payment: [],\n            er_address: true,\n            er_payment: true,\n            er1: true,\n            e1: 1,\n            switch2: false,\n            radios: 'radio-1',\n            submit_name: '',\n            errors_primery: [],\n            // price_percentage:'',\n            item_new_price: '',\n            menu_date_from: false,\n            menu_date_to: false,\n            editdailog: false,\n            user_info: {},\n            //itemId: '',\n            token: '',\n            err_show: false,\n            menu1: false,\n            menu2: false,\n            menu3: false,\n            menu4: false,\n            map_dialog: false,\n            modal2: false,\n            book_dur_status: false,\n            book_num_status: false,\n            offer_info: {\n\n\n            }\n\n            ,\n            reve_type: [{\n                id: 0,\n                duration: 'غير محدود'\n            }, {\n                id: 1,\n                duration: 'اختيار فترة'\n            }, {\n                id: 2,\n                duration: 'اختيار عدد لليوم الواحد'\n            }],\n            reve_type1: [{\n                id: 0,\n                duration: 'غير محدود'\n            }, {\n                id: 1,\n                duration: 'اختيار فترة'\n            }, {\n                id: 2,\n                duration: 'اختيار عدد  '\n            }],\n            error: '',\n            msg_error_txt: 'هذا اليوم مكرر ',\n            urL: 'http://109.224.53.155',\n\n            page: 1,\n            pageCount: 0,\n            items: [],\n            editedIndex: -1,\n\n            editedItem: {\n                sub_category:{\n                    category_id:0,\n                    id:0,\n                    name:\"\",\n                },\n                address: {\n                    province_id: '',\n                    country_id: '',\n                    discraption: '',\n                    long: '',\n                    lat: ''\n\n                },\n                item_price: {\n                    id: '',\n                    price: '',\n                    payment: '',\n                    deduction: 0,\n                    book_without_credit_card: '',\n                    free_cancelation: '',\n                    no_prepayment: '',\n                    status: '',\n                },\n                name: '',\n                calories: 0,\n                fat: 0,\n                carbs: 0,\n                disc:'',\n                protein: 0,\n            },\n            valid: false,\n            deduction: '',\n            days: [\"السبت\", \"الاحد\", \"الاثنين\", \"الثلاثاء\", \"الاربعاء\", \"الخميس\", \"الجمعة\", \"كل الايام\"],\n            times: [\"1:00 م\", \"2:00 م\", \"3:00 م\", \"4:00 م \", \"5:00 م\", \"6:00 م\", \"7:00 م \", \"8:00 م\", \"9:00 م\",\n                \"10:00 م\",\n                \"11:00 م\", \"12:00 م\",\n                \"1:00 ص\", \"2:00 ص\", \"3:00 ص\", \"4:00 ص \", \"5:00 ص\", \"6:00 ص\", \"7:00 ص \", \"8:00 ص\", \"9:00 ص\",\n                \"10:00 ص\",\n                \"11:00 ص\", \"12:00 ص\"\n            ],\n\n            img_cliced: -1,\n            day_to_open: [{\n\n              every_day: 0,\n              every_time: 0,\n              from_day: \"\",\n              from_time: \"\",\n              to_day: \"\",\n              to_time: \"\",\n              max_requests: 0\n            }],\n\n            nameRules: [\n                v => !!v || 'هذا الحقل مطلوب  ',\n\n            ],\n            numberRul: [\n                v => !!v || 'هذا الحقل مطلوب  ',\n\n                v => !isNaN(v) || 'يجب ادخال رقم ',\n            ],\n            numberRul1: [\n\n                v => !isNaN(v) || 'يجب ادخال رقم ',\n            ],\n            descriptRules: [\n                v => !!v || 'هذا الحقل مطلوب  ',\n                v => v.length >= 20 || 'يجب ان يكون الوصف اكثر من ٢٠ حرف ',\n            ],\n            loading: false,\n            province: [],\n            imageName: '',\n            imageUrl: '',\n            countries: [{name:'العراق',id:1}],\n            imageFile: '',\n            images: ['a', 'a', 'a', 'a'],\n      \n            payment: false,\n           \n            free_cancelation: false,\n            deductionvalue: 0,\n            everyday: false,\n            everytime: false,\n            fromday: '',\n            today: '',\n            fromtime: '',\n            totime: '',\n            current_page: 1,\n            last_page: 0,\n            offer_dialog: false,\n            subcategory: [],\n            sub_category_id: '',\n            category: [],\n            reserv_type_id1: -1,\n            valid_day: true,\n            img_name: '',\n            lat: 0,\n            lng: 0,\n\n\n        }),\n\n\n\n        methods: {\n             getItemDetails() {\n                 \n             \n        var url = this.urL + \"/getItemBy/\"+this.item_id;\n        axios.get(url).then(response => {\n          this.editedItem = response.data.Data[0];\n          this.imgs = this.editedItem.images;\n          this.address = response.data.Data[0].address.province.province_name;\n         \n  this.getSubCategory();\n          for (var i = 0; i < 4; i++) {\n            this.images[i] = this.urL + \"/\" + this.editedItem.images[i].image_path;\n\n          }\nthis.day_to_open=[];\n          for (var a = 0; a < this.editedItem.day_to_open.length; a++) {\n\n            this.day_to_open.push({\n\n              every_day: this.editedItem.day_to_open[a].every_day,\n              every_time: this.editedItem.day_to_open[a].every_time,\n              from_day: this.editedItem.day_to_open[a].from_day,\n              from_time: this.editedItem.day_to_open[a].from_time,\n              to_day: this.editedItem.day_to_open[a].to_day,\n              to_time: this.editedItem.day_to_open[a].to_time,\n              max_requests: this.editedItem.day_to_open[a].max_requests\n            });\n\n          }\n          if (this.editedItem.day_to_open.length < 1) {\n\n            this.editedItem.day_to_open.push({\n              id: 0,\n\n              every_day: 0,\n              every_time: 0,\n              from_day: 0,\n              from_time: 0,\n              to_day: 0,\n              to_time: 0,\n              max_requests: 0\n            });\n          }\n          this.everyday=this.day_to_open[0].every_day;\n          this.everytime= this.day_to_open[0].every_time;\n\n        \n\n        })\n      },\n\n            cancel() {\n                this.$emit(\"changeStatus\", false);\n            },\n\n            editt()\n            {\n                // alert(this.item_id);\n                this.$emit(\"edite_item\");\n                \n            },\n\n            step1() {\n                this.e1 = 1;\n                this.Check_Primery();\n\n\n            },\n\n            step2() {\n\n                this.e1 = 2;\n                this.Check_Primery();\n                // this.Check_payment();\n                // this.Check_address();\n\n\n            },\n\n            step3() {\n                this.e1 = 3;\n                this.Check_Primery();\n                this.Check_address();\n                // this.Check_payment();\n\n\n            },\n            step4() {\n                this.e1 = 4;\n                this.Check_Primery();\n                this.Check_address();\n                // this.Check_payment();\n\n\n            },\n            step5() {\n                this.e1 = 5;\n                this.Check_Primery();\n                this.Check_address();\n                this.Check_payment();\n\n\n            },\n\n\n            Check_Primery() {\n\n                \n\n\n                this.errors_primery = [];\n                if (!this.editedItem.name || !this.editedItem.sub_category.category_id || !this.editedItem.sub_category.id || !this.editedItem.disc) {\n                    \n\n                    this.errors_primery.push(\"يرجئ ملئ الحقول\");\n                }\n\n\n                if (this.errors_primery.length) {\n                    this.er1 = false;\n                } else {\n                    this.er1 = true;\n                }\n\n\n            },\n\n\n\n            Check_address() {\n\n                this.errors_address = [];\n                if (!this.editedItem.address.country_id || !this.editedItem.address.province_id || !this.editedItem\n                    .address.lat || !this.editedItem.address.long || !this.editedItem.address.discraption) {\n                    this.errors_address.push(\"يرجئ ملئ الحقول\");\n                }\n                if (this.errors_address.length) {\n                    this.er_address = false;\n                } else {\n                    this.er_address = true;\n                }\n            },\n\n\n            Check_payment() {\n                this.errors_payment = [];\n                if (!this.editedItem.item_price.price) {\n\n                    this.errors_payment.push(\"يرجئ ملئ الحقول\");\n                }\n\n                if (this.errors_payment.length) {\n                    this.er_payment = false;\n                } else {\n                    this.er_payment = true;\n                }\n            },\n\n\n\n\n\n            getlocation(lat, lng) {\n                this.editedItem.address.lat = lat;\n                this.editedItem.address.long = lng\n                this.map_dialog = false;\n\n\n            },\n            price_percentage(v) {\n\n                this.offer_info.new_price = this.offer_info.old_price;\n                this.offer_info.new_price = this.offer_info.old_price - (this.offer_info.old_price * (v / 100));\n                this.offer_info.discount_percentage = v;\n\n\n\n            },\n\n\n\n\n\n\n\n            change_timeday() {\n                this.day_to_open.length = 0;\n            },\n            select_reser_type1(id) {\n\n                this.reserv_type_id1 = id;\n            },\n            select_reser_type(id) {\n\n                this.reserv_type_id = id;\n                if (id == 1) {\n                    this.book_dur_status = true;\n                    this.book_num_status = false;\n                } else if (id == 2) {\n                    this.book_dur_status = false;\n                    this.book_num_status = true;\n                } else {\n                    this.book_dur_status = false;\n                    this.book_num_status = false;\n                }\n            },\n\n            allowedHours(v) {\n\n                return false;\n            },\n\n            comput_maxRequest(id, time_duration, from_tim, to_tim) {\n\n                if (id == 0) {\n                    return 0;\n                } else if (id == 1) {\n                    // this.reservation_duration\n\n                    var from_hour = parseInt(from_tim.split(\":\")[0])\n                    var from_min = parseInt(from_tim.split(\":\")[1])\n\n\n                    var to_hour = parseInt(to_tim.split(\":\")[0])\n                    var to_min = parseInt(to_tim.split(\":\")[1])\n\n                    var from = from_hour * 60 + from_min;\n\n\n                    var to = to_hour * 60 + to_min;\n\n                    var result = to - from;\n\n                    var houer = parseInt(time_duration.split(\":\")[0]);\n                    var minit = parseInt(time_duration.split(\":\")[1]);\n\n                    var dur = houer * 60 + minit;\n\n                    result = result / dur\n\n                    return result\n\n                } else {\n                    return 0\n                }\n\n\n\n\n            },\n            submit() {\n\n\n\n                if (!this.er1) {\n                    this.step1();\n                } else if (!this.er_address) {\n                    this.step2();\n                } else if (!this.er_payment) {\n                    this.step4();\n                }\n\n                if (this.editedItem.item_price.book_without_credit_card) {\n                    this.editedItem.item_price.book_without_credit_card = 1;\n                } else {\n                    this.editedItem.item_price.book_without_credit_card = 0;\n                }\n\n                if (this.editedItem.item_price.free_cancelation) {\n                    this.editedItem.item_price.free_cancelation = 1;\n                } else {\n                    this.editedItem.item_price.free_cancelation = 0;\n                }\n\n\n\n                if (this.everyday && this.everytime) {\n\n                    this.day_to_open.length = 0\n                    this.day_to_open.push({\n                        every_day: this.everyday,\n                        every_time: this.everytime,\n                        from_day: 0,\n                        from_time: \"00:00\",\n                        to_day: 6,\n                        to_time: \"24:00\",\n                        max_requests: this.comput_maxRequest(this.reserv_type_id, this.reservation_duration,\n                            \"00:00\", \"24:00\")\n                    });\n\n\n\n\n\n                }\n\n                if (this.day_to_open.length == 0) {\n                    this.$swal('تحذير', \"    يجب اختيار جدول الحجز\", 'warning')\n                }\n\n\n\n                if (this.images.find(im => im === 'a')) {\n                    this.$swal('تحذير', \" يجب اختيار 4 من الصور\", 'warning')\n                }\n\n\n                if (this.$refs.form.validate() && this.day_to_open.length > 0) {\n\n\n\n\n                    var data = {\n\n\n                        name: this.editedItem.name,\n                        discraption: this.editedItem.disc,\n                        sub_category_id: this.editedItem.sub_category.id,\n                        category_id: this.editedItem.sub_category.category_id,\n                        number: 0,\n                        //for edit item\nowner_id:8,\naddress_id:1,\n time_open_id: this.item_id!=0?this.editedItem.day_to_open[0].id:0,\n            day_open_id: this.item_id!=0?this.editedItem.day_to_open[0].id:0,\n            item_price_id:this.item_id!=0? this.editedItem.item_price.id:0,\n//end for edit item\n                        price: this.editedItem.item_price.price,\n                        book_without_credit_card: this.editedItem.item_price.book_without_credit_card,\n                        deduction: this.editedItem.item_price.deduction,\n                        cancellation_deduction_ratio: 1,\n                        free_cancellation: this.editedItem.item_price.free_cancelation,\n                        no_prepayment: 1,\n\n\n\n\n\n\n\n\n                        //Address Informations\n                        province_id: this.editedItem.address.province_id,\n                        country_id: this.editedItem.address.country_id,\n                        address_discraption: this.editedItem.address.discraption,\n                        long: this.editedItem.address.long,\n                        lat: this.editedItem.address.lat,\n\n\n                        work_times: this.day_to_open,\n                        type: \"png\",\n                        images: this.images\n                    };\n\n                    // this.description=JSON.stringify(data);\n                    this.loading = true;\n                    var posturl=this.item_id!=0?this.urL + \"/updateItem/\" + this.item_id:this.urL + \"/addItem\";\n                    axios({\n                            method: 'post',\n                            url: posturl,\n                            data: data,\n                            headers: {\n                                token: this.token\n                            }\n\n                        })\n                        .then(response => {\n\n                            this.$swal('تم', this.item_id!=0?\"تم تعديل الحجز\":\"    تم اضافة الحجز\", 'success')\n                            this.dialog = false;\n                            // this.getitems();\n                            this.$refs.form.reset();\n\n                            if (response.data.success == true) {\n                                this.$refs.form.reset()\n                                this.dialog = false;\n\n                                //     this.getitems();\n                            }\n\n\n\n\n                        })\n                        .catch((error) => {\n                            alert('sd');\n                            this.err_show = true;\n                            this.$swal('خطاء', this.item_id!=0?\"     فشل  اضافة الحجز\":\"فشل تعديل الحجز\", 'error')\n\n                        }).finally(d => {\n                            this.loading = false;\n                            this.everyday = false;\n                            this.everytime = false;\n                        });\n                } else {\n\n                    this.err_show = true;\n\n\n\n\n                }\n\n\n\n\n            },\n\n\n\n            getCategory() {\n\n                var url = this.urL + \"/getInfo/Category\";\n                axios.get(url).then(response => {\n                    this.category = response.data.Data;\n\n\n\n                })\n            },\n\n\n            getCountry() {\n\n                var url = this.urL + \"/getInfo/Country\";\n                axios.get(url).then(response => {\n                    this.countries = response.data.Data;\n\n\n\n                })\n            },\n\n\n\n            getSubCategory() {\n\n                var url = this.urL + \"/getInfo/SubCategory/\" + this.editedItem.sub_category.category_id;\n                axios.get(url).then(response => {\n                    this.subcategory = response.data.Data;\n\n\n\n                })\n            },\n            getProvince() {\n\n                var url = this.urL + \"/getInfo/Province/1\";\n                axios.get(url).then(response => {\n                    this.province = response.data.Data;\n\n\n\n                })\n            },\n\n\n            addday() {\n                if (this.$refs.form_day.validate()) {\n\n\n                    this.msg_error = false;\n\n\n                    let search = this.day_to_open.find((o, i) => {\n                        if (o.from_day == this.days.indexOf(this.fromday)) {\n                            return o;\n                        }\n                    });\n\n\n                    if (search == undefined) {\n                        if (this.everytime && !this.everyday) {\n                            this.add_day_reversation();\n                        } else if (this.everyday && !this.everytime) {\n                            this.add_time_reversation();\n                        } else {\n                            this.add_dayTime_reversation();\n\n                        }\n                    } else {\n                        this.$swal('تحذير', \"  لايمكن تكرار اليوم\", 'warning')\n\n                        this.$refs.form_day.reset();\n                    }\n\n                }\n\n            },\n\n\n            add_dayTime_reversation() {\n\n\n                this.day_to_open.push({\n                    every_day: this.everyday,\n                    every_time: this.everytime,\n                    from_day: this.days.indexOf(this.fromday),\n                    from_time: this.fromtime,\n                    to_day: this.days.indexOf(this.fromday),\n                    to_time: this.totime,\n                    max_requests: this.comput_maxRequest(this.reserv_type_id1, this\n                        .reservation_duration_foroneday, this\n                        .fromtime, this.totime)\n                });\n\n                this.$refs.form_day.reset();\n\n            },\n\n            add_day_reversation() {\n                this.day_to_open.push({\n                    every_day: this.everyday,\n                    every_time: this.everytime,\n                    from_day: this.days.indexOf(this.fromday),\n                    from_time: 0,\n                    to_day: this.days.indexOf(this.fromday),\n                    to_time: 23,\n                    max_requests: this.comput_maxRequest(this.reserv_type_id1, this\n                        .reservation_duration_foroneday, \"00:00\",\n                        \"23:00\")\n                });\n\n                this.$refs.form_day.reset();\n\n            },\n\n\n            add_time_reversation() {\n\n                if (this.day_to_open.length < 1) {\n                    this.day_to_open.push({\n                        every_day: this.everyday,\n                        every_time: this.everytime,\n                        from_day: 0,\n                        from_time: this.fromtime,\n                        to_day: 6,\n                        to_time: this.totime,\n                        max_requests: this.comput_maxRequest(this.reserv_type_id1, this\n                            .reservation_duration_foroneday, this\n                            .fromtime, this.totime)\n                    });\n\n                    this.$refs.form_day.reset();\n                } else {\n                    this.$swal('تحذير', \" لايمكن اضافة وقت اخر\", 'warning')\n                }\n\n\n            },\n            pickFile(index) {\n\n                this.img_cliced = index\n                this.$refs.image.click()\n            },\n\n            onFilePicked(e) {\n\n                const files = e.target.files\n                if (files[0] !== undefined) {\n                    this.imageName = files[0].name\n                    if (this.imageName.lastIndexOf('.') <= 0) {\n                        return\n                    }\n                    const fr = new FileReader()\n                    fr.readAsDataURL(files[0])\n                    fr.addEventListener('load', () => {\n                        this.imageUrl = fr.result\n                        this.imageFile = files[0]\n\n                        this.images[this.img_cliced] = fr.result;\n                        var a = this.img_cliced + 1;\n                        this.img_name = \"   صورة رقم \" + a\n\n                    })\n\n                } else {\n                    this.imageName = ''\n                    this.imageFile = ''\n                    this.imageUrl = ''\n                }\n            },\n\n            change_payment(status) {\n                if (status == true) {\n                    this.editedItem.item_price.free_cancelation = false;\n                    this.editedItem.item_price.deduction = 0;\n                }\n\n            },\n            \n\n\n\n        \n\n            save() {\n                if (this.editedIndex > -1) {\n                    Object.assign(this.desserts[this.editedIndex], this.editedItem)\n                } else {\n                    this.desserts.push(this.editedItem)\n                }\n                this.close()\n            },\n\n        },\n\n        watch: {\n               selected:'dd',\n            steps(val) {\n \n                if (this.e1 > val) {\n                    this.e1 = val\n                }\n            },\n\n           \n        \n        },\n        computed: {\n           \n            selected() {\n                \n                if (this.current_page != this.page) {\n\n                    this.getMoreitems();\n\n                }\n            }\n        },\n\n\n\n\n created() {\n     \n   //this.editt();\n //  alert(this.item_id);\n    //this.getItemDetails();\n    //   EventBus.$on('edit_item',item_id => {\n          \n    //       alert('xxxxxxxx');\n    //       this.getItemDetails(item_id);\n    //         this.getCategory();\n    //         this.getCountry();\n    //         this.getProvince();\n\n        \n\n    //   });\n\n\n\n\n\n\n\n    },\nupdated(){\n\n    if(this.item_ID!=this.item_id){\n        this.item_id=this.item_ID;\n     this.getItemDetails();\n    }\n\n},\n        mounted() {\n        \n      this.token = localStorage.getItem('access_token');\n      this.user_info = JSON.parse(localStorage.getItem('user_info'));\n    \nthis.item_id=this.item_ID;\n\n      this.getCategory();\n      this.getProvince();\n     this.item_id!=0? this.getItemDetails():this.day_to_open.length=0;\n    },\n        components: {\n            GoogleMap,\n            itemDialog\n\n        }\n    }\n",{"version":3,"sources":["item_dialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsoBA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;AAIA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA;;;;;AAKA;AACA;;;AAGA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;;;AAIA;;;;;;;;AAQA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;;;AAGA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;;;AAKA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;;AAEA;AACA;AACA;;;;AAIA;AACA;AACA;;;AAGA;;;;;AAKA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;AAKA;;;;;AAKA;;;;AAIA;;AAEA;AACA;AACA;;;;AAIA;AACA;;;AAGA;;AAEA;AACA;AACA;;;;AAIA;AACA;;;;AAIA;;AAEA;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;;;;AAIA;AACA;;;AAGA;AACA;;;AAGA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;;AAGA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;;;AAKA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;;;;;;;;AAQA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"item_dialog.vue","sourceRoot":"src/components/admin/components","sourcesContent":["<template>\n\n\n    <v-form ref=\"form\" v-model=\"valid\">\n\n        <v-card height=\"700\">\n\n            <v-card-title class=\"headline grey lighten-2\" primary-title\n                style=\"\tfont-family: 'droid_bold' !important;    background-color: #435c6f!important;color:#fff\">\n            <span v-if=\"item_ID==0\">اضافة حجز</span>\n            <span v-else>تعديل الحجز</span>\n            </v-card-title>\n\n\n            <v-container style=\"padding:20px\">\n\n                <v-stepper v-model=\"e1\">\n                    <!--Star Steper Header-->\n                    <v-stepper-header>\n                        <!--   <v-stepper-step :rules=\"[() =>this.er1]\" :complete=\"e1 > 1\" step=\"1\" @click=\"step1()\">المعلومات     edit-icon=\"fas fa-money-check-alt\"-->\n                        <v-stepper-step :rules=\"[() =>this.er1]\" :complete=\"e1 > 1\" step=\"1\">المعلومات\n                            الاساسيه\n                            <small>{{this.errors_primery[0]}}</small>\n                        </v-stepper-step>\n\n                        <v-divider></v-divider>\n\n                        <v-stepper-step :rules=\"[() =>this.er_address]\" :complete=\"e1 > 2\" step=\"2\">معلومات\n                            الموقع\n                            <small>{{this.errors_address[0]}}</small>\n                        </v-stepper-step>\n\n                        <v-divider></v-divider>\n\n                        <v-stepper-step :complete=\"e1 > 3\" :editable=\"false\" step=\"3\">معلومات\n                            الوقت </v-stepper-step>\n                        <v-divider></v-divider>\n\n\n                        <v-stepper-step :complete=\"e1 > 4\" step=\"4\" :editable=\"false\" :rules=\"[() =>this.er_payment]\">\n                            معلومات الدفع\n                            <small>{{this.errors_payment[0]}}</small>\n\n                        </v-stepper-step>\n\n                        <v-divider></v-divider>\n                        <v-stepper-step step=\"5\"> الصور</v-stepper-step>\n                    </v-stepper-header>\n                    <!--End Steper Header-->\n\n\n\n                    <v-stepper-items>\n\n                        <!--Primery Info-->\n                        <v-stepper-content step=\"1\">\n                            <v-card class=\"mb-12\" color=\"#cac0c057\" height=\"400px\" pl-5>\n\n                                <v-layout row wrap pr-2 pl-2>\n\n                                    <v-flex pa-3 xs6>\n                                        <v-text-field background-color=\"#fff\" height=\"50\" style=\"\"\n                                            placeholder=\"اسم الحجز\" v-model=\"editedItem.name\" :rules=\"nameRules\"\n                                            required></v-text-field>\n                                    </v-flex>\n\n\n\n                                </v-layout>\n\n\n                                <v-layout row wrap pr-2 pl-2>\n                                    <v-flex pa-3 xs6>\n                                        <v-select background-color=\"#ffffff\" height=\"50\" :rules=\"nameRules\" class=\"my-2\"\n                                            :items=\"category\" item-value=\"id\" item-text=\"name\"\n                                            v-model=\"editedItem.sub_category.category_id\" placeholder=\"  التصنيف الرئيسي\"\n                                            @change=\"getSubCategory()\" required></v-select>\n                                    </v-flex>\n\n                                    <v-flex pa-3 xs6>\n                                        <v-select :rules=\"nameRules\" segmented class=\"my-2\" :items=\"subcategory\"\n                                            item-value=\"id\" item-text=\"name\" background-color=\"#ffffff\" height=\"50\"\n                                            v-model=\"editedItem.sub_category.id\" placeholder=\" التصنيف الفرعي\"\n                                            @change=\"dis()\" required></v-select>\n                                    </v-flex>\n\n\n\n\n\n\n                                </v-layout>\n\n\n                                <v-layout>\n                                    <v-flex pa-3 xs12>\n                                        <v-textarea background-color=\"#fff\" placeholder=\" الوصف \"\n                                            v-model=\"editedItem.disc\" :rules=\"descriptRules\" required>\n                                        </v-textarea>\n                                    </v-flex>\n\n\n\n                                </v-layout>\n\n                            </v-card>\n\n\n                            <v-btn color=\"primary\" @click=\"step2()\">\n                                التالي\n\n                            </v-btn>\n\n                            <!-- <v-btn text>Cancel</v-btn> -->\n                        </v-stepper-content>\n                        <!--End Primery Info-->\n\n\n\n\n\n\n\n\n\n                        <!--Location Info-->\n                        <v-stepper-content step=\"2\">\n                            <v-card class=\"mb-12\" color=\"#cac0c057\" height=\"400px\">\n                                <v-layout row wrap pr-2 pl-2>\n\n                                    <v-flex pa-3 xs12 sm6 md6>\n                                        <v-select background-color=\"#fff\" height=\"50\" item-value=\"id\" item-text=\"name\"\n                                            :items=\"countries\" placeholder=\"الدوله\" target=\"#dropdown-example\"\n                                            v-model=\"editedItem.address.country_id\" required :rules=\"nameRules\">\n                                        </v-select>\n                                    </v-flex>\n\n                                    <v-flex pa-3 xs12 md6 sm6>\n                                        <v-select background-color=\"#fff\" height=\"50\" item-value=\"id\"\n                                            item-text=\"province_name\" :items=\"province\" placeholder=\" المحافظة\"\n                                            target=\"#dropdown-example\" v-model=\"editedItem.address.province_id\" required\n                                            :rules=\"nameRules\"></v-select>\n                                    </v-flex>\n                                </v-layout>\n\n                                <v-layout>\n\n\n                                    <v-flex pa-3 xs12 md4 sm4>\n                                        <v-text-field background-color=\"#fff\" height=\"50\" placeholder=\" الطول \" disabled\n                                            readonly v-model=\"editedItem.address.lat\" :rules=\"nameRules\" required>\n                                        </v-text-field>\n                                    </v-flex>\n\n                                    <v-flex pa-3 xs12 md4 sm4>\n                                        <v-text-field background-color=\"#fff\" height=\"50\" placeholder=\" العرض \" disabled\n                                            readonly v-model=\"editedItem.address.long\" :rules=\"nameRules\" required>\n                                        </v-text-field>\n                                    </v-flex>\n\n\n                                    <v-flex xs12 md4 sm4 pt-7>\n                                        <v-btn height=\"50\" color=\"info\" @click=\"map_dialog=true\">اضغط هنا لتحديد الموقع\n                                            علي الخارطه\n                                        </v-btn>\n                                    </v-flex>\n\n                                    <v-dialog v-model=\"map_dialog\" max-width=\"700px\">\n\n                                        <GoogleMap @getmyLocation=\"getlocation\" @cancel=\"map_dialog=false\" />\n\n                                    </v-dialog>\n\n\n\n\n\n\n                                </v-layout>\n\n\n\n\n\n\n                                <v-flex pa-3 xs12>\n                                    <v-textarea background-color=\"#fff\" placeholder=\" الوصف \"\n                                        v-model=\"editedItem.address.discraption\" :rules=\"nameRules\" required>\n                                    </v-textarea>\n                                </v-flex>\n\n\n\n                            </v-card>\n\n                            <v-btn color=\"primary\" @click=\"step3()\">\n                                التالي\n                            </v-btn>\n\n\n                            <v-btn text @click=\"step1()\"> السابق</v-btn>\n\n\n                        </v-stepper-content>\n                        <!--End Location Info-->\n\n\n                        <!--Date Info-->\n                        <v-stepper-content step=\"3\">\n                            <v-card class=\"mb-12\" color=\"#cac0c057\" height=\"400px\">\n\n\n\n\n                                <v-layout row wrap pr-3 pt-3>\n                                    <v-flex xs2>\n                                        <v-checkbox v-model=\"everyday\" label=\" كل الايام \" @change=\"change_timeday\">\n                                        </v-checkbox>\n                                    </v-flex>\n\n\n                                    <v-flex xs2>\n\n                                        <v-checkbox v-model=\"everytime\" label=\"كل الساعات  \" @change=\"change_timeday\">\n                                        </v-checkbox>\n                                    </v-flex>\n\n                                </v-layout>\n\n\n\n\n                                <v-flex xs3 pl-3 v-if=\"everyday\">\n                                    <v-select v-if=\"everytime\" background-color=\"#eeeeee\" height=\"40\" :items=\"reve_type\"\n                                        placeholder=\" نوع الحجز\" item-value=\"id\" item-text=\"duration\"\n                                        @change=\"select_reser_type\">\n                                    </v-select>\n                                </v-flex>\n\n\n\n                                <v-flex xs3>\n                                    <v-menu v-if=\"book_dur_status\" v-show=\"everyday\" ref=\"menu3\" v-model=\"menu4\"\n                                        :close-on-content-click=\"false\" :nudge-right=\"40\"\n                                        :return-value.sync=\"reservation_duration\" transition=\"scale-transition\" offset-y\n                                        max-width=\"290px\" min-width=\"290px\">\n                                        <template v-slot:activator=\"{ on }\">\n\n                                            <v-text-field v-model=\"reservation_duration\"\n                                                placeholder=\" مدة الحجز الواحد \" background-color=\"#eeeeee\" height=\"40\"\n                                                required readonly v-on=\"on\"></v-text-field>\n                                        </template>\n                                        <v-time-picker v-if=\"menu4\" v-model=\"reservation_duration\" full-width\n                                            @click:minute=\"$refs.menu3.save(reservation_duration)\"></v-time-picker>\n                                    </v-menu>\n\n\n\n\n                                    <v-text-field v-if=\"book_num_status\" background-color=\"#eeeeee\" height=\"40\"\n                                        placeholder=\"   عدد الحجز باليوم الواحد \" :rules=\"numberRul\" v-model=\"request\">\n                                    </v-text-field>\n\n\n                                </v-flex>\n\n\n\n\n\n\n\n\n                                <v-form ref=\"form_day\" v-model=\"valid_day\">\n                                    <v-layout row wrap v-if=\"everyday==false || everytime==false\" pr-2>\n\n                                        <v-flex pa-2 xs2 v-if=\"!everyday\">\n                                            <v-select background-color=\"#fff\" height=\"40\" class=\"my-2\" :items=\"days\"\n                                                v-model=\"fromday\" placeholder=\"  اليوم\" :rules=\"nameRules\" required>\n                                            </v-select>\n                                        </v-flex>\n\n\n\n\n\n                                        <v-flex pa-3 xs2 v-if=\"!everytime\">\n\n                                            <v-menu ref=\"menu\" v-model=\"menu1\" :close-on-content-click=\"false\"\n                                                :nudge-right=\"40\" :return-value.sync=\"fromtime\"\n                                                transition=\"scale-transition\" offset-y max-width=\"290px\"\n                                                min-width=\"290px\">\n                                                <template v-slot:activator=\"{ on }\">\n                                                    <v-text-field v-model=\"fromtime\" placeholder=\"من الساعة \"\n                                                        background-color=\"#fff\" height=\"40\" required readonly v-on=\"on\">\n                                                    </v-text-field>\n                                                </template>\n                                                <v-time-picker v-if=\"menu1\" v-model=\"fromtime\" full-width\n                                                    @click:minute=\"$refs.menu.save(fromtime)\">\n                                                </v-time-picker>\n                                            </v-menu>\n\n                                        </v-flex>\n\n                                        <v-flex pa-3 xs2 v-if=\"!everytime\">\n\n                                            <v-menu ref=\"menu1\" v-model=\"menu2\" :close-on-content-click=\"false\"\n                                                :nudge-right=\"40\" :return-value.sync=\"totime\"\n                                                transition=\"scale-transition\" offset-y max-width=\"290px\"\n                                                min-width=\"290px\">\n\n\n                                                <template v-slot:activator=\"{ on }\">\n                                                    <v-text-field v-model=\"totime\" placeholder=\" الى الساعة \"\n                                                        background-color=\"#fff\" height=\"40\" required readonly\n                                                        :allowed-hours=\"allowedHours\" v-on=\"on\"></v-text-field>\n                                                </template>\n\n                                                <v-time-picker v-if=\"menu2\" v-model=\"totime\" full-width\n                                                    @click:minute=\"$refs.menu1.save(totime)\">\n                                                </v-time-picker>\n                                            </v-menu>\n\n\n                                        </v-flex>\n\n\n                                        <v-flex xs2 pa-3>\n                                            <v-select background-color=\"#fff\" height=\"40\" :items=\"reve_type1\"\n                                                placeholder=\" نوع الحجز\" item-value=\"id\" item-text=\"duration\"\n                                                @change=\"select_reser_type1\"></v-select>\n                                        </v-flex>\n\n\n                                        <v-flex xs2 pa-3>\n\n\n\n\n\n                                            <v-menu ref=\"menu4\" v-model=\"menu3\" v-if=\"reserv_type_id1==1\"\n                                                :close-on-content-click=\"false\" :nudge-right=\"40\"\n                                                :return-value.sync=\"reservation_duration_foroneday\"\n                                                transition=\"scale-transition\" offset-y max-width=\"290px\"\n                                                min-width=\"290px\">\n                                                <template v-slot:activator=\"{ on }\">\n\n                                                    <v-text-field v-model=\"reservation_duration_foroneday\"\n                                                        placeholder=\" مدة الحجز  \" background-color=\"#fff\" height=\"40\"\n                                                        required readonly v-on=\"on\"></v-text-field>\n                                                </template>\n                                                <v-time-picker v-if=\"menu3\" v-model=\"reservation_duration_foroneday\"\n                                                    full-width\n                                                    @click:minute=\"$refs.menu4.save(reservation_duration_foroneday)\">\n                                                </v-time-picker>\n                                            </v-menu>\n\n\n\n\n                                            <v-text-field v-if=\"reserv_type_id1==2\" background-color=\"#fff\" height=\"40\"\n                                                placeholder=\"   عدد الحجز   \" :rules=\"numberRul\" v-model=\"request\">\n                                            </v-text-field>\n                                        </v-flex>\n\n\n\n                                        <v-flex mt-6 xs1 pl-5>\n                                            <v-btn color=\"success\" @click=\"addday\">\n                                                <v-icon size=\"15\">fas fa-plus</v-icon>\n                                            </v-btn>\n                                        </v-flex>\n\n                                    </v-layout>\n\n\n\n\n\n                                    <!--Tabel Of Days-->\n                                    <v-row style=\"padding-right: 15px;padding-left: 15px;\">\n\n                                        <v-flex xs12 pa-3 pr-2 pl-2>\n                                            <v-simple-table>\n                                                <template v-slot:default>\n                                                    <thead>\n                                                        <tr>\n                                                            <th class=\"text-right\">اليوم</th>\n                                                            <th class=\"text-right\">من الساعه</th>\n                                                            <th class=\"text-right\">الى الساعه</th>\n                                                        </tr>\n                                                    </thead>\n\n                                                    <tbody>\n                                                        <tr v-for=\"item in day_to_open \" :key=\"item.name\">\n                                                            <td> <span v-if=\"!everyday\"> {{days[item.from_day]}}</span>\n                                                                <span v-else>كل الايام</span>\n\n                                                            </td>\n                                                            <td v-if=\"!everytime\"> {{item.from_time}}</td>\n                                                            <td v-if=\"!everytime\"> {{item.to_time}}</td>\n\n\n                                                            <td v-else> كل الاوقات</td>\n\n                                                        </tr>\n                                                    </tbody>\n                                                </template>\n                                            </v-simple-table>\n\n\n\n                                            <!-- <v-card>\n                              <v-row>\n\n                                <v-card-title pr-5>\n                                  <span v-if=\"!everyday\"> {{days[item.from_day]}}</span>\n                                  <span v-else>كل الايام</span>\n                                </v-card-title>\n\n                                <v-divider vertical=\"\"></v-divider>\n\n                                <v-row v-if=\"!everytime\">\n\n                                  <v-card-title>\n                                    {{item.from_time}}\n                                  </v-card-title>\n                                  <v-divider vertical=\"\"></v-divider>\n                                  <v-card-title>\n                                    الى\n                                  </v-card-title>\n                                  <v-divider vertical=\"\"></v-divider>\n                                  <v-card-title>\n                                    {{item.to_time}}\n                                  </v-card-title>\n\n                                </v-row>\n\n                                \n                                <v-row v-else>\n\n\n\n                                  <v-card-title>\n                                    كل الاوقات\n                                  </v-card-title>\n\n                                </v-row> -->\n\n\n\n\n                                        </v-flex>\n\n                                        <v-flex xs4>\n\n                                        </v-flex>\n                                    </v-row>\n\n\n                                    <v-row justify=\"center\">\n\n                                        <v-alert dense outlined type=\"error\" v-show=\"msg_error\">\n                                            <span style=\"padding-right:10px\">{{msg_error_txt}} </span>\n\n                                        </v-alert>\n\n                                    </v-row>\n\n\n                                </v-form>\n\n\n\n\n\n\n                            </v-card>\n                            <v-btn color=\"primary\" @click=\"step4()\">\n                                التالي\n                            </v-btn>\n\n                            <v-btn text @click=\"step2()\"> السابق</v-btn>\n\n\n                        </v-stepper-content>\n                        <!--End Date Info-->\n\n\n\n\n\n\n\n\n\n\n\n\n\n                        <v-stepper-content step=\"4\">\n                            <v-card class=\"mb-12\" color=\"#cac0c057\" height=\"400px\">\n\n                                <v-layout row wrap pl-2>\n                                    <v-flex xs4 pa-3 pr-5>\n                                        <v-text-field background-color=\"#fff\" height=\"50\" placeholder=\" سعر الحجز\"\n                                            data-vv-name=\"name\" v-model=\"editedItem.item_price.price\" :rules=\"numberRul\"\n                                            required>\n                                        </v-text-field>\n                                    </v-flex>\n                                </v-layout>\n\n\n                                <v-layout row wrap pl-2>\n\n\n                                    <v-flex xs4 pr-3>\n                                        <v-checkbox v-model=\"editedItem.item_price.book_without_credit_card\"\n                                            label=\"الحجز بدون بطاقة دفع\" @change=\"change_payment\" required>\n                                        </v-checkbox>\n                                    </v-flex>\n\n\n                                    <v-flex xs4 pa-1>\n                                        <v-checkbox v-model=\"editedItem.item_price.free_cancelation\"\n                                            label=\"امكانية الغاء الحجز\" required></v-checkbox>\n                                    </v-flex>\n\n\n                                    <v-flex xs3 pa-1 v-if=\"!editedItem.item_price.book_without_credit_card\" pl-4>\n                                        <v-text-field prepend-inner-icon=\"fas fa-percent\" background-color=\"#fff\"\n                                            class=\"deucation_txfield\" height=\"40\" placeholder=\"  نسبة الاستقطاع\"\n                                            data-vv-name=\"name\" :disabled=\"!editedItem.item_price.free_cancelation\"\n                                            :readonly=\"!editedItem.item_price.free_cancelation\"\n                                            v-model=\"editedItem.item_price.deduction\" :rules=\"numberRul1\">\n                                        </v-text-field>\n                                    </v-flex>\n\n\n                                </v-layout>\n\n                            </v-card>\n\n                            <v-btn color=\"primary\" @click=\"step5()\">\n                                التالي\n                            </v-btn>\n\n                            <v-btn @click=\"step3()\" text>السابق</v-btn>\n                        </v-stepper-content>\n\n\n                        <v-stepper-content step=\"5\">\n\n                            <v-card class=\"mb-12\" color=\"#cac0c057\" height=\"400px\">\n                                <v-layout row wrap>\n                                    <v-flex pa-5 xs3>\n                                        <!-- <v-text-field label=\"اختر صورة \" solo=\"\" @click='pickFile' append-icon='fas fa-image'></v-text-field> -->\n                                    </v-flex>\n\n                                    <v-flex pa-5>\n                                        <input type=\"file\" style=\"display: none\" ref=\"image\" accept=\"image/*\"\n                                            @change=\"onFilePicked\">\n                                    </v-flex>\n                                </v-layout>\n\n\n\n                                <span>{{img_name}}</span>\n                                <v-layout row wrap>\n                                    <v-row justify=\"center\">\n                                        <v-flex xs2 v-for=\"(img ,index) in images\" pa-2>\n\n                                            <v-card height=\"150\" width=\"150\" class=\"card_img\">\n                                                <v-img :src=\"img\" height=\"150\" width=\"150\" class=\"card_img\"\n                                                    v-if=\"img!='a'\">\n                                                    <v-btn icon=\"\" @click=\"images[index]='a';img_name=''\">\n                                                        <v-icon>fas fa-window-close</v-icon>\n                                                    </v-btn>\n\n                                                </v-img>\n\n                                                <v-btn icon v-else @click='pickFile(index)'>\n                                                    <v-icon style=\"margin:0px\" size=\"40\">fas fa-plus-square</v-icon>\n                                                </v-btn>\n\n\n                                            </v-card>\n                                        </v-flex>\n                                    </v-row>\n\n\n                                </v-layout>\n                            </v-card>\n\n                            <v-btn @click=\"submit\" color=\"success\" style=\"margin-left:10px\">\n                                <span v-show=\"!loading\">حفظ</span>\n                                <v-progress-circular indeterminate color=\"white\" v-show=\"loading\"></v-progress-circular>\n                            </v-btn>\n\n\n                            <v-btn @click=\"step4()\" text>السابق</v-btn>\n\n                            <v-btn @click=\"cancel\" color=\"red\" dark=\"\"> الغاء</v-btn>\n                        </v-stepper-content>\n\n\n\n\n                    </v-stepper-items>\n                </v-stepper>\n            </v-container>\n\n\n\n\n\n\n\n\n\n            <!-- <v-card-actions>\n    <v-row>\n\n\n      <v-btn @click=\"submit\" color=\"success\" style=\"margin-left:10px\">\n        <span v-show=\"!loading\">حفظ</span>\n        <v-progress-circular indeterminate color=\"white\" v-show=\"loading\"></v-progress-circular>\n      </v-btn>\n      <v-btn @click=\"close\" color=\"red\" dark=\"\"> الغاء</v-btn>\n    </v-row>\n\n    <v-spacer></v-spacer>\n\n  </v-card-actions> -->\n\n        </v-card>\n\n    </v-form>\n\n\n\n</template>\n\n\n\n<script>\nimport {\n    EventBus\n  } from './event-bus.js';\n    import GoogleMap from '../components/map'\n    import itemFormx from '../components/item_form'\n    import itemDialog from './item_dialog.vue'\n\n    export default {\n\n    props: {\n      'item_ID': Number,\n      'hidden': Boolean\n    },\n\n        data: () => ({\n            dialog: false,\nitem_id:'',\n            errors_address: [],\n            errors_address: [],\n           // item_id:'',\n            errors_payment: [],\n            er_address: true,\n            er_payment: true,\n            er1: true,\n            e1: 1,\n            switch2: false,\n            radios: 'radio-1',\n            submit_name: '',\n            errors_primery: [],\n            // price_percentage:'',\n            item_new_price: '',\n            menu_date_from: false,\n            menu_date_to: false,\n            editdailog: false,\n            user_info: {},\n            //itemId: '',\n            token: '',\n            err_show: false,\n            menu1: false,\n            menu2: false,\n            menu3: false,\n            menu4: false,\n            map_dialog: false,\n            modal2: false,\n            book_dur_status: false,\n            book_num_status: false,\n            offer_info: {\n\n\n            }\n\n            ,\n            reve_type: [{\n                id: 0,\n                duration: 'غير محدود'\n            }, {\n                id: 1,\n                duration: 'اختيار فترة'\n            }, {\n                id: 2,\n                duration: 'اختيار عدد لليوم الواحد'\n            }],\n            reve_type1: [{\n                id: 0,\n                duration: 'غير محدود'\n            }, {\n                id: 1,\n                duration: 'اختيار فترة'\n            }, {\n                id: 2,\n                duration: 'اختيار عدد  '\n            }],\n            error: '',\n            msg_error_txt: 'هذا اليوم مكرر ',\n            urL: 'http://109.224.53.155',\n\n            page: 1,\n            pageCount: 0,\n            items: [],\n            editedIndex: -1,\n\n            editedItem: {\n                sub_category:{\n                    category_id:0,\n                    id:0,\n                    name:\"\",\n                },\n                address: {\n                    province_id: '',\n                    country_id: '',\n                    discraption: '',\n                    long: '',\n                    lat: ''\n\n                },\n                item_price: {\n                    id: '',\n                    price: '',\n                    payment: '',\n                    deduction: 0,\n                    book_without_credit_card: '',\n                    free_cancelation: '',\n                    no_prepayment: '',\n                    status: '',\n                },\n                name: '',\n                calories: 0,\n                fat: 0,\n                carbs: 0,\n                disc:'',\n                protein: 0,\n            },\n            valid: false,\n            deduction: '',\n            days: [\"السبت\", \"الاحد\", \"الاثنين\", \"الثلاثاء\", \"الاربعاء\", \"الخميس\", \"الجمعة\", \"كل الايام\"],\n            times: [\"1:00 م\", \"2:00 م\", \"3:00 م\", \"4:00 م \", \"5:00 م\", \"6:00 م\", \"7:00 م \", \"8:00 م\", \"9:00 م\",\n                \"10:00 م\",\n                \"11:00 م\", \"12:00 م\",\n                \"1:00 ص\", \"2:00 ص\", \"3:00 ص\", \"4:00 ص \", \"5:00 ص\", \"6:00 ص\", \"7:00 ص \", \"8:00 ص\", \"9:00 ص\",\n                \"10:00 ص\",\n                \"11:00 ص\", \"12:00 ص\"\n            ],\n\n            img_cliced: -1,\n            day_to_open: [{\n\n              every_day: 0,\n              every_time: 0,\n              from_day: \"\",\n              from_time: \"\",\n              to_day: \"\",\n              to_time: \"\",\n              max_requests: 0\n            }],\n\n            nameRules: [\n                v => !!v || 'هذا الحقل مطلوب  ',\n\n            ],\n            numberRul: [\n                v => !!v || 'هذا الحقل مطلوب  ',\n\n                v => !isNaN(v) || 'يجب ادخال رقم ',\n            ],\n            numberRul1: [\n\n                v => !isNaN(v) || 'يجب ادخال رقم ',\n            ],\n            descriptRules: [\n                v => !!v || 'هذا الحقل مطلوب  ',\n                v => v.length >= 20 || 'يجب ان يكون الوصف اكثر من ٢٠ حرف ',\n            ],\n            loading: false,\n            province: [],\n            imageName: '',\n            imageUrl: '',\n            countries: [{name:'العراق',id:1}],\n            imageFile: '',\n            images: ['a', 'a', 'a', 'a'],\n      \n            payment: false,\n           \n            free_cancelation: false,\n            deductionvalue: 0,\n            everyday: false,\n            everytime: false,\n            fromday: '',\n            today: '',\n            fromtime: '',\n            totime: '',\n            current_page: 1,\n            last_page: 0,\n            offer_dialog: false,\n            subcategory: [],\n            sub_category_id: '',\n            category: [],\n            reserv_type_id1: -1,\n            valid_day: true,\n            img_name: '',\n            lat: 0,\n            lng: 0,\n\n\n        }),\n\n\n\n        methods: {\n             getItemDetails() {\n                 \n             \n        var url = this.urL + \"/getItemBy/\"+this.item_id;\n        axios.get(url).then(response => {\n          this.editedItem = response.data.Data[0];\n          this.imgs = this.editedItem.images;\n          this.address = response.data.Data[0].address.province.province_name;\n         \n  this.getSubCategory();\n          for (var i = 0; i < 4; i++) {\n            this.images[i] = this.urL + \"/\" + this.editedItem.images[i].image_path;\n\n          }\nthis.day_to_open=[];\n          for (var a = 0; a < this.editedItem.day_to_open.length; a++) {\n\n            this.day_to_open.push({\n\n              every_day: this.editedItem.day_to_open[a].every_day,\n              every_time: this.editedItem.day_to_open[a].every_time,\n              from_day: this.editedItem.day_to_open[a].from_day,\n              from_time: this.editedItem.day_to_open[a].from_time,\n              to_day: this.editedItem.day_to_open[a].to_day,\n              to_time: this.editedItem.day_to_open[a].to_time,\n              max_requests: this.editedItem.day_to_open[a].max_requests\n            });\n\n          }\n          if (this.editedItem.day_to_open.length < 1) {\n\n            this.editedItem.day_to_open.push({\n              id: 0,\n\n              every_day: 0,\n              every_time: 0,\n              from_day: 0,\n              from_time: 0,\n              to_day: 0,\n              to_time: 0,\n              max_requests: 0\n            });\n          }\n          this.everyday=this.day_to_open[0].every_day;\n          this.everytime= this.day_to_open[0].every_time;\n\n        \n\n        })\n      },\n\n            cancel() {\n                this.$emit(\"changeStatus\", false);\n            },\n\n            editt()\n            {\n                // alert(this.item_id);\n                this.$emit(\"edite_item\");\n                \n            },\n\n            step1() {\n                this.e1 = 1;\n                this.Check_Primery();\n\n\n            },\n\n            step2() {\n\n                this.e1 = 2;\n                this.Check_Primery();\n                // this.Check_payment();\n                // this.Check_address();\n\n\n            },\n\n            step3() {\n                this.e1 = 3;\n                this.Check_Primery();\n                this.Check_address();\n                // this.Check_payment();\n\n\n            },\n            step4() {\n                this.e1 = 4;\n                this.Check_Primery();\n                this.Check_address();\n                // this.Check_payment();\n\n\n            },\n            step5() {\n                this.e1 = 5;\n                this.Check_Primery();\n                this.Check_address();\n                this.Check_payment();\n\n\n            },\n\n\n            Check_Primery() {\n\n                \n\n\n                this.errors_primery = [];\n                if (!this.editedItem.name || !this.editedItem.sub_category.category_id || !this.editedItem.sub_category.id || !this.editedItem.disc) {\n                    \n\n                    this.errors_primery.push(\"يرجئ ملئ الحقول\");\n                }\n\n\n                if (this.errors_primery.length) {\n                    this.er1 = false;\n                } else {\n                    this.er1 = true;\n                }\n\n\n            },\n\n\n\n            Check_address() {\n\n                this.errors_address = [];\n                if (!this.editedItem.address.country_id || !this.editedItem.address.province_id || !this.editedItem\n                    .address.lat || !this.editedItem.address.long || !this.editedItem.address.discraption) {\n                    this.errors_address.push(\"يرجئ ملئ الحقول\");\n                }\n                if (this.errors_address.length) {\n                    this.er_address = false;\n                } else {\n                    this.er_address = true;\n                }\n            },\n\n\n            Check_payment() {\n                this.errors_payment = [];\n                if (!this.editedItem.item_price.price) {\n\n                    this.errors_payment.push(\"يرجئ ملئ الحقول\");\n                }\n\n                if (this.errors_payment.length) {\n                    this.er_payment = false;\n                } else {\n                    this.er_payment = true;\n                }\n            },\n\n\n\n\n\n            getlocation(lat, lng) {\n                this.editedItem.address.lat = lat;\n                this.editedItem.address.long = lng\n                this.map_dialog = false;\n\n\n            },\n            price_percentage(v) {\n\n                this.offer_info.new_price = this.offer_info.old_price;\n                this.offer_info.new_price = this.offer_info.old_price - (this.offer_info.old_price * (v / 100));\n                this.offer_info.discount_percentage = v;\n\n\n\n            },\n\n\n\n\n\n\n\n            change_timeday() {\n                this.day_to_open.length = 0;\n            },\n            select_reser_type1(id) {\n\n                this.reserv_type_id1 = id;\n            },\n            select_reser_type(id) {\n\n                this.reserv_type_id = id;\n                if (id == 1) {\n                    this.book_dur_status = true;\n                    this.book_num_status = false;\n                } else if (id == 2) {\n                    this.book_dur_status = false;\n                    this.book_num_status = true;\n                } else {\n                    this.book_dur_status = false;\n                    this.book_num_status = false;\n                }\n            },\n\n            allowedHours(v) {\n\n                return false;\n            },\n\n            comput_maxRequest(id, time_duration, from_tim, to_tim) {\n\n                if (id == 0) {\n                    return 0;\n                } else if (id == 1) {\n                    // this.reservation_duration\n\n                    var from_hour = parseInt(from_tim.split(\":\")[0])\n                    var from_min = parseInt(from_tim.split(\":\")[1])\n\n\n                    var to_hour = parseInt(to_tim.split(\":\")[0])\n                    var to_min = parseInt(to_tim.split(\":\")[1])\n\n                    var from = from_hour * 60 + from_min;\n\n\n                    var to = to_hour * 60 + to_min;\n\n                    var result = to - from;\n\n                    var houer = parseInt(time_duration.split(\":\")[0]);\n                    var minit = parseInt(time_duration.split(\":\")[1]);\n\n                    var dur = houer * 60 + minit;\n\n                    result = result / dur\n\n                    return result\n\n                } else {\n                    return 0\n                }\n\n\n\n\n            },\n            submit() {\n\n\n\n                if (!this.er1) {\n                    this.step1();\n                } else if (!this.er_address) {\n                    this.step2();\n                } else if (!this.er_payment) {\n                    this.step4();\n                }\n\n                if (this.editedItem.item_price.book_without_credit_card) {\n                    this.editedItem.item_price.book_without_credit_card = 1;\n                } else {\n                    this.editedItem.item_price.book_without_credit_card = 0;\n                }\n\n                if (this.editedItem.item_price.free_cancelation) {\n                    this.editedItem.item_price.free_cancelation = 1;\n                } else {\n                    this.editedItem.item_price.free_cancelation = 0;\n                }\n\n\n\n                if (this.everyday && this.everytime) {\n\n                    this.day_to_open.length = 0\n                    this.day_to_open.push({\n                        every_day: this.everyday,\n                        every_time: this.everytime,\n                        from_day: 0,\n                        from_time: \"00:00\",\n                        to_day: 6,\n                        to_time: \"24:00\",\n                        max_requests: this.comput_maxRequest(this.reserv_type_id, this.reservation_duration,\n                            \"00:00\", \"24:00\")\n                    });\n\n\n\n\n\n                }\n\n                if (this.day_to_open.length == 0) {\n                    this.$swal('تحذير', \"    يجب اختيار جدول الحجز\", 'warning')\n                }\n\n\n\n                if (this.images.find(im => im === 'a')) {\n                    this.$swal('تحذير', \" يجب اختيار 4 من الصور\", 'warning')\n                }\n\n\n                if (this.$refs.form.validate() && this.day_to_open.length > 0) {\n\n\n\n\n                    var data = {\n\n\n                        name: this.editedItem.name,\n                        discraption: this.editedItem.disc,\n                        sub_category_id: this.editedItem.sub_category.id,\n                        category_id: this.editedItem.sub_category.category_id,\n                        number: 0,\n                        //for edit item\nowner_id:8,\naddress_id:1,\n time_open_id: this.item_id!=0?this.editedItem.day_to_open[0].id:0,\n            day_open_id: this.item_id!=0?this.editedItem.day_to_open[0].id:0,\n            item_price_id:this.item_id!=0? this.editedItem.item_price.id:0,\n//end for edit item\n                        price: this.editedItem.item_price.price,\n                        book_without_credit_card: this.editedItem.item_price.book_without_credit_card,\n                        deduction: this.editedItem.item_price.deduction,\n                        cancellation_deduction_ratio: 1,\n                        free_cancellation: this.editedItem.item_price.free_cancelation,\n                        no_prepayment: 1,\n\n\n\n\n\n\n\n\n                        //Address Informations\n                        province_id: this.editedItem.address.province_id,\n                        country_id: this.editedItem.address.country_id,\n                        address_discraption: this.editedItem.address.discraption,\n                        long: this.editedItem.address.long,\n                        lat: this.editedItem.address.lat,\n\n\n                        work_times: this.day_to_open,\n                        type: \"png\",\n                        images: this.images\n                    };\n\n                    // this.description=JSON.stringify(data);\n                    this.loading = true;\n                    var posturl=this.item_id!=0?this.urL + \"/updateItem/\" + this.item_id:this.urL + \"/addItem\";\n                    axios({\n                            method: 'post',\n                            url: posturl,\n                            data: data,\n                            headers: {\n                                token: this.token\n                            }\n\n                        })\n                        .then(response => {\n\n                            this.$swal('تم', this.item_id!=0?\"تم تعديل الحجز\":\"    تم اضافة الحجز\", 'success')\n                            this.dialog = false;\n                            // this.getitems();\n                            this.$refs.form.reset();\n\n                            if (response.data.success == true) {\n                                this.$refs.form.reset()\n                                this.dialog = false;\n\n                                //     this.getitems();\n                            }\n\n\n\n\n                        })\n                        .catch((error) => {\n                            alert('sd');\n                            this.err_show = true;\n                            this.$swal('خطاء', this.item_id!=0?\"     فشل  اضافة الحجز\":\"فشل تعديل الحجز\", 'error')\n\n                        }).finally(d => {\n                            this.loading = false;\n                            this.everyday = false;\n                            this.everytime = false;\n                        });\n                } else {\n\n                    this.err_show = true;\n\n\n\n\n                }\n\n\n\n\n            },\n\n\n\n            getCategory() {\n\n                var url = this.urL + \"/getInfo/Category\";\n                axios.get(url).then(response => {\n                    this.category = response.data.Data;\n\n\n\n                })\n            },\n\n\n            getCountry() {\n\n                var url = this.urL + \"/getInfo/Country\";\n                axios.get(url).then(response => {\n                    this.countries = response.data.Data;\n\n\n\n                })\n            },\n\n\n\n            getSubCategory() {\n\n                var url = this.urL + \"/getInfo/SubCategory/\" + this.editedItem.sub_category.category_id;\n                axios.get(url).then(response => {\n                    this.subcategory = response.data.Data;\n\n\n\n                })\n            },\n            getProvince() {\n\n                var url = this.urL + \"/getInfo/Province/1\";\n                axios.get(url).then(response => {\n                    this.province = response.data.Data;\n\n\n\n                })\n            },\n\n\n            addday() {\n                if (this.$refs.form_day.validate()) {\n\n\n                    this.msg_error = false;\n\n\n                    let search = this.day_to_open.find((o, i) => {\n                        if (o.from_day == this.days.indexOf(this.fromday)) {\n                            return o;\n                        }\n                    });\n\n\n                    if (search == undefined) {\n                        if (this.everytime && !this.everyday) {\n                            this.add_day_reversation();\n                        } else if (this.everyday && !this.everytime) {\n                            this.add_time_reversation();\n                        } else {\n                            this.add_dayTime_reversation();\n\n                        }\n                    } else {\n                        this.$swal('تحذير', \"  لايمكن تكرار اليوم\", 'warning')\n\n                        this.$refs.form_day.reset();\n                    }\n\n                }\n\n            },\n\n\n            add_dayTime_reversation() {\n\n\n                this.day_to_open.push({\n                    every_day: this.everyday,\n                    every_time: this.everytime,\n                    from_day: this.days.indexOf(this.fromday),\n                    from_time: this.fromtime,\n                    to_day: this.days.indexOf(this.fromday),\n                    to_time: this.totime,\n                    max_requests: this.comput_maxRequest(this.reserv_type_id1, this\n                        .reservation_duration_foroneday, this\n                        .fromtime, this.totime)\n                });\n\n                this.$refs.form_day.reset();\n\n            },\n\n            add_day_reversation() {\n                this.day_to_open.push({\n                    every_day: this.everyday,\n                    every_time: this.everytime,\n                    from_day: this.days.indexOf(this.fromday),\n                    from_time: 0,\n                    to_day: this.days.indexOf(this.fromday),\n                    to_time: 23,\n                    max_requests: this.comput_maxRequest(this.reserv_type_id1, this\n                        .reservation_duration_foroneday, \"00:00\",\n                        \"23:00\")\n                });\n\n                this.$refs.form_day.reset();\n\n            },\n\n\n            add_time_reversation() {\n\n                if (this.day_to_open.length < 1) {\n                    this.day_to_open.push({\n                        every_day: this.everyday,\n                        every_time: this.everytime,\n                        from_day: 0,\n                        from_time: this.fromtime,\n                        to_day: 6,\n                        to_time: this.totime,\n                        max_requests: this.comput_maxRequest(this.reserv_type_id1, this\n                            .reservation_duration_foroneday, this\n                            .fromtime, this.totime)\n                    });\n\n                    this.$refs.form_day.reset();\n                } else {\n                    this.$swal('تحذير', \" لايمكن اضافة وقت اخر\", 'warning')\n                }\n\n\n            },\n            pickFile(index) {\n\n                this.img_cliced = index\n                this.$refs.image.click()\n            },\n\n            onFilePicked(e) {\n\n                const files = e.target.files\n                if (files[0] !== undefined) {\n                    this.imageName = files[0].name\n                    if (this.imageName.lastIndexOf('.') <= 0) {\n                        return\n                    }\n                    const fr = new FileReader()\n                    fr.readAsDataURL(files[0])\n                    fr.addEventListener('load', () => {\n                        this.imageUrl = fr.result\n                        this.imageFile = files[0]\n\n                        this.images[this.img_cliced] = fr.result;\n                        var a = this.img_cliced + 1;\n                        this.img_name = \"   صورة رقم \" + a\n\n                    })\n\n                } else {\n                    this.imageName = ''\n                    this.imageFile = ''\n                    this.imageUrl = ''\n                }\n            },\n\n            change_payment(status) {\n                if (status == true) {\n                    this.editedItem.item_price.free_cancelation = false;\n                    this.editedItem.item_price.deduction = 0;\n                }\n\n            },\n            \n\n\n\n        \n\n            save() {\n                if (this.editedIndex > -1) {\n                    Object.assign(this.desserts[this.editedIndex], this.editedItem)\n                } else {\n                    this.desserts.push(this.editedItem)\n                }\n                this.close()\n            },\n\n        },\n\n        watch: {\n               selected:'dd',\n            steps(val) {\n \n                if (this.e1 > val) {\n                    this.e1 = val\n                }\n            },\n\n           \n        \n        },\n        computed: {\n           \n            selected() {\n                \n                if (this.current_page != this.page) {\n\n                    this.getMoreitems();\n\n                }\n            }\n        },\n\n\n\n\n created() {\n     \n   //this.editt();\n //  alert(this.item_id);\n    //this.getItemDetails();\n    //   EventBus.$on('edit_item',item_id => {\n          \n    //       alert('xxxxxxxx');\n    //       this.getItemDetails(item_id);\n    //         this.getCategory();\n    //         this.getCountry();\n    //         this.getProvince();\n\n        \n\n    //   });\n\n\n\n\n\n\n\n    },\nupdated(){\n\n    if(this.item_ID!=this.item_id){\n        this.item_id=this.item_ID;\n     this.getItemDetails();\n    }\n\n},\n        mounted() {\n        \n      this.token = localStorage.getItem('access_token');\n      this.user_info = JSON.parse(localStorage.getItem('user_info'));\n    \nthis.item_id=this.item_ID;\n\n      this.getCategory();\n      this.getProvince();\n     this.item_id!=0? this.getItemDetails():this.day_to_open.length=0;\n    },\n        components: {\n            GoogleMap,\n            itemDialog\n\n        }\n    }\n</script>"]}]}