{"remainingRequest":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/src/components/item.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/src/components/item.vue","mtime":1587899091850},{"path":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBHb29nbGVNYXAgZnJvbSAnLi9zdWJfY29tcG9uZW50cy9tYXBpdGVtbG9jYXRpb24nCmltcG9ydCBSYXRpbmdEYWlsb2cgZnJvbSAnLi9zdWJfY29tcG9uZW50cy9yYXRpbmdkYWlsb2cnCmNvbnN0IGF4aW9zID0gcmVxdWlyZSgnYXhpb3MnKTsKaW1wb3J0IHsKICBFdmVudEJ1cwp9IGZyb20gJy4uL2V2ZW50LWJ1cy5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWydpdGVtJ10sCgogIGRhdGE6ICgpID0+ICh7CgogICAgbW9kZWw6IDAsCiAgICBlMTogMSwKICAgIHJhdGluZzogNCwKICAgIGZhd2F0ZXJfcmVzX0RhaWxvZzogZmFsc2UsCiAgICByYXRpbmdfZGFpbG9nOiBmYWxzZSwKICAgIHZhbGlkX2RheTogdHJ1ZSwKICAgIHZhbGlkX3BheTogdHJ1ZSwKICAgIGRhdGU6ICcnLAogICAgZXJyb3JzOiBbXSwKICAgIG1pbmlEYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKSwKICAgIHRpbWU6ICcnLAogICAgZGF5c2VsZWN0aWQ6IDAsCiAgICBkYXlvZmZlcjogW10sCiAgICBhdXRoczogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGhlbnRpY2F0JyksCiAgICBkYXRlX2RpYWxvZzogZmFsc2UsCiAgICB0aW1lX2RpYWxvZzogZmFsc2UsCiAgICBib29raW5nX2RpYWxvZzogZmFsc2UsCiAgICBhZGRyZXNzOiAnJywKICAgIGFhOiBbXSwKICAgIGZhdHdyYV9kaWFsb2c6IGZhbHNlLAogICAgcGhvbmVSZXE6IGZhbHNlLAogICAgbG9hZGluZzogZmFsc2UsCiAgICBiaWxsOiB0cnVlLAogICAgY29sb3I6ICdjb2xvcjpncmVlbicsCiAgICB1ckw6ICJodHRwOi8vMTA5LjIyNC41My4xNTUiLAoKICAgIGlNYWdlczogW10sCiAgICBudW1SdWxlczogWwoKICAgICAgKHYpID0+ICEhdiB8fCAn2YrYrNioINin2K/Yrtin2YQg2LHZgtmFINin2YTZh9in2KrZgScsCiAgICAgICh2KSA9PiB2Lmxlbmd0aCA+IDEwICYmIHYubGVuZ3RoIDwgMTIgfHwgJ9mK2KzYqCDYp9iv2K7Yp9mEINix2YLZhSDZh9in2KrZgSDYtdit2YrYrScsCiAgICBdLAogICAgbmFtZVJ1bGVzOiBbCiAgICAgIHYgPT4gISF2IHx8ICfZh9iw2Kcg2KfZhNit2YLZhCDZhdi32YTZiNioICAnLAogICAgXSwKICAgIGlkOiAnJywKICAgIG1hcmtlcnM6IFtdLAogICAgdG9rZW46ICcnLAogICAgaW5mbzogbnVsbCwKICAgIG9mZmVyczogW10sCiAgICBmYXR3cmFfbnVtOiAnJywKICAgIGJvb2tpbmdfc2NoZWR1YWw6IFtdLAogICAgdGltZWxpbmVfc3RhdHVzOiBbZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2VdLAogICAgcmVzZXJ2X2RhdGU6IFtdLAogICAgcG9zdF9kYXRhOiB7CiAgICAgIGNsaWVudF9pZDogIjEiLAogICAgICBpdGVtX2lkOiAiIiwKICAgICAgZnJvbV9kYXRlOiAiIiwKICAgICAgdG9fZGF0ZTogIiIsCiAgICAgIGZyb21fdGltZTogIiIsCiAgICAgIHRvX3RpbWU6ICIiLAogICAgICBudW1iZXI6ICIxIiwKICAgICAgcGhvbmU6ICIiLAoKCiAgICB9LAoKICAgIHNlY2hkdWFsX2luZm86IFtdCgogIH0pLAogIG1vdW50ZWQoKSB7CiAgICAvLyAKICAgIHRoaXMudG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWNjZXNzX3Rva2VuX3VzZXInKTsKCiAgICB0aGlzLmlkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgdGhpcy5nZXRJdGVtRGV0YWlscygpOwogIH0sCgogIGNyZWF0ZWQoKSB7CgogICAgLy8gIEV2ZW50QnVzLiRlbWl0KCdib29raW5nX2RpYWxvZycsIHRoaXMuYm9va2luZ19kaWFsb2c9dHJ1ZSk7CgogICAgLy8gRXZlbnRCdXMuJG9uKCdib29raW5nX2RpYWxvZycsIGJvb2tpbmdfZGlhbG9nID0+IHsKCgogICAgLy8gICB0aGlzLmJvb2tpbmdfZGlhbG9nID0gdHJ1ZTsKICAgIC8vICAgLy8gIGFsZXJ0KHRoaXMuYm9va2luZ19kaWFsb2cpOwoKICAgIC8vIH0pOwoKICAgIC8vIEV2ZW50QnVzLiRvbignYXV0aGVudGljYXQnLCBhdXRoZW50aWNhdCA9PiB7CgogICAgLy8gICB0aGlzLmF1dGhzID0gdHJ1ZTsKCiAgICAvLyB9KTsKCgoKICB9LAogIG1ldGhvZHM6IHsKCiAgICBjbG9zZSgpIHsKICAgICAgdGhpcy5ib29raW5nX2RpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLiRyZWZzLmZvcm1fZmEucmVzZXQoKQogICAgICB0aGlzLmUxID0gMTsKICAgICAKICAgIAoKICAgIH0sCgogICAgc3RlcDEoKSB7CgoKCiAgICAgIHRoaXMuZXJyb3JzID0gW107CiAgICAgIGlmICghdGhpcy5kYXRlIHx8ICF0aGlzLnRpbWUpIHsKICAgICAgICB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKTsKCiAgICAgIH0gZWxzZSB7CgogICAgICAgIHRoaXMuZTEgPSAyOwogICAgICB9CgoKICAgIH0sCgoKCgoKICAgIEdldE9mZmVyc0RheXMoKSB7CgoKCgoKCiAgICAgIC8vICB2YXIgZGF5cyA9IFsi2Kfvu7fYrdivIiwgItin77u32KvZhtmK2YYiLCAi2KfZhNir2YTYp9ir2KfYoSIsICLYp++7t9ix2KjYudin2KEiLCAi2KfZhNiu2YXZitizIiwgItin2YTYrNmF2LnYqSIsICLYp9mE2LPYqNiqIl07CgoKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5vZmZlcnMubGVuZ3RoOyBpKyspIHsKCgogICAgICAgIC8vYWxlcnQodGhpcy5vZmZlcnNbaV1bJ29mZmVyX3RvX2RhdGUnXSk7CiAgICAgICAgdmFyIGZyb21fZGF0ZSA9IG5ldyBEYXRlKHRoaXMub2ZmZXJzW2ldWydvZmZlcl9mcm9tX2RhdGUnXSk7CiAgICAgICAgdmFyIHRvX2RhdGUgPSBuZXcgRGF0ZSh0aGlzLm9mZmVyc1tpXVsnb2ZmZXJfdG9fZGF0ZSddKTsKICAgICAgICAvLyB2YXIgbmV3X2RhdGUgPSBuZXcgRGF0ZSh0aGlzLm9mZmVyc1tpXVsnb2ZmZXJfdG9fZGF0ZSddKTsKCiAgICAgICAgdmFyIERpZmZlcmVuY2VfSW5fVGltZSA9IHRvX2RhdGUuZ2V0VGltZSgpIC0gZnJvbV9kYXRlLmdldFRpbWUoKTsKCiAgICAgICAgLy8gVG8gY2FsY3VsYXRlIHRoZSBuby4gb2YgZGF5cyBiZXR3ZWVuIHR3byBkYXRlcyAKICAgICAgICB2YXIgRGlmZmVyZW5jZV9Jbl9EYXlzID0gRGlmZmVyZW5jZV9Jbl9UaW1lIC8gKDEwMDAgKiAzNjAwICogMjQpOwogICAgICAgIC8vYWxlcnQoRGlmZmVyZW5jZV9Jbl9EYXlzKTsKICAgICAgICAvL2FsZXJ0KERpZmZlcmVuY2VfSW5fRGF5cyk7CiAgICAgICAgZm9yIChpID0gMDsgaSA8IERpZmZlcmVuY2VfSW5fRGF5cyArIDE7IGkrKykgewogICAgICAgICAgLy8gYWxlcnQoaSk7CiAgICAgICAgICB2YXIgeCA9IGZyb21fZGF0ZS5nZXREYXkoKSArIGk7CiAgICAgICAgICBpZiAoeCA+IDYpIHsKICAgICAgICAgICAgLy8gdGhpcy5kYXlvZmZlci5wdXNoKGRheXNbeC03XSk7CiAgICAgICAgICAgIHRoaXMuZGF5b2ZmZXIucHVzaCh4IC0gNyk7CgoKCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyB0aGlzLmRheW9mZmVyLnB1c2goZGF5c1t4XSk7CgogICAgICAgICAgICB0aGlzLmRheW9mZmVyLnB1c2goeCk7CiAgICAgICAgICB9CgoKICAgICAgICAgIC8vYWxlcnQoeCk7CgoKCgogICAgICAgIH0KCiAgICAgICAgLy8gYWxlcnQoZnJvbV9kYXRlLmdldERheSgpKTsgICAwICAxNwoKICAgICAgICAvLyAgYWxlcnQodG9fZGF0ZS5nZXREYXkoKSk7ICAgMiAyMgoKCgogICAgICAgIC8vICB0aGlzLmRheW9mZmVyLnB1c2goZGF5c1tmcm9tX2RhdGUuZ2V0RGF5KCldKTsKCiAgICAgICAgLy8gIHRoaXMuZGF5b2ZmZXIucHVzaChkYXlzW3RvX2RhdGUuZ2V0RGF5KCldKTsKICAgICAgICAvL2FsZXJ0KHRoaXMuZGF5b2ZmZXJbMV0pOwogICAgICAgIC8vIHRoaXMuZGF5b2ZmZXIucHVzaChkYXlzW3RvX2RhdGUuZ2V0RGF5KCldKTsKICAgICAgICAvLyBhbGVydChmcm9tX2RhdGUuZ2V0RGF5KCkpCiAgICAgICAgLy8gYWxlcnQodG9fZGF0ZS5nZXREYXkoKSkKICAgICAgICAvLyBhbGVydCh0aGlzLm9mZmVyc1tpXVsnb2ZmZXJfZnJvbV9kYXRlJ10pOwogICAgICAgIC8vIGFsZXJ0KGRheXNbZGF0ZS5nZXREYXkoKV0pOwoKCiAgICAgIH0KICAgIH0sCgogICAgdmFsaWRhdGVfZmF3YXRlcigpIHsKICAgICAgaWYgKHRoaXMuJHJlZnMuZm9ybV9mYS52YWxpZGF0ZSgpKSB7CiAgICAgICAgdGhpcy5mYXR3cmFfZGlhbG9nID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCgogICAgZ2V0SXRlbURldGFpbHMoKSB7CgoKICAgICAgdmFyIHVybCA9IHRoaXMudXJMICsgIi9nZXRJdGVtQnkvIiArIHRoaXMuaWQ7CiAgICAgIGF4aW9zLmdldCh1cmwpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuaW5mbyA9IHJlc3BvbnNlLmRhdGEuRGF0YVswXTsKICAgICAgICB0aGlzLmlNYWdlcyA9IHRoaXMuaW5mby5pbWFnZXM7CgogICAgICAgIHRoaXMuYWRkcmVzcyA9IHJlc3BvbnNlLmRhdGEuRGF0YVswXS5hZGRyZXNzLnByb3ZpbmNlLnByb3ZpbmNlX25hbWU7CiAgICAgICAgdGhpcy5vZmZlcnMgPSByZXNwb25zZS5kYXRhLkRhdGFbMF0ub2ZmZXJzOwogICAgICAgIHRoaXMucmVzZXJ2X2RhdGUgPSByZXNwb25zZS5kYXRhLkRhdGFbMF0ucmVzZXJ2YXRpb247CgoKCiAgICAgICAgdGhpcy5HZXRPZmZlcnNEYXlzKCk7CiAgICAgICAgdGhpcy5nZXREYXRlX2FuZFRpbWUodGhpcy5pZCk7CgogICAgICB9KQogICAgfSwKCiAgICBnZXREYXRlX2FuZFRpbWUoaWQpIHsKCiAgICAgIHZhciB1cmwgPSB0aGlzLnVyTCArICIvZ2V0RGF5c1RpbWUvIiArIGlkOwogICAgICBheGlvcy5nZXQodXJsKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLmJvb2tpbmdfc2NoZWR1YWwgPSByZXNwb25zZS5kYXRhLkRhdGE7CiAgICAgICAgLy8gdmFyIHRpbWVzX3RleHQgPSBbCiAgICAgICAgLy8gICAiMTowMCDYtSIsICIyOjAwINi1IiwgIjM6MDAg2LUiLCAiNDowMCDYtSAiLCAiNTowMCDYtSIsICI2OjAwINi1IiwgIjc6MDAg2LUgIiwgIjg6MDAg2LUiLCAiOTowMCDYtSIsICIxMDowMCDYtSIsCiAgICAgICAgLy8gICAiMTE6MDAg2LUiLCAiMTI6MDAg2LUiLCAiMTowMCDZhSIsICIyOjAwINmFIiwgIjM6MDAg2YUiLCAiNDowMCDZhSAiLCAiNTowMCDZhSIsICI2OjAwINmFIiwgIjc6MDAg2YUgIiwKICAgICAgICAvLyAgICI4OjAwINmFIiwgIjk6MDAg2YUiLAogICAgICAgIC8vICAgIjEwOjAwINmFIiwgIjExOjAwINmFIiwgIjEyOjAwINmFIiwKICAgICAgICAvLyBdOwoKICAgICAgICBmb3IgKHZhciBkYXkgPSAwOyBkYXkgPCA3OyBkYXkrKykgewoKICAgICAgICAgIHZhciBvZmZlciA9ICcnOwogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRheW9mZmVyLmxlbmd0aDsgaSsrKSB7CgogICAgICAgICAgICBpZiAodGhpcy5kYXlvZmZlcltpXSA9PSBkYXkpIHsKCiAgICAgICAgICAgICAgb2ZmZXIgPSAxOwoKICAgICAgICAgICAgfQoKCgogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuc2VjaGR1YWxfaW5mby5wdXNoKHsKICAgICAgICAgICAgZGF5X25hbWU6IHRoaXMuZ2V0ZGF5cyhkYXkgKyAxKSwKICAgICAgICAgICAgdGltZV9kdXJhdGlvbjogWyfYutmK2LEg2YXYqtmI2YHYsSddLAogICAgICAgICAgICBzdGF0dXM6IGZhbHNlLAogICAgICAgICAgICBvZmZlcjogb2ZmZXIKCgoKICAgICAgICAgIH0pOwogICAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMuYm9va2luZ19zY2hlZHVhbC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoZGF5ID49IHRoaXMuYm9va2luZ19zY2hlZHVhbFtpXS5mcm9tX2RheSAmJiBkYXkgPD0gdGhpcy5ib29raW5nX3NjaGVkdWFsW2ldLnRvX2RheSkgewoKICAgICAgICAgICAgICB2YXIgdCA9IFtdOwoKICAgICAgICAgICAgICBmb3IgKHZhciB0aW1lID0gMDsgdGltZSA8IHRoaXMuYm9va2luZ19zY2hlZHVhbFtpXS50aW1lX3RvX29wZW4ubGVuZ3RoOyB0aW1lKyspIHsKCgogICAgICAgICAgICAgICAgdmFyIGZyb21fdGltZSA9IHRoaXMuYm9va2luZ19zY2hlZHVhbFtpXS50aW1lX3RvX29wZW5bdGltZV0uZnJvbV90aW1lLnNwbGl0KCI6Iik7CiAgICAgICAgICAgICAgICB2YXIgdG90aW1lID0gdGhpcy5ib29raW5nX3NjaGVkdWFsW2ldLnRpbWVfdG9fb3Blblt0aW1lXS50b190aW1lLnNwbGl0KCI6Iik7CgoKCiAgICAgICAgICAgICAgICB0LnB1c2goZnJvbV90aW1lWzBdICsgIjoiICsgZnJvbV90aW1lWzFdICsgIiAtICIgKwogICAgICAgICAgICAgICAgICB0b3RpbWVbMF0gKyAiOiIgKyB0b3RpbWVbMV0pCgogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdGhpcy5zZWNoZHVhbF9pbmZvW2RheV0udGltZV9kdXJhdGlvbiA9IHQKICAgICAgICAgICAgICB0aGlzLnNlY2hkdWFsX2luZm9bZGF5XS5zdGF0dXMgPSB0cnVlCgoKCiAgICAgICAgICAgICAgdGhpcy50aW1lbGluZV9zdGF0dXNbZGF5XSA9IHRydWU7CgogICAgICAgICAgICB9CiAgICAgICAgICB9CgoKCiAgICAgICAgfQoKCgogICAgICB9KQoKICAgIH0sCiAgICBhbGxvd2VkRGF0ZXModmFsKSB7CgoKICAgICAgdmFyIG15ZGF0ZSA9IG5ldyBEYXRlKHZhbCk7CiAgICAgIHZhciBkYXkgPSBteWRhdGUuZ2V0RGF5KCk7CgogICAgICB2YXIgcmVzdWx0ID0gZmFsc2UKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJvb2tpbmdfc2NoZWR1YWwubGVuZ3RoOyBpKyspIHsKCiAgICAgICAgaWYgKGRheSA+PSB0aGlzLmJvb2tpbmdfc2NoZWR1YWxbaV0uZnJvbV9kYXkgLSAxICYmIGRheSA8PSB0aGlzLmJvb2tpbmdfc2NoZWR1YWxbaV0udG9fZGF5IC0gMSkgewoKICAgICAgICAgIHJlc3VsdCA9IHRydWU7CiAgICAgICAgfQogICAgICAgIGlmIChkYXkgPT0gNiAmJiB0aGlzLmJvb2tpbmdfc2NoZWR1YWxbaV0uZnJvbV9kYXkgPT0gMCkgewoKICAgICAgICAgIHJlc3VsdCA9IHRydWU7CiAgICAgICAgfQogICAgICB9CgoKICAgICAgaWYgKHRoaXMuYm9va2luZ19zY2hlZHVhbFswXS5ldmVyeV9kYXkgPT0gMSkgewogICAgICAgIHJlc3VsdCA9IHRydWU7CiAgICAgIH0KICAgICAgLy8gICAgICAgICBmb3IodmFyIGE9MDthPHRoaXMucmVzZXJ2X2RhdGUubGVuZ3RoO2ErKyl7CgoKICAgICAgLy8gICAgaWYgKHZhbCA9PSB0aGlzLnJlc2Vydl9kYXRlW2FdLmZyb21fZGF0ZSApIHsKCiAgICAgIC8vICAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICAvLyAgICAgICAgICAgfQoKCiAgICAgIC8vIH0KCgogICAgICB2YXIgaG91clJlc3YgPSB0aGlzLmNoYWNrRGF0ZUNvbXBsZXRSZXNlcnZhdGlvbigpOwogICAgICB2YXIgaG91cl92YWxpZCA9IDA7CiAgICAgIGZvciAodmFyIGEgPSAwOyBhIDwgdGhpcy5yZXNlcnZfZGF0ZS5sZW5ndGg7IGErKykgewoKICAgICAgICB2YXIgaG91cnMgPSB0aGlzLnJlc2Vydl9kYXRlW2FdLmZyb21fdGltZS5zcGxpdCgiOiIpOwogICAgICAgIHZhciBob3VyID0gcGFyc2VJbnQoaG91cnNbMF0pOwoKICAgICAgICBmb3IgKHZhciBiID0gMDsgYiA8IGhvdXJSZXN2Lmxlbmd0aDsgYisrKSB7CgoKCgogICAgICAgICAgaWYgKGhvdXJSZXN2W2JdID09IGhvdXIgJiYgdmFsID09IHRoaXMucmVzZXJ2X2RhdGVbYV0uZnJvbV9kYXRlKSB7CiAgICAgICAgICAgIGhvdXJfdmFsaWQrKzsKCiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgfQoKICAgICAgaWYgKGhvdXJSZXN2Lmxlbmd0aCA9PSBob3VyX3ZhbGlkKSB7CiAgICAgICAgcmVzdWx0ID0gZmFsc2U7CiAgICAgIH0KICAgICAgLy9jaGFjayBpbmlzaXRlIGRhdGUgYXZhaWxhYmxlCiAgICAgIHZhciBkMSA9IG5ldyBEYXRlKCk7CiAgICAgIHZhciBkMiA9IG5ldyBEYXRlKHZhbCkKICAgICAgaWYgKHJlc3VsdCA9PSB0cnVlICYmIGQyID4gZDEpIHsKICAgICAgICAvLyB0aGlzLmRhdGUgPW5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApOwoKICAgICAgfSBlbHNlIHsKCiAgICAgICAgLy8gIHZhciBkdCA9IG5ldyBEYXRlKCk7CgogICAgICAgIC8vICAgICAgICAgZHQuc2V0TW9udGgoIGR0LmdldE1vbnRoKCkgKyAxICk7CgogICAgICAgIC8vICAgICAgICAgIHRoaXMuZGF0ZSA9ZHQudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApOwogICAgICB9CiAgICAgIHJldHVybiByZXN1bHQ7CgogICAgfSwKCiAgICBjaGFja0RhdGVDb21wbGV0UmVzZXJ2YXRpb24oKSB7CiAgICAgIHZhciBob3VyZXNSZXNlcnYgPSBbXTsKICAgICAgZm9yICh2YXIgaCA9IDA7IGggPCAyNDsgaCsrKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJvb2tpbmdfc2NoZWR1YWwubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCB0aGlzLmJvb2tpbmdfc2NoZWR1YWxbaV0udGltZV90b19vcGVuLmxlbmd0aDsgaWkrKykgewoKICAgICAgICAgICAgdmFyIGhvdXJzID0gdGhpcy5ib29raW5nX3NjaGVkdWFsW2ldLnRpbWVfdG9fb3BlbltpaV0uZnJvbV90aW1lLnNwbGl0KCI6Iik7CiAgICAgICAgICAgIHZhciBob3VyID0gcGFyc2VJbnQoaG91cnNbMF0pOwoKICAgICAgICAgICAgdmFyIGhvdXJzMSA9IHRoaXMuYm9va2luZ19zY2hlZHVhbFtpXS50aW1lX3RvX29wZW5baWldLnRvX3RpbWUuc3BsaXQoIjoiKTsKICAgICAgICAgICAgdmFyIGhvdXIxID0gcGFyc2VJbnQoaG91cnMxWzBdKTsKCiAgICAgICAgICAgIGlmIChoID49IGhvdXIgJiYgaCA8PSBob3VyMSB8fCB0aGlzLmJvb2tpbmdfc2NoZWR1YWxbaV0uZXZlcnlfZGF5ID09IDEpIHsKCiAgICAgICAgICAgICAgaG91cmVzUmVzZXJ2LnB1c2goaCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBob3VyZXNSZXNlcnY7CiAgICB9LAoKCiAgICBhbGxvd2VkSG91cnModikgewoKCgogICAgICB2YXIgcmVzdWx0ID0gZmFsc2U7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ib29raW5nX3NjaGVkdWFsLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IHRoaXMuYm9va2luZ19zY2hlZHVhbFtpXS50aW1lX3RvX29wZW4ubGVuZ3RoOyBpaSsrKSB7CgogICAgICAgICAgdmFyIGhvdXJzID0gdGhpcy5ib29raW5nX3NjaGVkdWFsW2ldLnRpbWVfdG9fb3BlbltpaV0uZnJvbV90aW1lLnNwbGl0KCI6Iik7CiAgICAgICAgICB2YXIgaG91ciA9IHBhcnNlSW50KGhvdXJzWzBdKTsKCiAgICAgICAgICB2YXIgaG91cnMxID0gdGhpcy5ib29raW5nX3NjaGVkdWFsW2ldLnRpbWVfdG9fb3BlbltpaV0udG9fdGltZS5zcGxpdCgiOiIpOwogICAgICAgICAgdmFyIGhvdXIxID0gcGFyc2VJbnQoaG91cnMxWzBdKTsKCgoKICAgICAgICAgIGlmICh2ID49IGhvdXIgJiYgdiA8PSBob3VyMSAmJiAodGhpcy5ib29raW5nX3NjaGVkdWFsW2ldLmZyb21fZGF5ID09IHRoaXMuZGF5c2VsZWN0aWQgfHwgdGhpcwogICAgICAgICAgICAgIC5ib29raW5nX3NjaGVkdWFsW2ldLmV2ZXJ5X2RheSA9PSAxKSkgewoKICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICB9CgoKCgogICAgICBmb3IgKHZhciBhID0gMDsgYSA8IHRoaXMucmVzZXJ2X2RhdGUubGVuZ3RoOyBhKyspIHsKCiAgICAgICAgaG91cnMgPSB0aGlzLnJlc2Vydl9kYXRlW2FdLmZyb21fdGltZS5zcGxpdCgiOiIpOwogICAgICAgIGhvdXIgPSBwYXJzZUludChob3Vyc1swXSk7CgoKICAgICAgICBpZiAodiA9PSBob3VyICYmIHRoaXMuZGF0ZSA9PSB0aGlzLnJlc2Vydl9kYXRlW2FdLmZyb21fZGF0ZSkgewoKICAgICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfQoKCgogICAgICByZXR1cm4gcmVzdWx0OwoKCgogICAgfSwKCiAgICBhbGxvd2VkTWludXRlcyh2KSB7CiAgICAgIHZhciByZXN1bHQgPSBmYWxzZTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJvb2tpbmdfc2NoZWR1YWwubGVuZ3RoOyBpKyspIHsKICAgICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgdGhpcy5ib29raW5nX3NjaGVkdWFsW2ldLnRpbWVfdG9fb3Blbi5sZW5ndGg7IGlpKyspIHsKCiAgICAgICAgICB2YXIgaG91cnMgPSB0aGlzLmJvb2tpbmdfc2NoZWR1YWxbaV0udGltZV90b19vcGVuW2lpXS5mcm9tX3RpbWUuc3BsaXQoIjoiKTsKICAgICAgICAgIHZhciBob3VyID0gcGFyc2VJbnQoaG91cnNbMV0pOwoKICAgICAgICAgIHZhciBob3VyczEgPSB0aGlzLmJvb2tpbmdfc2NoZWR1YWxbaV0udGltZV90b19vcGVuW2lpXS50b190aW1lLnNwbGl0KCI6Iik7CiAgICAgICAgICB2YXIgaG91cjEgPSBwYXJzZUludChob3VyczFbMV0pOwoKICAgICAgICAgIGlmICh2ID49IGhvdXIgJiYgdiA8PSBob3VyMSkgewoKICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0sCgogICAgc2VsZWN0X2RhdGUoKSB7CgoKICAgICAgdGhpcy5kYXRlX2RpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLnBvc3RfZGF0YS5mcm9tX2RhdGUgPSB0aGlzLmRhdGUKICAgICAgdGhpcy5wb3N0X2RhdGEudG9fZGF0ZSA9IHRoaXMuZGF0ZQogICAgICB2YXIgbXlkYXRlID0gbmV3IERhdGUodGhpcy5kYXRlKTsKCiAgICAgIHRoaXMuZGF5c2VsZWN0aWQgPSBteWRhdGUuZ2V0RGF5KCkgIT0gNiA/IG15ZGF0ZS5nZXREYXkoKSArIDEgOiAwOwoKICAgIH0sCgoKCiAgICBzZWxlY3RfdGltZSgpIHsKCiAgICAgIHRoaXMudGltZV9kaWFsb2cgPSBmYWxzZTsKCiAgICAgIHRoaXMucG9zdF9kYXRhLmZyb21fZGF0ZSA9IHRoaXMuZGF0ZQogICAgICB0aGlzLnBvc3RfZGF0YS50b19kYXRlID0gdGhpcy5kYXRlCiAgICAgIHRoaXMucG9zdF9kYXRhLmZyb21fdGltZSA9IHRoaXMudGltZQogICAgICB0aGlzLnBvc3RfZGF0YS50b190aW1lID0gdGhpcy50aW1lCgoKCiAgICAgIC8vYWxlcnQoImRhdGUgOiIrdGhpcy5kYXRlKyJcblxuIisidGltZSA6Iit0aGlzLnRpbWUpCgoKCiAgICB9LAoKCgogICAgZ2V0UGF0aChpbWdfcGF0aCkgewoKICAgICAgcmV0dXJuIHRoaXMudXJMICsgIi8iICsgaW1nX3BhdGg7CgogICAgfSwKCiAgICBib29raW5nKCkgewogICAgICB0aGlzLmF1dGhzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGhlbnRpY2F0Jyk7CiAgICAgIHRoaXMudG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWNjZXNzX3Rva2VuX3VzZXInKTsKICAgICAgaWYgKHRoaXMuYXV0aHMgPT0gJ2ZhbHNlJykgewoKCiAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ3JlZ19kaWFsb2cnLCAnZnJvbUl0ZW0nKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmF1dGhzID09ICdudWxsJykgewoKCiAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ3JlZ19kaWFsb2cnLCAnZnJvbUl0ZW0nKTsKCiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuYXV0aHMpIHsKCiAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ3JlZ19kaWFsb2cnLCAnZnJvbUl0ZW0nKTsKICAgICAgfSBlbHNlIHsKCiAgICAgICAgdGhpcy5ib29raW5nX2RpYWxvZyA9IHRydWU7CiAgICAgIH0KICAgIH0sCgoKICAgIGJvb2tpbmdfaXRlbSgpIHsKCgogICAgICBpZiAodGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkpIHsKCiAgICAgICAgaWYgKHRoaXMuYmlsbCAmJiAhdGhpcy52YWxpZF9wYXkgJiYgIXRoaXMuJHJlZnMuZm9ybV9mYS52YWxpZGF0ZSgpKSB7CgoKCgogICAgICAgIH0gZWxzZSB7CgoKICAgICAgICAgIHRoaXMucG9zdF9kYXRhLml0ZW1faWQgPSB0aGlzLmluZm8uaWQ7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgYXhpb3MoewogICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgICAgICAgIHVybDogdGhpcy51ckwgKyAiL3Jlc2VydmF0aW9uIiwKICAgICAgICAgICAgICBkYXRhOiB0aGlzLnBvc3RfZGF0YSwKICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy50b2tlbgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewoKCiAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2dldFVzZXJSZXNlcnZhdGlvbnNDb3VudCcsIHRydWUpOwoKICAgICAgICAgICAgICB0aGlzLiRyZWZzLmZvcm0ucmVzZXQoKQogICAgICAgICAgICAgIHRoaXMuZTEgPSAxOwoKICAgICAgICAgICAgICB0aGlzLiRzd2FsKCcnLCAiICAgINiq2YUgINin2YTYrdis2LIg2KjZhtis2KfYrSIsICdzdWNjZXNzJykKCgoKICAgICAgICAgICAgICBpZiAoInBheUlkIiBpbiByZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICB0aGlzLmZhdHdyYV9udW0gPSByZXNwb25zZS5kYXRhLmRhdGEucGF5SWQ7CiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmZvcm1fZmEucmVzZXQoKQogICAgICAgICAgICAgICAgdGhpcy5mYXdhdGVyX3Jlc19EYWlsb2cgPSB0cnVlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAvLyB0aGlzLnJhdGluZ19kYWlsb2cgPSB0cnVlOwogICAgICAgICAgICAgIHRoaXMuYm9va2luZ19kaWFsb2cgPSBmYWxzZTsKCgogICAgICAgICAgICAgIC8vYm9va2luayBpdGVtIHN1Y2Nlc2Z1bCAKCiAgICAgICAgICAgIH0pCgogICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgIGVycm9yOwogICAgICAgICAgICAgIC8vYm9va2luZyBpdGVtIGVycm9yCgogICAgICAgICAgICAgIHRoaXMuJHN3YWwoJycsICIg2YHYtNmEINin2YTYrdis2LIiLCAnZXJyb3InKQogICAgICAgICAgICB9KS5maW5hbGx5KGQgPT4gewogICAgICAgICAgICAgIGQ7CiAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIH0pOwoKCiAgICAgICAgfQoKCiAgICAgICAgLy8gaWYgKHRoaXMuaW5mby5pdGVtX3ByaWNlLmJvb2tfd2l0aG91dF9jcmVkaXRfY2FyZCA9PSAwICYmIHRoaXMucG9zdF9kYXRhLnBob25lLmxlbmd0aCA8IDExKSB7CiAgICAgICAgLy8gICAvL3RoaXMuJHN3YWwoJycsICIgICAg2KrZhSAg2KfZhNit2KzYsiDYqNmG2KzYp9itIiwgJ3N1Y2Nlc3MnKQogICAgICAgIC8vICAgdGhpcy5mYXR3cmFfZGlhbG9nID0gdHJ1ZTsKICAgICAgICAvLyAgIHJldHVybjsKICAgICAgICAvLyB9CgogICAgICB9CgogICAgfSwKCgoKCgoKCgoKICAgIGdldGZyZWVjYW5jZWxhdGlvbihmcmVlX2NhbmNlbGxhdGlvbikgewogICAgICBpZiAoZnJlZV9jYW5jZWxsYXRpb24gPT0gMCkgewogICAgICAgIHRoaXMuY29sb3IgPSAiY29sb3I6cmVkIjsKICAgICAgICByZXR1cm4gItmD2YTYpyI7CiAgICAgIH0gZWxzZSB7CgogICAgICAgIHJldHVybiAi2YbYudmFIgogICAgICB9CiAgICB9LAoKCgoKCiAgICBnZXRfdGltZShkYXkpIHsKICAgICAgLy8gdmFyIHRpbWVzID0gWwogICAgICAvLyAgICIxOjAwINi1IiwgIjI6MDAg2LUiLCAiMzowMCDYtSIsICI0OjAwINi1ICIsICI1OjAwINi1IiwgIjY6MDAg2LUiLCAiNzowMCDYtSAiLCAiODowMCDYtSIsICI5OjAwINi1IiwgIjEwOjAwINi1IiwKICAgICAgLy8gICAiMTE6MDAg2LUiLCAiMTI6MDAg2LUiLCAiMTowMCDZhSIsICIyOjAwINmFIiwgIjM6MDAg2YUiLCAiNDowMCDZhSAiLCAiNTowMCDZhSIsICI2OjAwINmFIiwgIjc6MDAg2YUgIiwgIjg6MDAg2YUiLAogICAgICAvLyAgICI5OjAwINmFIiwKICAgICAgLy8gICAiMTA6MDAg2YUiLCAiMTE6MDAg2YUiLCAiMTI6MDAg2YUiLAogICAgICAvLyBdOwoKCgoKICAgICAgdmFyIHJlc3VsdCA9ICfYutmK2LEg2YXYqtmI2YHYsSc7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ib29raW5nX3NjaGVkdWFsLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKGRheSAtIDEgPj0gdGhpcy5ib29raW5nX3NjaGVkdWFsW2ldLmZyb21fZGF5ICYmIGRheSAtIDEgPD0gdGhpcy5ib29raW5nX3NjaGVkdWFsW2ldLnRvX2RheSkgewogICAgICAgICAgLy8gIHJlc3VsdD10aW1lc1t0aGlzLmJvb2tpbmdfc2NoZWR1YWxbaV0udGltZV90b19vcGVuWzBdLmZyb21fdGltZV0rIi0iK3RpbWVzW3RoaXMuYm9va2luZ19zY2hlZHVhbFtpXS50aW1lX3RvX29wZW5bMF0udG9fdGltZV07CgogICAgICAgICAgcmVzdWx0ID0gdGhpcy5ib29raW5nX3NjaGVkdWFsW2ldCiAgICAgICAgICB0aGlzLnRpbWVsaW5lX3N0YXR1c1tkYXldID0gdHJ1ZTsKCiAgICAgICAgfQogICAgICB9CgoKCiAgICAgIHJldHVybiByZXN1bHQ7CgoKCgoKCiAgICB9LAoKICAgIGdldGRheXMoaW5kZXgpIHsKCgogICAgICAvLyB2YXIgZGF5cyA9WyLYp++7t9it2K8iLCLYp++7t9ir2YbZitmGIiwi2KfZhNir2YTYp9ir2KfYoSIsItin77u32LHYqNi52KfYoSIsItin2YTYrtmF2YrYsyIsItin2YTYrNmF2LnYqSIsItin2YTYs9io2KoiXTsKICAgICAgLy8gIHZhciBkYXlzID0gWyLYp9mE2LPYqNiqIiwgItin2YTYp9it2K8iLCAi2KfZhNin2KvZhtmK2YYiLCAi2KfZhNir2YTYp9ir2KfYoSIsICLYp9mE2KfYsdio2LnYp9ihIiwgItin2YTYrtmF2YrYsyIsICLYp9mE2KzZhdi52KkiXTsKICAgICAgLy8gdmFyIGRheXMgPVsi2Kfvu7fYrdivIiwi2Kfvu7fYq9mG2YrZhiIsItin2YTYq9mE2KfYq9in2KEiLCLYp++7t9ix2KjYudin2KEiLCLYp9mE2K7ZhdmK2LMiLCLYp9mE2KzZhdi52KkiLCLYp9mE2LPYqNiqIl07CiAgICAgIC8vICB2YXIgZGF5cyA9WyLYp++7t9it2K8iLCLYp++7t9ir2YbZitmGIiwi2KfZhNir2YTYp9ir2KfYoSIsItin77u32LHYqNi52KfYoSIsItin2YTYrtmF2YrYsyIsItin2YTYrNmF2LnYqSIsItin2YTYs9io2KoiXTsKICAgICAgdmFyIGRheXMgPSBbItin2YTYs9io2KoiLCAi2Kfvu7fYrdivIiwgItin77u32KvZhtmK2YYiLCAi2KfZhNir2YTYp9ir2KfYoSIsICLYp++7t9ix2KjYudin2KEiLCAi2KfZhNiu2YXZitizIiwgItin2YTYrNmF2LnYqSJdOwoKCgogICAgICByZXR1cm4gZGF5c1tpbmRleCAtIDFdOwogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgR29vZ2xlTWFwLAogICAgUmF0aW5nRGFpbG9nCiAgfQoKCgp9Cg=="},{"version":3,"sources":["item.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0gBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;AAGA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;;;AAIA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;;AAEA;;;;AAIA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;;;;;;AAMA;;;;;;;AAOA;;;;AAIA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;;AAEA;AACA;;;AAGA;;;;;AAKA;;AAEA;;AAEA;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;AAIA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;;;;AAIA;AACA;;AAEA;;AAEA;AACA;;;;AAIA;;AAEA;AACA;;;;AAIA;;;;AAIA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;;AAGA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;AAKA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;;;AAIA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;AAIA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;AAKA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;;;;AAIA;;;;AAIA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;;;;AAIA;;AAEA;;AAEA;AACA;AACA;AACA;;;;AAIA;;;;AAIA;;;;AAIA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;;AAGA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;;;AAGA;;AAEA;;;;;AAKA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;;;;;;;;AAUA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;AAIA;;;;;;;AAOA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA","file":"item.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-container fluid=\"\" pr-2 pl-2>\n\n    <v-layout row wrap style=\"padding:30px\">\n      <!-- section 1 to images of item -->\n\n\n      <v-flex xs12 class=\"hidden-lg-and-up\">\n\n        <v-carousel cycle height=\"400\" hide-delimiter-background show-arrows-on-hover>\n          <v-carousel-item v-for=\"(img, i) in iMages\" v-bind:src=\"'http://109.224.53.155/'+img.image_path\" :key=\"i\">\n\n\n          </v-carousel-item>\n        </v-carousel>\n\n      </v-flex>\n      <v-flex md5 xs12 order-xs=\"12\" class=\"hidden-md-and-down\" offset-md=\"12\">\n        <v-flex xs12>\n          <v-layout row wrap pl-5 pt-4>\n            <v-sheet class=\"mx-auto\" elevation=\"8\" style=\"width:100%\" height=\"635\">\n              <v-expand-transition>\n                <v-sheet color=\"grey lighten-4\" height=\"300\" tile>\n                  <div class=\"fill-height\" align=\"center\" justify=\"center\" style=\"width:100%\">\n                    <v-img height=\"300px\" :src=\"getPath(iMages[model].image_path)\" class=\"card_img\"></v-img>\n                  </div>\n                </v-sheet>\n              </v-expand-transition>\n\n\n              <v-slide-group v-model=\"model\" class=\"pa-4\" show-arrows dir=\"ltr\">\n                <v-slide-item v-for=\"img in iMages\" dir=\"ltr\" v-slot:default=\"{ active, toggle }\" :key=\"img\">\n                  <v-card :color=\"active ? 'primary' : 'grey lighten-1'\" class=\"ma-4\" height=\"200\" width=\"200\"\n                    @click=\"toggle\">\n\n\n                    <v-row class=\"fill-height\" align=\"center\" justify=\"center\">\n\n\n\n                      <v-img height=\"200px\" :src=\"getPath(img.image_path)\" class=\"card_img\">\n                        <template v-slot:placeholder>\n                          <v-row class=\"fill-height ma-0\" align=\"center\" justify=\"center\">\n                            <v-progress-circular indeterminate color=\"grey lighten-5\"></v-progress-circular>\n                          </v-row>\n                        </template>\n                      </v-img>\n\n                    </v-row>\n\n                  </v-card>\n                </v-slide-item>\n              </v-slide-group>\n\n\n\n\n\n            </v-sheet>\n\n          </v-layout>\n        </v-flex>\n\n\n      </v-flex>\n\n\n\n\n\n\n\n      <!-- section 2 for item details -->\n      <v-flex md7 xs12 pr-4>\n\n        <v-container>\n\n\n\n          <v-layout row wrap>\n\n\n            <v-row class=\"mb-4\">\n              <span style=\"padding-right:10px;font-size:22px;font-weight:bold\">{{info.name}}</span>\n            </v-row>\n          </v-layout>\n\n\n\n\n\n          <v-layout row wrap>\n\n            <v-flex xs12 md3 sm3 pt-2>\n              <span style=\"padding-right:10px;padding-left:10px;padding-top:5px\">القسم :{{\" \"+info.sub_category.name}}\n              </span>\n\n            </v-flex>\n\n            <v-flex xs12 md5 sm5>\n\n              <!-- <hr> -->\n              <v-rating color=\"#f29c2b\" background-color=\"gray\" readonly=\"\" size=\"25\" v-model=\"info.item_evaluation\">\n              </v-rating>\n\n\n\n              <!-- <v-spacer></v-spacer> -->\n\n            </v-flex>\n\n            <v-flex xs12 md4 sm4 v-for=\"item in info.offers\" :key=\"item\">\n              <!-- \n              <div class=\"d-inline \"  style=\"    background-color: #f29c2b;color: #fff;font-weight: bold;padding: 6px;\">\n   \n\n                <v-img  style=\"width:10px;height:10px;\" src=\"https://image.flaticon.com/icons/png/512/411/411705.png\">\n                </v-img>\n\n                </div> -->\n\n\n              <div class=\"d-inline \" style=\"    background-color: #f29c2b;color: #fff;font-weight: bold;padding: 6px;\">\n                <v-icon right=\"\" style=\"color:#fff\">mdi-star</v-icon>\n                <!-- <v-icon><v-icon>\n                  \n     -->\n\n                {{item.offer_name}} {{item.discount_percentage}} ٪\n\n\n              </div>\n\n\n\n\n\n\n\n            </v-flex>\n\n\n\n\n\n          </v-layout>\n\n\n\n          <v-divider class=\"mb-2\"></v-divider>\n          <v-row>\n            <v-flex xs12 md7 style=\"padding :20px\">\n              <v-row>\n                <v-col>\n                  <label style=\"font-weight:bold\">الموقع</label><br><br>\n                  <label style=\"font-weight:bold\">سعر الحجز</label><br><br>\n                  <label style=\"font-weight:bold\">امكانية الغاء الحجز</label><br><br>\n\n                  <!-- <label style=\"font-weight:bold\">نسبة الاستقطاع</label><br><br>\n                 -->\n                  <!-- <label style=\"font-weight:bold\">الوصف</label><br><br> -->\n\n\n\n                </v-col>\n\n\n                <v-col>\n                  <label for=\"\">{{address}}</label><br><br>\n\n                  <label v-if=\"!info.offers.length\">\n                    {{info.item_price.price}} $\n\n                  </label>\n\n\n                  <label v-else for=\"\" v-for=\"offer in info.offers\" :key=\"offer\">\n                    {{offer.new_price}}$\n                  </label>\n\n\n\n                  <!-- <label for=\"\" v-else></label><br><br> -->\n\n                  <!-- <label for=\"\" v-if=\"info.item_price.free_cancellation==0\">0%</label> -->\n\n                  <!-- <label v-else> {{info.item_price.deduction}}%</label> -->\n\n\n                  <br><br>\n                  <label for=\"\" :style=\"color\"> {{getfreecancelation(info.item_price.free_cancellation)}}\n                  </label>\n\n\n                </v-col>\n\n\n              </v-row>\n              <v-row>\n                <label for=\"\">{{info.disc}}</label>\n                <br>\n              </v-row>\n\n              <!--Map Row -->\n\n\n              <v-row class=\"mb-6\">\n\n                <v-container width=\"100px\">\n                  <google-map :latt=\"info.address.lat\" :long=\"info.address.long\" />\n                </v-container>\n\n\n\n              </v-row>\n              <v-row>\n                <v-btn color=\"#ff6600\" style=\"margin-left:20px\" width=\"200px\" dark=\"\" @click=\"booking\">\n                  <v-progress-circular indeterminate color=\"white\" v-show=\"loading\"></v-progress-circular>\n                  <span v-show=\"!loading\">\n\n                    <v-icon right=\"\">fas fa-bookmark</v-icon>\n                    حجز\n                  </span>\n\n                </v-btn>\n              </v-row>\n            </v-flex>\n            <v-flex xs12 md5 background-color=\"green\" class=\"mb-2\">\n\n              <v-layout row wrap justify-center style=\"background:#fff\">\n\n\n                <v-timeline v-for=\"item in sechdual_info\" :key=\"item\">\n\n\n                  <div v-for=\"time in item.time_duration\" :key=\"time\">\n\n\n                    <v-timeline-item v-if=\"item.offer==1 && item.status==true \" icon=\"mdi-star\" class=\"text-right\"\n                      :color=\"item.status?'success':'red'\">\n\n\n                      <span style=\"font-weight:bold\">{{item.day_name}}</span>\n\n\n\n\n                      <div style=\"width:200px;color:#808080;font-size:14px\"> <span>{{time}}</span></div>\n                    </v-timeline-item>\n\n\n\n\n\n\n\n                    <v-timeline-item v-else class=\"text-right\" :color=\"item.status?'success':'red'\">\n\n\n                      <span style=\"font-weight:bold\">{{item.day_name}}</span>\n\n\n\n\n                      <div style=\"width:200px;color:#808080;font-size:14px\"> <span>{{time}}</span></div>\n                    </v-timeline-item>\n\n\n                  </div>\n\n\n\n                </v-timeline>\n\n\n\n\n\n              </v-layout>\n            </v-flex>\n          </v-row>\n\n\n\n        </v-container>\n\n      </v-flex>\n\n    </v-layout>\n    <!--date picker dailog-->\n    <v-dialog v-model=\"date_dialog\" width=\"500\">\n      <v-date-picker :min=\"miniDate\" color=\"#ff6600\" v-model=\"date\" :allowed-dates=\"allowedDates\" class=\"mt-4\"\n        @change=\"select_date\">\n      </v-date-picker>\n\n    </v-dialog>\n    <!--end date picker dailog-->\n\n    <!--time picker dailog-->\n    <v-dialog v-model=\"time_dialog\" width=\"500\">\n\n\n      <v-time-picker color=\"#ff6600\" v-model=\"time\" :allowed-hours=\"allowedHours\" :allowed-minutes=\"allowedMinutes\"\n        class=\"mt-4\" @change=\"select_time\" scrollable></v-time-picker>\n    </v-dialog>\n\n\n    <!--end time picker dailog-->\n\n\n\n    <!--item booking dailog  -->\n    <v-dialog v-model=\"booking_dialog\" width=\"600\">\n      <v-stepper v-model=\"e1\">\n        <v-stepper-header>\n          <v-stepper-step :complete=\"e1 > 1\" step=\"1\">تاريخ الحجز</v-stepper-step>\n\n          <v-divider></v-divider>\n\n          <v-stepper-step :complete=\"e1 > 2\" step=\"2\">طريقه الدفع</v-stepper-step>\n\n          <v-divider></v-divider>\n\n        </v-stepper-header>\n\n        <v-stepper-items>\n          <v-stepper-content step=\"1\">\n            <v-card class=\"mb-12\" color=\"#fff\" height=\"300px\">\n\n\n\n              <v-form ref=\"form\" v-model=\"valid_day\">\n                <v-container>\n\n\n                  <v-layout row wrap>\n                    <v-flex pa-3>\n                      <v-text-field outlined dense readonly style=\"background-color:#fff\" placeholder=\"تاريخ الحجز\"\n                        append-icon=\"fas fa-calendar-day\" required :rules=\"nameRules\" v-model=\"date\"\n                        @click=\"date_dialog=true\"></v-text-field>\n                    </v-flex>\n                  </v-layout>\n\n                  <v-layout row wrap>\n                    <v-flex pa-3>\n                      <v-text-field outlined dense readonly placeholder=\"الساعة\" style=\"background-color:#fff\"\n                        append-icon=\"fas fa-clock\" required :rules=\"nameRules\" v-model=\"time\" @click=\"time_dialog=true\">\n                      </v-text-field>\n                    </v-flex>\n\n                  </v-layout>\n                </v-container>\n              </v-form>\n            </v-card>\n\n\n\n\n            <v-btn color=\"primary\" @click=\"step1()\">\n              التالي\n            </v-btn>\n\n            <v-btn text @click=\"close()\">خروج</v-btn>\n          </v-stepper-content>\n\n\n\n\n          <v-stepper-content step=\"2\">\n            <v-card class=\"mb-12\" color=\"fff\" >\n              <v-form ref=\"form_fa\" v-model=\"valid_pay\">\n\n                <v-radio-group v-model=\"bill\">\n                  <v-radio label=\"انشاء فاتوره تسديد\" :value=\"true\"></v-radio>\n\n                  <v-radio label=\"الدفع نقدا\" :value=\"false\"></v-radio>\n                </v-radio-group>\n\n                <div v-show=\"bill\">\n                  <v-divider></v-divider>\n                  <v-card-title style=\"font-size:font-size: 18px;\">\n                    ويه تسديد صار تكدر تدفع فاتورتك وانت بالبيت من خلال رقم الفاتورة الي يوصلك برسالة .. والتسديد من\n                    خلال ادخال رقم بطاقة الدفع الكي كارد أوالماستر كارد\n                  </v-card-title>\n                  <!-- <v-divider></v-divider> -->\n\n\n                  <v-layout row wrap>\n                    <v-flex pa-3>\n\n                      <v-text-field outlined dense placeholder=\"ادخل رقم هاتفك لانشاء فاتوره\" append-icon=\"fas fa-phone\"\n                        type=\"number\" :rules=\"numRules\" required v-model=\"post_data.phone\"></v-text-field>\n                    </v-flex>\n\n                  </v-layout>\n                  <v-col>\n\n                  </v-col>\n                </div>\n                <!-- <div v-else></div> -->\n\n\n\n              </v-form>\n\n\n\n            </v-card>\n\n            <v-btn color=\"success\" style=\";width:130px\" @click=\"booking_item()\">حجز</v-btn>\n\n            <v-btn style=\"position:relative;right:3%\" color=\"primary\" @click=\"e1 = 1\">\n              السابق\n            </v-btn>\n\n\n          </v-stepper-content>\n\n          <v-stepper-content step=\"3\">\n            <v-card class=\"mb-12\" color=\"grey lighten-1\" height=\"200px\"></v-card>\n\n            <v-btn color=\"primary\" style=\"position: relative;right: 3%;width: 103px;\" @click=\"e1 = 1\">\n\n\n              Continue\n            </v-btn>\n\n               <v-btn text @click=\"close()\">خروج</v-btn>\n          </v-stepper-content>\n        </v-stepper-items>\n      </v-stepper>\n\n\n\n\n\n\n    </v-dialog>\n    <!--end item booking dailog  -->\n    <!--create fatwra -->\n    <!-- <v-dialog v-model=\"fatwra_dialog\" width=\"500\">\n      <v-card>\n        <v-form ref=\"form_fa\" v-model=\"valid_day\">\n          <v-card-title>\n            <span v-if=\"!info.item_price.book_without_credit_card\">يجب انشاء فاتورة الرجاء ادخال رقم الهاتف</span>\n            <span v-else>ادخل رقم الهاتف لانشاء فاتورة تسديد</span>\n          </v-card-title>\n          <v-divider></v-divider>\n          <v-container>\n            <v-layout row wrap>\n              <v-flex pa-3>\n\n                <v-text-field outlined dense placeholder=\"  رقم الهاتف\" append-icon=\"fas fa-phone\" type=\"number\"\n                  :rules=\"numRules\" v-model=\"post_data.phone\"></v-text-field>\n              </v-flex>\n\n            </v-layout>\n            <v-col>\n              <v-row justify=\"start\">\n\n\n                <v-btn color=\"success\" @click=\"validate_fawater\" height=\"30\" width=\"120\" style=\"font-weight:bold\">\n                  <v-progress-circular indeterminate color=\"white\" v-show=\"loading\"></v-progress-circular>\n                  <span v-show=\"!loading\">\n\n\n                    انشاء فاتورة\n                  </span>\n\n                </v-btn>\n\n\n\n                <v-btn color=\"#ff0000\" dark=\"\" @click=\"fatwra_dialog = false;post_data.phone=''\"\n                  style=\"margin-right:10px\" height=\"30\" width=\"120\">\n                  الغاء\n                </v-btn>\n\n              </v-row>\n            </v-col>\n          </v-container>\n        </v-form>\n      </v-card>\n    </v-dialog> -->\n    <!-- alert fawater num -->\n    <v-dialog v-model=\"fawater_res_Dailog\" max-width=\"450px\">\n      <v-card>\n\n        <v-container>\n          <v-row justify=\"center\">\n            <span class=\"mb-4\"> رقم الفاتورة : </span>\n\n            <span class=\"mb-6\" style=\"padding-right:10px\">{{fatwra_num}}</span>\n          </v-row>\n\n\n          <v-row justify=\"center\" class=\"mt-6\">\n            <v-flex xs4>\n              <v-btn color=\"red\" dark @click=\"fawater_res_Dailog=false\" style=\";color:#red;width:100%\">\n                الغاء\n              </v-btn>\n\n\n            </v-flex>\n\n          </v-row>\n        </v-container>\n\n\n      </v-card>\n    </v-dialog>\n    <!-- Rating dailog -->\n    <v-dialog v-model=\"rating_dailog\" width=\"400\">\n      <RatingDailog @hiddenDailog=\"rating_dailog=false\" :token=\"token\" :item_id=\"info.id\"></RatingDailog>\n    </v-dialog>\n    <!-- end rating dailog -->\n\n\n  </v-container>\n</template>\n\n<script>\n  import GoogleMap from './sub_components/mapitemlocation'\n  import RatingDailog from './sub_components/ratingdailog'\n  const axios = require('axios');\n  import {\n    EventBus\n  } from '../event-bus.js';\n  export default {\n    props: ['item'],\n\n    data: () => ({\n\n      model: 0,\n      e1: 1,\n      rating: 4,\n      fawater_res_Dailog: false,\n      rating_dailog: false,\n      valid_day: true,\n      valid_pay: true,\n      date: '',\n      errors: [],\n      miniDate: new Date().toISOString().substr(0, 10),\n      time: '',\n      dayselectid: 0,\n      dayoffer: [],\n      auths: localStorage.getItem('authenticat'),\n      date_dialog: false,\n      time_dialog: false,\n      booking_dialog: false,\n      address: '',\n      aa: [],\n      fatwra_dialog: false,\n      phoneReq: false,\n      loading: false,\n      bill: true,\n      color: 'color:green',\n      urL: \"http://109.224.53.155\",\n\n      iMages: [],\n      numRules: [\n\n        (v) => !!v || 'يجب ادخال رقم الهاتف',\n        (v) => v.length > 10 && v.length < 12 || 'يجب ادخال رقم هاتف صحيح',\n      ],\n      nameRules: [\n        v => !!v || 'هذا الحقل مطلوب  ',\n      ],\n      id: '',\n      markers: [],\n      token: '',\n      info: null,\n      offers: [],\n      fatwra_num: '',\n      booking_schedual: [],\n      timeline_status: [false, false, false, false, false, false, false],\n      reserv_date: [],\n      post_data: {\n        client_id: \"1\",\n        item_id: \"\",\n        from_date: \"\",\n        to_date: \"\",\n        from_time: \"\",\n        to_time: \"\",\n        number: \"1\",\n        phone: \"\",\n\n\n      },\n\n      sechdual_info: []\n\n    }),\n    mounted() {\n      // \n      this.token = localStorage.getItem('access_token_user');\n\n      this.id = this.$route.params.id;\n      this.getItemDetails();\n    },\n\n    created() {\n\n      //  EventBus.$emit('booking_dialog', this.booking_dialog=true);\n\n      // EventBus.$on('booking_dialog', booking_dialog => {\n\n\n      //   this.booking_dialog = true;\n      //   //  alert(this.booking_dialog);\n\n      // });\n\n      // EventBus.$on('authenticat', authenticat => {\n\n      //   this.auths = true;\n\n      // });\n\n\n\n    },\n    methods: {\n\n      close() {\n        this.booking_dialog = false;\n        this.$refs.form_fa.reset()\n        this.e1 = 1;\n       \n      \n\n      },\n\n      step1() {\n\n\n\n        this.errors = [];\n        if (!this.date || !this.time) {\n          this.$refs.form.validate();\n\n        } else {\n\n          this.e1 = 2;\n        }\n\n\n      },\n\n\n\n\n\n      GetOffersDays() {\n\n\n\n\n\n\n        //  var days = [\"اﻷحد\", \"اﻷثنين\", \"الثلاثاء\", \"اﻷربعاء\", \"الخميس\", \"الجمعة\", \"السبت\"];\n\n\n\n        for (var i = 0; i < this.offers.length; i++) {\n\n\n          //alert(this.offers[i]['offer_to_date']);\n          var from_date = new Date(this.offers[i]['offer_from_date']);\n          var to_date = new Date(this.offers[i]['offer_to_date']);\n          // var new_date = new Date(this.offers[i]['offer_to_date']);\n\n          var Difference_In_Time = to_date.getTime() - from_date.getTime();\n\n          // To calculate the no. of days between two dates \n          var Difference_In_Days = Difference_In_Time / (1000 * 3600 * 24);\n          //alert(Difference_In_Days);\n          //alert(Difference_In_Days);\n          for (i = 0; i < Difference_In_Days + 1; i++) {\n            // alert(i);\n            var x = from_date.getDay() + i;\n            if (x > 6) {\n              // this.dayoffer.push(days[x-7]);\n              this.dayoffer.push(x - 7);\n\n\n\n            } else {\n              // this.dayoffer.push(days[x]);\n\n              this.dayoffer.push(x);\n            }\n\n\n            //alert(x);\n\n\n\n\n          }\n\n          // alert(from_date.getDay());   0  17\n\n          //  alert(to_date.getDay());   2 22\n\n\n\n          //  this.dayoffer.push(days[from_date.getDay()]);\n\n          //  this.dayoffer.push(days[to_date.getDay()]);\n          //alert(this.dayoffer[1]);\n          // this.dayoffer.push(days[to_date.getDay()]);\n          // alert(from_date.getDay())\n          // alert(to_date.getDay())\n          // alert(this.offers[i]['offer_from_date']);\n          // alert(days[date.getDay()]);\n\n\n        }\n      },\n\n      validate_fawater() {\n        if (this.$refs.form_fa.validate()) {\n          this.fatwra_dialog = false;\n        }\n      },\n\n      getItemDetails() {\n\n\n        var url = this.urL + \"/getItemBy/\" + this.id;\n        axios.get(url).then(response => {\n          this.info = response.data.Data[0];\n          this.iMages = this.info.images;\n\n          this.address = response.data.Data[0].address.province.province_name;\n          this.offers = response.data.Data[0].offers;\n          this.reserv_date = response.data.Data[0].reservation;\n\n\n\n          this.GetOffersDays();\n          this.getDate_andTime(this.id);\n\n        })\n      },\n\n      getDate_andTime(id) {\n\n        var url = this.urL + \"/getDaysTime/\" + id;\n        axios.get(url).then(response => {\n          this.booking_schedual = response.data.Data;\n          // var times_text = [\n          //   \"1:00 ص\", \"2:00 ص\", \"3:00 ص\", \"4:00 ص \", \"5:00 ص\", \"6:00 ص\", \"7:00 ص \", \"8:00 ص\", \"9:00 ص\", \"10:00 ص\",\n          //   \"11:00 ص\", \"12:00 ص\", \"1:00 م\", \"2:00 م\", \"3:00 م\", \"4:00 م \", \"5:00 م\", \"6:00 م\", \"7:00 م \",\n          //   \"8:00 م\", \"9:00 م\",\n          //   \"10:00 م\", \"11:00 م\", \"12:00 م\",\n          // ];\n\n          for (var day = 0; day < 7; day++) {\n\n            var offer = '';\n            for (var i = 0; i < this.dayoffer.length; i++) {\n\n              if (this.dayoffer[i] == day) {\n\n                offer = 1;\n\n              }\n\n\n\n            }\n\n            this.sechdual_info.push({\n              day_name: this.getdays(day + 1),\n              time_duration: ['غير متوفر'],\n              status: false,\n              offer: offer\n\n\n\n            });\n            for (i = 0; i < this.booking_schedual.length; i++) {\n              if (day >= this.booking_schedual[i].from_day && day <= this.booking_schedual[i].to_day) {\n\n                var t = [];\n\n                for (var time = 0; time < this.booking_schedual[i].time_to_open.length; time++) {\n\n\n                  var from_time = this.booking_schedual[i].time_to_open[time].from_time.split(\":\");\n                  var totime = this.booking_schedual[i].time_to_open[time].to_time.split(\":\");\n\n\n\n                  t.push(from_time[0] + \":\" + from_time[1] + \" - \" +\n                    totime[0] + \":\" + totime[1])\n\n                }\n\n                this.sechdual_info[day].time_duration = t\n                this.sechdual_info[day].status = true\n\n\n\n                this.timeline_status[day] = true;\n\n              }\n            }\n\n\n\n          }\n\n\n\n        })\n\n      },\n      allowedDates(val) {\n\n\n        var mydate = new Date(val);\n        var day = mydate.getDay();\n\n        var result = false\n        for (var i = 0; i < this.booking_schedual.length; i++) {\n\n          if (day >= this.booking_schedual[i].from_day - 1 && day <= this.booking_schedual[i].to_day - 1) {\n\n            result = true;\n          }\n          if (day == 6 && this.booking_schedual[i].from_day == 0) {\n\n            result = true;\n          }\n        }\n\n\n        if (this.booking_schedual[0].every_day == 1) {\n          result = true;\n        }\n        //         for(var a=0;a<this.reserv_date.length;a++){\n\n\n        //    if (val == this.reserv_date[a].from_date ) {\n\n        //             result = false;\n        //           }\n\n\n        // }\n\n\n        var hourResv = this.chackDateCompletReservation();\n        var hour_valid = 0;\n        for (var a = 0; a < this.reserv_date.length; a++) {\n\n          var hours = this.reserv_date[a].from_time.split(\":\");\n          var hour = parseInt(hours[0]);\n\n          for (var b = 0; b < hourResv.length; b++) {\n\n\n\n\n            if (hourResv[b] == hour && val == this.reserv_date[a].from_date) {\n              hour_valid++;\n\n            }\n          }\n\n        }\n\n        if (hourResv.length == hour_valid) {\n          result = false;\n        }\n        //chack inisite date available\n        var d1 = new Date();\n        var d2 = new Date(val)\n        if (result == true && d2 > d1) {\n          // this.date =new Date().toISOString().substr(0, 10);\n\n        } else {\n\n          //  var dt = new Date();\n\n          //         dt.setMonth( dt.getMonth() + 1 );\n\n          //          this.date =dt.toISOString().substr(0, 10);\n        }\n        return result;\n\n      },\n\n      chackDateCompletReservation() {\n        var houresReserv = [];\n        for (var h = 0; h < 24; h++) {\n          for (var i = 0; i < this.booking_schedual.length; i++) {\n            for (var ii = 0; ii < this.booking_schedual[i].time_to_open.length; ii++) {\n\n              var hours = this.booking_schedual[i].time_to_open[ii].from_time.split(\":\");\n              var hour = parseInt(hours[0]);\n\n              var hours1 = this.booking_schedual[i].time_to_open[ii].to_time.split(\":\");\n              var hour1 = parseInt(hours1[0]);\n\n              if (h >= hour && h <= hour1 || this.booking_schedual[i].every_day == 1) {\n\n                houresReserv.push(h);\n              }\n            }\n\n          }\n        }\n        return houresReserv;\n      },\n\n\n      allowedHours(v) {\n\n\n\n        var result = false;\n        for (var i = 0; i < this.booking_schedual.length; i++) {\n          for (var ii = 0; ii < this.booking_schedual[i].time_to_open.length; ii++) {\n\n            var hours = this.booking_schedual[i].time_to_open[ii].from_time.split(\":\");\n            var hour = parseInt(hours[0]);\n\n            var hours1 = this.booking_schedual[i].time_to_open[ii].to_time.split(\":\");\n            var hour1 = parseInt(hours1[0]);\n\n\n\n            if (v >= hour && v <= hour1 && (this.booking_schedual[i].from_day == this.dayselectid || this\n                .booking_schedual[i].every_day == 1)) {\n\n              result = true;\n            }\n          }\n\n        }\n\n\n\n\n        for (var a = 0; a < this.reserv_date.length; a++) {\n\n          hours = this.reserv_date[a].from_time.split(\":\");\n          hour = parseInt(hours[0]);\n\n\n          if (v == hour && this.date == this.reserv_date[a].from_date) {\n\n            result = false;\n          }\n        }\n\n\n\n        return result;\n\n\n\n      },\n\n      allowedMinutes(v) {\n        var result = false;\n        for (var i = 0; i < this.booking_schedual.length; i++) {\n          for (var ii = 0; ii < this.booking_schedual[i].time_to_open.length; ii++) {\n\n            var hours = this.booking_schedual[i].time_to_open[ii].from_time.split(\":\");\n            var hour = parseInt(hours[1]);\n\n            var hours1 = this.booking_schedual[i].time_to_open[ii].to_time.split(\":\");\n            var hour1 = parseInt(hours1[1]);\n\n            if (v >= hour && v <= hour1) {\n\n              result = true;\n            }\n          }\n\n        }\n\n        return true;\n      },\n\n      select_date() {\n\n\n        this.date_dialog = false;\n        this.post_data.from_date = this.date\n        this.post_data.to_date = this.date\n        var mydate = new Date(this.date);\n\n        this.dayselectid = mydate.getDay() != 6 ? mydate.getDay() + 1 : 0;\n\n      },\n\n\n\n      select_time() {\n\n        this.time_dialog = false;\n\n        this.post_data.from_date = this.date\n        this.post_data.to_date = this.date\n        this.post_data.from_time = this.time\n        this.post_data.to_time = this.time\n\n\n\n        //alert(\"date :\"+this.date+\"\\n\\n\"+\"time :\"+this.time)\n\n\n\n      },\n\n\n\n      getPath(img_path) {\n\n        return this.urL + \"/\" + img_path;\n\n      },\n\n      booking() {\n        this.auths = localStorage.getItem('authenticat');\n        this.token = localStorage.getItem('access_token_user');\n        if (this.auths == 'false') {\n\n\n          EventBus.$emit('reg_dialog', 'fromItem');\n        } else if (this.auths == 'null') {\n\n\n          EventBus.$emit('reg_dialog', 'fromItem');\n\n        } else if (!this.auths) {\n\n          EventBus.$emit('reg_dialog', 'fromItem');\n        } else {\n\n          this.booking_dialog = true;\n        }\n      },\n\n\n      booking_item() {\n\n\n        if (this.$refs.form.validate()) {\n\n          if (this.bill && !this.valid_pay && !this.$refs.form_fa.validate()) {\n\n\n\n\n          } else {\n\n\n            this.post_data.item_id = this.info.id;\n            this.loading = true;\n            axios({\n                method: 'post',\n                url: this.urL + \"/reservation\",\n                data: this.post_data,\n                headers: {\n                  token: this.token\n                }\n              })\n              .then(response => {\n\n\n                EventBus.$emit('getUserReservationsCount', true);\n\n                this.$refs.form.reset()\n                this.e1 = 1;\n\n                this.$swal('', \"    تم  الحجز بنجاح\", 'success')\n\n\n\n                if (\"payId\" in response.data) {\n                  this.fatwra_num = response.data.data.payId;\n                  this.$refs.form_fa.reset()\n                  this.fawater_res_Dailog = true;\n                }\n                // this.rating_dailog = true;\n                this.booking_dialog = false;\n\n\n                //bookink item succesful \n\n              })\n\n              .catch(error => {\n                error;\n                //booking item error\n\n                this.$swal('', \" فشل الحجز\", 'error')\n              }).finally(d => {\n                d;\n                this.loading = false;\n              });\n\n\n          }\n\n\n          // if (this.info.item_price.book_without_credit_card == 0 && this.post_data.phone.length < 11) {\n          //   //this.$swal('', \"    تم  الحجز بنجاح\", 'success')\n          //   this.fatwra_dialog = true;\n          //   return;\n          // }\n\n        }\n\n      },\n\n\n\n\n\n\n\n\n\n      getfreecancelation(free_cancellation) {\n        if (free_cancellation == 0) {\n          this.color = \"color:red\";\n          return \"كلا\";\n        } else {\n\n          return \"نعم\"\n        }\n      },\n\n\n\n\n\n      get_time(day) {\n        // var times = [\n        //   \"1:00 ص\", \"2:00 ص\", \"3:00 ص\", \"4:00 ص \", \"5:00 ص\", \"6:00 ص\", \"7:00 ص \", \"8:00 ص\", \"9:00 ص\", \"10:00 ص\",\n        //   \"11:00 ص\", \"12:00 ص\", \"1:00 م\", \"2:00 م\", \"3:00 م\", \"4:00 م \", \"5:00 م\", \"6:00 م\", \"7:00 م \", \"8:00 م\",\n        //   \"9:00 م\",\n        //   \"10:00 م\", \"11:00 م\", \"12:00 م\",\n        // ];\n\n\n\n\n        var result = 'غير متوفر';\n        for (var i = 0; i < this.booking_schedual.length; i++) {\n          if (day - 1 >= this.booking_schedual[i].from_day && day - 1 <= this.booking_schedual[i].to_day) {\n            //  result=times[this.booking_schedual[i].time_to_open[0].from_time]+\"-\"+times[this.booking_schedual[i].time_to_open[0].to_time];\n\n            result = this.booking_schedual[i]\n            this.timeline_status[day] = true;\n\n          }\n        }\n\n\n\n        return result;\n\n\n\n\n\n\n      },\n\n      getdays(index) {\n\n\n        // var days =[\"اﻷحد\",\"اﻷثنين\",\"الثلاثاء\",\"اﻷربعاء\",\"الخميس\",\"الجمعة\",\"السبت\"];\n        //  var days = [\"السبت\", \"الاحد\", \"الاثنين\", \"الثلاثاء\", \"الاربعاء\", \"الخميس\", \"الجمعة\"];\n        // var days =[\"اﻷحد\",\"اﻷثنين\",\"الثلاثاء\",\"اﻷربعاء\",\"الخميس\",\"الجمعة\",\"السبت\"];\n        //  var days =[\"اﻷحد\",\"اﻷثنين\",\"الثلاثاء\",\"اﻷربعاء\",\"الخميس\",\"الجمعة\",\"السبت\"];\n        var days = [\"السبت\", \"اﻷحد\", \"اﻷثنين\", \"الثلاثاء\", \"اﻷربعاء\", \"الخميس\", \"الجمعة\"];\n\n\n\n        return days[index - 1];\n      }\n    },\n    components: {\n      GoogleMap,\n      RatingDailog\n    }\n\n\n\n  }\n</script>"]}]}