{"remainingRequest":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/src/components/Owner/components/item_form.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/src/components/Owner/components/item_form.vue","mtime":1587591235253},{"path":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBHb29nbGVNYXAgZnJvbSAnLi4vY29tcG9uZW50cy9tYXAnCmltcG9ydCBpdGVtRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL2l0ZW1fZm9ybScKCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWydpdGVtSWQnXSwKICAvLyBwcm9wczogewogIC8vICAgJ2l0ZW1JZCc6IFN0cmluZywKICAvLyAgICdoaWRkZW4nOiBCb29sZWFuCiAgLy8gfSwKICBkYXRhOiAoKSA9PiAoewogICAgaW5mbzoge30sCiAgICB1c2VyX2luZm86IHt9LAogICAgdG9rZW46ICcnLAogICAgZXJyX3Nob3c6IGZhbHNlLAogICAgbWVudTE6IGZhbHNlLAogICAgbWVudTI6IGZhbHNlLAogICAgbWVudTM6IGZhbHNlLAogICAgbWVudTQ6IGZhbHNlLAogICAgbWFwX2RpYWxvZzogZmFsc2UsCiAgICBtb2RhbDI6IGZhbHNlLAogICAgYm9va19kdXJfc3RhdHVzOiBmYWxzZSwKICAgIGJvb2tfbnVtX3N0YXR1czogZmFsc2UsCiAgICByZXZlX3R5cGU6IFt7CiAgICAgIGlkOiAwLAogICAgICBkdXJhdGlvbjogJ9i62YrYsSDZhdit2K/ZiNivJwogICAgfSwgewogICAgICBpZDogMSwKICAgICAgZHVyYXRpb246ICfYp9iu2KrZitin2LEg2YHYqtix2KknCiAgICB9LCB7CiAgICAgIGlkOiAyLAogICAgICBkdXJhdGlvbjogJ9in2K7YqtmK2KfYsSDYudiv2K8g2YTZhNmK2YjZhSDYp9mE2YjYp9it2K8nCiAgICB9XSwKICAgIHJldmVfdHlwZTE6IFt7CiAgICAgIGlkOiAwLAogICAgICBkdXJhdGlvbjogJ9i62YrYsSDZhdit2K/ZiNivJwogICAgfSwgewogICAgICBpZDogMSwKICAgICAgZHVyYXRpb246ICfYp9iu2KrZitin2LEg2YHYqtix2KknCiAgICB9LCB7CiAgICAgIGlkOiAyLAogICAgICBkdXJhdGlvbjogJ9in2K7YqtmK2KfYsSDYudiv2K8gICcKICAgIH1dLAogICAgZXJyb3I6ICcnLAogICAgbXNnX2Vycm9yX3R4dDogJ9mH2LDYpyDYp9mE2YrZiNmFINmF2YPYsdixICcsCiAgICB1ckw6ICdodHRwOi8vMTA5LjIyNC41My4xNTUnLAoKICAgIGl0ZW1zOiBbXSwKCgogICAgdmFsaWQ6IGZhbHNlLAogICAgZGVkdWN0aW9uOiBbIjIlIiwgIjUlIiwgIjEwJSIsICIxMiUiLCAiNTAlIl0sCiAgICBkYXlzOiBbItin2YTYs9io2KoiLCAi2KfZhNin2K3YryIsICLYp9mE2KfYq9mG2YrZhiIsICLYp9mE2KvZhNin2KvYp9ihIiwgItin2YTYp9ix2KjYudin2KEiLCAi2KfZhNiu2YXZitizIiwgItin2YTYrNmF2LnYqSIsICLZg9mEINin2YTYp9mK2KfZhSJdLAogICAgdGltZXM6IFsiMTowMCDZhSIsICIyOjAwINmFIiwgIjM6MDAg2YUiLCAiNDowMCDZhSAiLCAiNTowMCDZhSIsICI2OjAwINmFIiwgIjc6MDAg2YUgIiwgIjg6MDAg2YUiLCAiOTowMCDZhSIsICIxMDowMCDZhSIsCiAgICAgICIxMTowMCDZhSIsICIxMjowMCDZhSIsCiAgICAgICIxOjAwINi1IiwgIjI6MDAg2LUiLCAiMzowMCDYtSIsICI0OjAwINi1ICIsICI1OjAwINi1IiwgIjY6MDAg2LUiLCAiNzowMCDYtSAiLCAiODowMCDYtSIsICI5OjAwINi1IiwgIjEwOjAwINi1IiwKICAgICAgIjExOjAwINi1IiwgIjEyOjAwINi1IgogICAgXSwKCiAgICBpbWdfY2xpY2VkOiAtMSwKICAgIGRheV90b19vcGVuOiBbXSwKCiAgICBuYW1lUnVsZXM6IFsKICAgICAgdiA9PiAhIXYgfHwgJ9mH2LDYpyDYp9mE2K3ZgtmEINmF2LfZhNmI2KggICcsCgogICAgXSwKICAgIG51bWJlclJ1bDogWwogICAgICB2ID0+ICEhdiB8fCAn2YfYsNinINin2YTYrdmC2YQg2YXYt9mE2YjYqCAgJywKCiAgICAgIHYgPT4gIWlzTmFOKHYpIHx8ICfZitis2Kgg2KfYr9iu2KfZhCDYsdmC2YUgJywKICAgIF0sCiAgICBudW1iZXJSdWwxOiBbCgogICAgICB2ID0+ICFpc05hTih2KSB8fCAn2YrYrNioINin2K/Yrtin2YQg2LHZgtmFICcsCiAgICBdLAogICAgZGVzY3JpcHRSdWxlczogWwogICAgICB2ID0+ICEhdiB8fCAn2YfYsNinINin2YTYrdmC2YQg2YXYt9mE2YjYqCAgJywKICAgIF0sCiAgICBsb2FkaW5nOiBmYWxzZSwKICAgIHByb3ZpbmNlOiBbXSwKICAgIGltYWdlTmFtZTogJycsCiAgICBpbWFnZVVybDogJycsCiAgICBpbWFnZUZpbGU6ICcnLAogICAgaW1hZ2VzOiBbbnVsbCwgbnVsbCwgbnVsbCwgbnVsbF0sCiAgICBuYW1lOiAnJywKICAgIG51bWJlcjogJycsCiAgICBkZXNjcmlwdGlvbjogJycsCgogICAgcmVxdWVzdDogMCwKICAgIHBheW1lbnQ6IGZhbHNlLAogICAgZnJlZV9jYW5jZWxhdGlvbjogZmFsc2UsCiAgICBkZWR1Y3Rpb252YWx1ZTogMCwKICAgIGV2ZXJ5ZGF5OiBmYWxzZSwKICAgIGV2ZXJ5dGltZTogZmFsc2UsCiAgICBmcm9tZGF5OiAnJywKICAgIHRvZGF5OiAnJywKICAgIGZyb210aW1lOiAnJywKICAgIHRvdGltZTogJycsCiAgICBjdXJyZW50X3BhZ2U6IDAsCiAgICBsYXN0X3BhZ2U6IDAsCiAgICBzdWJjYXRlZ29yeTogW10sCiAgICBzdWJfY2F0ZWdvcnlfaWQ6ICcnLAogICAgY2F0ZWdvcnk6IFtdLAogICAgY2F0ZWdvcnlfaWQ6ICcnLAogICAgYWRkcmVzc0Rpc2NyaXB0aW9uOiAnJywKICAgIHByb3ZfaWQ6ICcnLAogICAgbXNnX2Vycm9yOiBmYWxzZSwKICAgIHJlc2Vydl90eXBlX2lkOiAtMSwKICAgIHJlc2VydmF0aW9uX2R1cmF0aW9uOiAnJywKICAgIHJlc2VydmF0aW9uX2R1cmF0aW9uX2Zvcm9uZWRheTogJycsCiAgICByZXNlcnZfdHlwZV9pZDE6IC0xLAogICAgdmFsaWRfZGF5OiB0cnVlLAogICAgaW1nX25hbWU6ICcnLAogICAgbGF0OiAwLAogICAgbG5nOiAwLAogICAgZGF0ZV91cGRhdGU6IDAKICB9KSwKCgoKICBtZXRob2RzOiB7CgogICAgZ2V0bG9jYXRpb24obGF0LCBsbmcpIHsKICAgICAgdGhpcy5pbmZvLmFkZHJlc3MubGF0ID0gbGF0OwogICAgICB0aGlzLmluZm8uYWRkcmVzcy5sb25nID0gbG5nCgogICAgICB0aGlzLm1hcF9kaWFsb2cgPSBmYWxzZTsKCgogICAgfSwKCgoKICAgIGRlbGV0ZV9pbWcoaW1nX2lkLCBpbmRleCkgewoKCiAgICAgIGNvbnN0IFN3YWwgPSByZXF1aXJlKCdzd2VldGFsZXJ0MicpOwoKCgogICAgICBTd2FsLmZpcmUoewogICAgICAgIHRpdGxlOiAi2YfZhCDYp9mG2Kog2YXYqtin2YPYryDZhdmGINin2YTYrdiw2YEg2J8iLAoKICAgICAgICBpY29uOiAid2FybmluZyIsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjMzA4NWQ2JywKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogJyNkMzMnLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnWWVzLCBkZWxldGUgaXQhJwoKICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgdGhpcy5pbWdfY2xpY2VkID0gaW5kZXg7CgogICAgICAgICAgdmFyIHVybCA9IHRoaXMudXJMICsgIi9kZWxldGVfaXRlbV9pbWcvIiArIGltZ19pZDsKICAgICAgICAgIGF4aW9zKHsKICAgICAgICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICB0b2tlbjogdGhpcy50b2tlbgogICAgICAgICAgICB9CgogICAgICAgICAgfSkudGhlbihyZXNwb25zZSA9PiB7CgoKICAgICAgICAgICAgdGhpcy5pbmZvLmltYWdlc1tpbmRleF0uaW1hZ2VfcGF0aCA9IG51bGw7CiAgICAgICAgICAgIHRoaXMuaW1nX25hbWUgPSBpbmRleDsKICAgICAgICAgICAgdGhpcy5pbWFnZXNbaW5kZXhdID0gbnVsbDsKCiAgICAgICAgICAgIFN3YWwuZmlyZSgKICAgICAgICAgICAgICAn2KrZhSDYp9mE2K3YsNmBINio2YbYrNin2K0nLAogICAgICAgICAgICAgICcnLAogICAgICAgICAgICAgICdzdWNjZXNzJwogICAgICAgICAgICApCgogICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICB0aGlzLiRzd2FsKCfYrti32KfYoScsICLYrti32KfYoSDYqNin2YTYp9iq2LXYp9mEIiwgJ2Vycm9yJykKICAgICAgICAgIH0pLmZpbmFsbHkoZCA9PiB7CgogICAgICAgICAgICB0aGlzLmdldGl0ZW1zKCk7CiAgICAgICAgICB9KTsKCgoKICAgICAgICB9CiAgICAgIH0pCgoKCgogICAgfSwKCiAgICBjYW5jZWwoKSB7CiAgICAgIHRoaXMuJGVtaXQoImNoYW5nZVN0YXR1cyIsIGZhbHNlKTsKICAgIH0sCiAgICBnZXRJdGVtRGV0YWlscygpIHsKCiAgICAgIHZhciB1cmwgPSB0aGlzLnVyTCArICIvZ2V0SXRlbUJ5LyIgKyB0aGlzLml0ZW1JZDsKICAgICAgYXhpb3MuZ2V0KHVybCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5pbmZvID0gcmVzcG9uc2UuZGF0YS5EYXRhWzBdOwogICAgICAgIHRoaXMuaW1ncyA9IHRoaXMuaW5mby5pbWFnZXM7CiAgICAgICAgdGhpcy5hZGRyZXNzID0gcmVzcG9uc2UuZGF0YS5EYXRhWzBdLmFkZHJlc3MucHJvdmluY2UucHJvdmluY2VfbmFtZTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHsKICAgICAgICAgIHRoaXMuaW1hZ2VzW2ldID0gdGhpcy51ckwgKyAiLyIgKyB0aGlzLmluZm8uaW1hZ2VzW2ldLmltYWdlX3BhdGg7CgogICAgICAgIH0KCiAgICAgICAgZm9yICh2YXIgYSA9IDA7IGEgPCB0aGlzLmluZm8uZGF5X3RvX29wZW4ubGVuZ3RoOyBhKyspIHsKCiAgICAgICAgICB0aGlzLmRheV90b19vcGVuLnB1c2goewoKICAgICAgICAgICAgZXZlcnlfZGF5OiB0aGlzLmluZm8uZGF5X3RvX29wZW5bYV0uZXZlcnlfZGF5LAogICAgICAgICAgICBldmVyeV90aW1lOiB0aGlzLmluZm8uZGF5X3RvX29wZW5bYV0uZXZlcnlfdGltZSwKICAgICAgICAgICAgZnJvbV9kYXk6IHRoaXMuaW5mby5kYXlfdG9fb3BlblthXS5mcm9tX2RheSwKICAgICAgICAgICAgZnJvbV90aW1lOiB0aGlzLmluZm8uZGF5X3RvX29wZW5bYV0uZnJvbV90aW1lLAogICAgICAgICAgICB0b19kYXk6IHRoaXMuaW5mby5kYXlfdG9fb3BlblthXS50b19kYXksCiAgICAgICAgICAgIHRvX3RpbWU6IHRoaXMuaW5mby5kYXlfdG9fb3BlblthXS50b190aW1lLAogICAgICAgICAgICBtYXhfcmVxdWVzdHM6IHRoaXMuaW5mby5kYXlfdG9fb3BlblthXS5tYXhfcmVxdWVzdHMKICAgICAgICAgIH0pOwoKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMuaW5mby5kYXlfdG9fb3Blbi5sZW5ndGggPCAxKSB7CgogICAgICAgICAgdGhpcy5pbmZvLmRheV90b19vcGVuLnB1c2goewogICAgICAgICAgICBpZDogMCwKCiAgICAgICAgICAgIGV2ZXJ5X2RheTogMCwKICAgICAgICAgICAgZXZlcnlfdGltZTogMCwKICAgICAgICAgICAgZnJvbV9kYXk6IDAsCiAgICAgICAgICAgIGZyb21fdGltZTogMCwKICAgICAgICAgICAgdG9fZGF5OiAwLAogICAgICAgICAgICB0b190aW1lOiAwLAogICAgICAgICAgICBtYXhfcmVxdWVzdHM6IDAKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5nZXRTdWJDYXRlZ29yeSgpOwoKICAgICAgfSkKICAgIH0sCiAgICAvLyAgICAgICAgIGdldERhdGVfYW5kVGltZShpZCl7CgogICAgLy8gICB2YXIgdXJsID0gdGhpcy51ckwgKyAiL2dldERheXNUaW1lLyIgK2lkOwogICAgLy8gICAgICAgICBheGlvcy5nZXQodXJsKS50aGVuKHJlc3BvbnNlID0+IHsKCgoKICAgIC8vICAgICAgICAgICB9KX0sCiAgICBjaGFuZ2VfdGltZWRheSgpIHsKICAgICAgdGhpcy5kYXlfdG9fb3Blbi5sZW5ndGggPSAwOwogICAgICB0aGlzLmRlZHVjdGlvbnZhbHVlID0gMDsKICAgIH0sCiAgICBzZWxlY3RfcmVzZXJfdHlwZTEoaWQpIHsKCiAgICAgIHRoaXMucmVzZXJ2X3R5cGVfaWQxID0gaWQ7CiAgICB9LAogICAgc2VsZWN0X3Jlc2VyX3R5cGUoaWQpIHsKCiAgICAgIHRoaXMucmVzZXJ2X3R5cGVfaWQgPSBpZDsKICAgICAgaWYgKGlkID09IDEpIHsKICAgICAgICB0aGlzLmJvb2tfZHVyX3N0YXR1cyA9IHRydWU7CiAgICAgICAgdGhpcy5ib29rX251bV9zdGF0dXMgPSBmYWxzZTsKICAgICAgfSBlbHNlIGlmIChpZCA9PSAyKSB7CiAgICAgICAgdGhpcy5ib29rX2R1cl9zdGF0dXMgPSBmYWxzZTsKICAgICAgICB0aGlzLmJvb2tfbnVtX3N0YXR1cyA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5ib29rX2R1cl9zdGF0dXMgPSBmYWxzZTsKICAgICAgICB0aGlzLmJvb2tfbnVtX3N0YXR1cyA9IGZhbHNlOwogICAgICB9CiAgICB9LAoKICAgIGFsbG93ZWRIb3Vycyh2KSB7CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAoKICAgIGNvbXB1dF9tYXhSZXF1ZXN0KGlkLCB0aW1lX2R1cmF0aW9uLCBmcm9tX3RpbSwgdG9fdGltKSB7CgogICAgICBpZiAoaWQgPT0gMCkgewogICAgICAgIHJldHVybiAwOwogICAgICB9IGVsc2UgaWYgKGlkID09IDEpIHsKICAgICAgICAvLyB0aGlzLnJlc2VydmF0aW9uX2R1cmF0aW9uCgogICAgICAgIHZhciBmcm9tX2hvdXIgPSBwYXJzZUludChmcm9tX3RpbS5zcGxpdCgiOiIpWzBdKQogICAgICAgIHZhciBmcm9tX21pbiA9IHBhcnNlSW50KGZyb21fdGltLnNwbGl0KCI6IilbMV0pCgoKICAgICAgICB2YXIgdG9faG91ciA9IHBhcnNlSW50KHRvX3RpbS5zcGxpdCgiOiIpWzBdKQogICAgICAgIHZhciB0b19taW4gPSBwYXJzZUludCh0b190aW0uc3BsaXQoIjoiKVsxXSkKCiAgICAgICAgdmFyIGZyb20gPSBmcm9tX2hvdXIgKiA2MCArIGZyb21fbWluOwoKCiAgICAgICAgdmFyIHRvID0gdG9faG91ciAqIDYwICsgdG9fbWluOwoKICAgICAgICB2YXIgcmVzdWx0ID0gdG8gLSBmcm9tOwoKICAgICAgICB2YXIgaG91ZXIgPSBwYXJzZUludCh0aW1lX2R1cmF0aW9uLnNwbGl0KCI6IilbMF0pOwogICAgICAgIHZhciBtaW5pdCA9IHBhcnNlSW50KHRpbWVfZHVyYXRpb24uc3BsaXQoIjoiKVsxXSk7CgogICAgICAgIHZhciBkdXIgPSBob3VlciAqIDYwICsgbWluaXQ7CgogICAgICAgIHJlc3VsdCA9IHJlc3VsdCAvIGR1cgoKICAgICAgICByZXR1cm4gcmVzdWx0CgogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAwCiAgICAgIH0KCgoKCiAgICB9LAogICAgc3VibWl0KCkgewoKICAgICAgdmFyIGltYWcgPSBbXTsKCiAgICAgIGlmICh0aGlzLmluZm8uaW1hZ2VzLmxlbmd0aCA8IDEpIHsKICAgICAgICBmb3IgKHZhciBpbSA9IDA7IGltIDwgdGhpcy5pbWFnZXMubGVuZ3RoOyBpbSsrKSB7CgogICAgICAgICAgaW1hZy5wdXNoKHRoaXMuaW1hZ2VzW2ltXSk7CgoKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CgogICAgICAgIGZvciAodmFyIGltID0gMDsgaW0gPCB0aGlzLmltYWdlcy5sZW5ndGg7IGltKyspIHsKICAgICAgICAgIGlmICh0aGlzLmltYWdlc1tpbV0gIT0gbnVsbCAmJiB0aGlzLmltYWdlc1tpbV0gIT0gdGhpcy51ckwgKyAiLyIgKyB0aGlzLmluZm8uaW1hZ2VzW2ltXS5pbWFnZV9wYXRoKSB7CgogICAgICAgICAgICBpbWFnLnB1c2godGhpcy5pbWFnZXNbaW1dKTsKICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pbWFnZXNbaW1dICE9IG51bGwpIHsKCiAgICAgICAgICB9CgogICAgICAgIH0KCiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmluZm8uZGF5X3RvX29wZW5bMF0uZXZlcnlfZGF5ICYmIHRoaXMuaW5mby5kYXlfdG9fb3BlblswXS5ldmVyeV90aW1lKSB7CiAgICAgICAgdGhpcy5kYXlfdG9fb3Blbi5sZW5ndGggPSAwCiAgICAgICAgdGhpcy5kYXRlX3VwZGF0ZSA9IDE7CiAgICAgICAgdGhpcy5kYXlfdG9fb3Blbi5wdXNoKHsKCiAgICAgICAgICBldmVyeV9kYXk6IDEsCiAgICAgICAgICBldmVyeV90aW1lOiAxLAogICAgICAgICAgZnJvbV9kYXk6IDAsCiAgICAgICAgICBmcm9tX3RpbWU6ICIwMDowMCIsCiAgICAgICAgICB0b19kYXk6IDYsCiAgICAgICAgICB0b190aW1lOiAiMjQ6MDAiLAogICAgICAgICAgbWF4X3JlcXVlc3RzOiB0aGlzLmNvbXB1dF9tYXhSZXF1ZXN0KHRoaXMucmVzZXJ2X3R5cGVfaWQsIHRoaXMucmVzZXJ2YXRpb25fZHVyYXRpb24sICIwMDowMCIsICIyNDowMCIpCiAgICAgICAgfSk7CgogICAgICB9CgogICAgICBpZiAodGhpcy5kYXlfdG9fb3Blbi5sZW5ndGggPT0gMCkgewogICAgICAgIHRoaXMuJHN3YWwoJ9iq2K3YsNmK2LEnLCAiICAgINmK2KzYqCDYp9iu2KrZitin2LEg2KzYr9mI2YQg2KfZhNit2KzYsiIsICd3YXJuaW5nJykKICAgICAgfQoKICAgICAgaWYgKHRoaXMuaW5mby5pbWFnZXMuZmluZChpbSA9PiBpbSA9PT0gJ2EnKSkgewogICAgICAgIHRoaXMuJHN3YWwoJ9iq2K3YsNmK2LEnLCAiINmK2KzYqCDYp9iu2KrZitin2LEgNCDZhdmGINin2YTYtdmI2LEiLCAnd2FybmluZycpCiAgICAgIH0KCgogICAgICBpZiAodGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkgJiYgdGhpcy5kYXlfdG9fb3Blbi5sZW5ndGggPiAwKSB7CgogICAgICAgIHZhciBkYXRhID0gewoKICAgICAgICAgIHByb3ZpbmNlX2lkOiB0aGlzLmluZm8uYWRkcmVzcy5wcm92aW5jZS5pZCwKICAgICAgICAgIGNvdW50cnlfaWQ6IHRoaXMuaW5mby5hZGRyZXNzLnByb3ZpbmNlLmNvdW50cnlfaWQsCiAgICAgICAgICBjYXRlZ29yeV9pZDogdGhpcy5pbmZvLnN1Yl9jYXRlZ29yeS5jYXRlZ29yeV9pZCwKICAgICAgICAgIGxvbmc6IHRoaXMuaW5mby5hZGRyZXNzLmxvbmcsCiAgICAgICAgICBsYXQ6IHRoaXMuaW5mby5hZGRyZXNzLmxhdCwKICAgICAgICAgIGFkZHJlc3NfaWQ6IHRoaXMuaW5mby5hZGRyZXNzLmlkLAogICAgICAgICAgbmFtZTogdGhpcy5pbmZvLm5hbWUsCiAgICAgICAgICBudW1iZXI6IDAsCiAgICAgICAgICBkaXNjcmFwdGlvbjogdGhpcy5pbmZvLmRpc2MsCiAgICAgICAgICBhZGRyZXNzX2Rpc2NyYXB0aW9uOiB0aGlzLmluZm8uYWRkcmVzcy5kaXNjcmFwdGlvbiwKICAgICAgICAgIG1heF9yZXF1ZXN0czogdGhpcy5pbmZvLm1heF9yZXF1ZXN0cywKCiAgICAgICAgICBzdWJfY2F0ZWdvcnlfaWQ6IHRoaXMuaW5mby5zdWJfY2F0ZWdvcnkuaWQsCgogICAgICAgICAgb3duZXJfaWQ6ICI4IiwKCiAgICAgICAgICBwcmljZTogdGhpcy5pbmZvLml0ZW1fcHJpY2UucHJpY2UsCgogICAgICAgICAgYm9va193aXRob3V0X2NyZWRpdF9jYXJkOiB0aGlzLmluZm8uaXRlbV9wcmljZS5ib29rX3dpdGhvdXRfY3JlZGl0X2NhcmQsCgogICAgICAgICAgZnJlZV9jYW5jZWxsYXRpb246IHRoaXMuaW5mby5pdGVtX3ByaWNlLmZyZWVfY2FuY2VsbGF0aW9uLAogICAgICAgICAgZGVkdWN0aW9uOiB0aGlzLmluZm8uaXRlbV9wcmljZS5kZWR1Y3Rpb24sCgogICAgICAgICAgbm9fcHJlcGF5bWVudDogIjEiLAogICAgICAgICAgY2FuY2VsbGF0aW9uX2RlZHVjdGlvbl9yYXRpbzogIjEiLAogICAgICAgICAgd29ya190aW1lczogdGhpcy5kYXlfdG9fb3BlbiwKCiAgICAgICAgICB0eXBlOiAicG5nIiwKICAgICAgICAgIGltYWdlczogaW1hZy5sZW5ndGggIT0gMCA/IGltYWcgOiBbImEiLCAiYSIsICJhIiwgImEiXSwKICAgICAgICAgIHRpbWVfb3Blbl9pZDogdGhpcy5pbmZvLmRheV90b19vcGVuWzBdLmlkLAogICAgICAgICAgZGF5X29wZW5faWQ6IHRoaXMuaW5mby5kYXlfdG9fb3BlblswXS5pZCwKICAgICAgICAgIGl0ZW1fcHJpY2VfaWQ6IHRoaXMuaW5mby5pdGVtX3ByaWNlLmlkLAogICAgICAgICAgZGF5X3RvX29wZW5fdXBkYXRlOiB0aGlzLmRhdGVfdXBkYXRlCiAgICAgICAgfTsKICAgICAgICAvLyB0aGlzLmRlc2NyaXB0aW9uPUpTT04uc3RyaW5naWZ5KGRhdGEpOwoKICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgIGF4aW9zKHsKICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgICAgIHVybDogdGhpcy51ckwgKyAiL3VwZGF0ZUl0ZW0vIiArIHRoaXMuaXRlbUlkLAogICAgICAgICAgICBkYXRhOiBkYXRhLAogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgdG9rZW46IHRoaXMudG9rZW4KICAgICAgICAgICAgfQoKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIHRoaXMuJHN3YWwoJ9iq2YUnLCAiICAgINiq2YUg2KrYudiv2YrZhCDYp9mE2K3YrNiyIiwgJ3N1Y2Nlc3MnKQoKICAgICAgICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5jdXJyZW50X3BhZ2UgPSAwOwogICAgICAgICAgICB0aGlzLmdldGl0ZW1zKCk7CiAgICAgICAgICAgIHRoaXMuJHJlZnMuZm9ybS5yZXNldCgpOwoKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcyA9PSB0cnVlKSB7CiAgICAgICAgICAgICAgdGhpcy4kcmVmcy5mb3JtLnJlc2V0KCkKICAgICAgICAgICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOwogICAgICAgICAgICAgIHRoaXMuY3VycmVudF9wYWdlID0gMDsKICAgICAgICAgICAgICB0aGlzLmdldGl0ZW1zKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gCgoKCiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgdGhpcy5lcnJfc2hvdyA9IHRydWU7CiAgICAgICAgICAgIHRoaXMuJHN3YWwoZXJyb3IsICIgICAgINmE2YUg2YrYqtmFINin2LbYp9mB2Kkg2KfZhNit2KzYsiIsICdlcnJvcicpCgogICAgICAgICAgfSkuZmluYWxseShkID0+IHsKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuZXZlcnlkYXkgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5ldmVyeXRpbWUgPSBmYWxzZTsKICAgICAgICAgIH0pOwogICAgICB9IGVsc2UgewoKICAgICAgICB0aGlzLmVycl9zaG93ID0gdHJ1ZTsKCgoKCiAgICAgIH0KCgoKCiAgICB9LAogICAgZ2V0Q2F0ZWdvcnkoKSB7CgogICAgICB2YXIgdXJsID0gdGhpcy51ckwgKyAiL2dldEluZm8vQ2F0ZWdvcnkiOwogICAgICBheGlvcy5nZXQodXJsKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLmNhdGVnb3J5ID0gcmVzcG9uc2UuZGF0YS5EYXRhOwoKCgogICAgICB9KQogICAgfSwKCgogICAgZ2V0SW1hZ2VEYXRhKHVybCkgewoKICAgICAgY29uc3QgaW1hZ2UyYmFzZTY0ID0gcmVxdWlyZSgnaW1hZ2UtdG8tYmFzZTY0Jyk7CiAgICAgIGltYWdlMmJhc2U2NCh1cmwpIC8vIHlvdSBjYW4gYWxzbyB0byB1c2UgdXJsCiAgICAgICAgLnRoZW4oCiAgICAgICAgICAocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOyAvL2NHRjBhQzkwYnk5bWFXeGxMbXB3Wnc9PQogICAgICAgICAgfQogICAgICAgICkKICAgICAgICAuY2F0Y2goCiAgICAgICAgICAoZXJyb3IpID0+IHsKCiAgICAgICAgICB9CiAgICAgICAgKQoKICAgIH0sCgogICAgZ2V0U3ViQ2F0ZWdvcnkoKSB7CgogICAgICB2YXIgdXJsID0gdGhpcy51ckwgKyAiL2dldEluZm8vU3ViQ2F0ZWdvcnkvIiArIHRoaXMuaW5mby5zdWJfY2F0ZWdvcnkuY2F0ZWdvcnlfaWQ7CiAgICAgIGF4aW9zLmdldCh1cmwpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuc3ViY2F0ZWdvcnkgPSByZXNwb25zZS5kYXRhLkRhdGE7CgoKCiAgICAgIH0pCiAgICB9LAogICAgZ2V0UHJvdmluY2UoKSB7CgogICAgICB2YXIgdXJsID0gdGhpcy51ckwgKyAiL2dldEluZm8vUHJvdmluY2UvMSI7CiAgICAgIGF4aW9zLmdldCh1cmwpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMucHJvdmluY2UgPSByZXNwb25zZS5kYXRhLkRhdGE7CgoKCiAgICAgIH0pCiAgICB9LAoKCiAgICBhZGRkYXkoKSB7CiAgICAgIGlmICh0aGlzLiRyZWZzLmZvcm1fZGF5LnZhbGlkYXRlKCkpIHsKCgogICAgICAgIHRoaXMubXNnX2Vycm9yID0gZmFsc2U7CgoKICAgICAgICBsZXQgc2VhcmNoID0gdGhpcy5kYXlfdG9fb3Blbi5maW5kKChvLCBpKSA9PiB7CiAgICAgICAgICBpZiAoby5mcm9tX2RheSA9PSB0aGlzLmRheXMuaW5kZXhPZih0aGlzLmZyb21kYXkpKSB7CiAgICAgICAgICAgIHJldHVybiBvOwogICAgICAgICAgfQogICAgICAgIH0pOwoKCiAgICAgICAgaWYgKHNlYXJjaCA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIGlmICh0aGlzLmV2ZXJ5dGltZSAmJiAhdGhpcy5ldmVyeWRheSkgewogICAgICAgICAgICB0aGlzLmFkZF9kYXlfcmV2ZXJzYXRpb24oKTsKICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5ldmVyeWRheSAmJiAhdGhpcy5ldmVyeXRpbWUpIHsKICAgICAgICAgICAgdGhpcy5hZGRfdGltZV9yZXZlcnNhdGlvbigpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5hZGRfZGF5VGltZV9yZXZlcnNhdGlvbigpOwoKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kc3dhbCgn2KrYrdiw2YrYsScsICIgINmE2KfZitmF2YPZhiDYqtmD2LHYp9ixINin2YTZitmI2YUiLCAnd2FybmluZycpCgogICAgICAgICAgdGhpcy4kcmVmcy5mb3JtX2RheS5yZXNldCgpOwogICAgICAgIH0KCiAgICAgIH0KCiAgICB9LAogICAgYWRkX2RheVRpbWVfcmV2ZXJzYXRpb24oKSB7CiAgICAgIHRoaXMuZGF0ZV91cGRhdGUgPSAxOwoKICAgICAgdGhpcy5kYXlfdG9fb3Blbi5wdXNoKHsKICAgICAgICBldmVyeV9kYXk6IHRoaXMuZXZlcnlkYXksCiAgICAgICAgZXZlcnlfdGltZTogdGhpcy5ldmVyeXRpbWUsCiAgICAgICAgZnJvbV9kYXk6IHRoaXMuZGF5cy5pbmRleE9mKHRoaXMuZnJvbWRheSksCiAgICAgICAgZnJvbV90aW1lOiB0aGlzLmZyb210aW1lLAogICAgICAgIHRvX2RheTogdGhpcy5kYXlzLmluZGV4T2YodGhpcy5mcm9tZGF5KSwKICAgICAgICB0b190aW1lOiB0aGlzLnRvdGltZSwKICAgICAgICBtYXhfcmVxdWVzdHM6IHRoaXMuY29tcHV0X21heFJlcXVlc3QodGhpcy5yZXNlcnZfdHlwZV9pZDEsIHRoaXMucmVzZXJ2YXRpb25fZHVyYXRpb25fZm9yb25lZGF5LCB0aGlzCiAgICAgICAgICAuZnJvbXRpbWUsIHRoaXMudG90aW1lKQogICAgICB9KTsKCiAgICAgIHRoaXMuJHJlZnMuZm9ybV9kYXkucmVzZXQoKTsKCiAgICB9LAogICAgYWRkX2RheV9yZXZlcnNhdGlvbigpIHsKICAgICAgdGhpcy5kYXRlX3VwZGF0ZSA9IDE7CiAgICAgIHRoaXMuZGF5X3RvX29wZW4ucHVzaCh7CiAgICAgICAgZXZlcnlfZGF5OiB0aGlzLmV2ZXJ5ZGF5LAogICAgICAgIGV2ZXJ5X3RpbWU6IHRoaXMuZXZlcnl0aW1lLAogICAgICAgIGZyb21fZGF5OiB0aGlzLmRheXMuaW5kZXhPZih0aGlzLmZyb21kYXkpLAogICAgICAgIGZyb21fdGltZTogMCwKICAgICAgICB0b19kYXk6IHRoaXMuZGF5cy5pbmRleE9mKHRoaXMuZnJvbWRheSksCiAgICAgICAgdG9fdGltZTogMjMsCiAgICAgICAgbWF4X3JlcXVlc3RzOiB0aGlzLmNvbXB1dF9tYXhSZXF1ZXN0KHRoaXMucmVzZXJ2X3R5cGVfaWQxLCB0aGlzLnJlc2VydmF0aW9uX2R1cmF0aW9uX2Zvcm9uZWRheSwgIjAwOjAwIiwKICAgICAgICAgICIyMzowMCIpCiAgICAgIH0pOwoKICAgICAgdGhpcy4kcmVmcy5mb3JtX2RheS5yZXNldCgpOwoKICAgIH0sCiAgICBhZGRfdGltZV9yZXZlcnNhdGlvbigpIHsKCiAgICAgIGlmICh0aGlzLmRheV90b19vcGVuLmxlbmd0aCA8IDEpIHsKICAgICAgICB0aGlzLmRhdGVfdXBkYXRlID0gMTsKICAgICAgICB0aGlzLmRheV90b19vcGVuLnB1c2goewogICAgICAgICAgZXZlcnlfZGF5OiB0aGlzLmV2ZXJ5ZGF5LAogICAgICAgICAgZXZlcnlfdGltZTogdGhpcy5ldmVyeXRpbWUsCiAgICAgICAgICBmcm9tX2RheTogMCwKICAgICAgICAgIGZyb21fdGltZTogdGhpcy5mcm9tdGltZSwKICAgICAgICAgIHRvX2RheTogNiwKICAgICAgICAgIHRvX3RpbWU6IHRoaXMudG90aW1lLAogICAgICAgICAgbWF4X3JlcXVlc3RzOiB0aGlzLmNvbXB1dF9tYXhSZXF1ZXN0KHRoaXMucmVzZXJ2X3R5cGVfaWQxLCB0aGlzLnJlc2VydmF0aW9uX2R1cmF0aW9uX2Zvcm9uZWRheSwgdGhpcwogICAgICAgICAgICAuZnJvbXRpbWUsIHRoaXMudG90aW1lKQogICAgICAgIH0pOwoKICAgICAgICB0aGlzLiRyZWZzLmZvcm1fZGF5LnJlc2V0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kc3dhbCgn2KrYrdiw2YrYsScsICIg2YTYp9mK2YXZg9mGINin2LbYp9mB2Kkg2YjZgtiqINin2K7YsSIsICd3YXJuaW5nJykKICAgICAgfQoKCiAgICB9LAogICAgcGlja0ZpbGUoaW5kZXgpIHsKCiAgICAgIHRoaXMuaW1nX2NsaWNlZCA9IGluZGV4CiAgICAgIHRoaXMuJHJlZnMuaW1hZ2UuY2xpY2soKQogICAgfSwKCiAgICBvbkZpbGVQaWNrZWQoZSkgewoKICAgICAgY29uc3QgZmlsZXMgPSBlLnRhcmdldC5maWxlcwogICAgICBpZiAoZmlsZXNbMF0gIT09IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMuaW1hZ2VOYW1lID0gZmlsZXNbMF0ubmFtZQogICAgICAgIGlmICh0aGlzLmltYWdlTmFtZS5sYXN0SW5kZXhPZignLicpIDw9IDApIHsKICAgICAgICAgIHJldHVybgogICAgICAgIH0KICAgICAgICBjb25zdCBmciA9IG5ldyBGaWxlUmVhZGVyKCkKICAgICAgICBmci5yZWFkQXNEYXRhVVJMKGZpbGVzWzBdKQogICAgICAgIGZyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7CiAgICAgICAgICB0aGlzLmltYWdlVXJsID0gZnIucmVzdWx0CiAgICAgICAgICB0aGlzLmltYWdlRmlsZSA9IGZpbGVzWzBdCiAgICAgICAgICB2YXIgaW1iYXNlNjQgPSBmci5yZXN1bHQ7CiAgICAgICAgICB0aGlzLmltYWdlc1t0aGlzLmltZ19jbGljZWRdID0gaW1iYXNlNjQ7CiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmltYWdlcykKICAgICAgICAgIHRoaXMuaW1nX25hbWUgPSB0aGlzLmltYWdlTmFtZQogICAgICAgICAgLy8gIHRoaXMuaW5mby5pbWFnZXNbdGhpcy5pbWdfY2xpY2VkXS5pbWFnZV9wYXRoPWZyLnJlc3VsdAoKCgogICAgICAgIH0pCgogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaW1hZ2VOYW1lID0gJycKICAgICAgICB0aGlzLmltYWdlRmlsZSA9ICcnCiAgICAgICAgdGhpcy5pbWFnZVVybCA9ICcnCiAgICAgIH0KICAgIH0sCgogICAgY2hhbmdlX3BheW1lbnQoc3RhdHVzKSB7CiAgICAgIGlmIChzdGF0dXMgPT0gdHJ1ZSkgewogICAgICAgIHRoaXMuZnJlZV9jYW5jZWxhdGlvbiA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgdXBkYXRldGltZShpdGVtLCBpbmRleCkgewoKICAgICAgdGhpcy5mcm9tZGF5ID0gdGhpcy5kYXlzW2l0ZW0uZnJvbV9kYXldOwogICAgICB0aGlzLmZyb210aW1lID0gaXRlbS5mcm9tX3RpbWU7CiAgICAgIHRoaXMudG90aW1lID0gaXRlbS50b190aW1lOwogICAgICB0aGlzLmRheV90b19vcGVuLnNwbGljZShpbmRleCwgMSk7CiAgICB9CiAgfSwKCgoKICBtb3VudGVkKCkgewogICAgdGhpcy50b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhY2Nlc3NfdG9rZW4nKTsKICAgIHRoaXMudXNlcl9pbmZvID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcl9pbmZvJykpOwoKCiAgICB0aGlzLmdldENhdGVnb3J5KCk7CiAgICB0aGlzLmdldFByb3ZpbmNlKCk7CiAgICB0aGlzLmdldEl0ZW1EZXRhaWxzKCk7CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBHb29nbGVNYXAsCiAgICBpdGVtRm9ybQogIH0KfQo="},{"version":3,"sources":["item_form.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAieA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;AAEA;AACA;AACA;;AAEA;;;AAGA;;;;AAIA;;;AAGA;;;;AAIA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;;;;;AAKA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;;;AAGA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;;;AAKA;AACA;;AAEA;;AAEA;AACA;;AAEA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;AAKA;;;;;AAKA;AACA;;AAEA;AACA;AACA;;;;AAIA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;;;;AAIA;AACA;;;AAGA;AACA;;;AAGA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"item_form.vue","sourceRoot":"src/components/Owner/components","sourcesContent":["<template>\n\n  <v-form ref=\"form\" v-model=\"valid\">\n    <v-card>\n\n\n      <v-row class=\"mb-6\" style=\"background:#424242; padding:10px;margin:0px\" justify=\"center\">\n\n\n        \n\n         <v-card-title class=\"headline grey lighten-2\" primary-title\n              style=\"\tfont-family: 'droid_bold' !important;    background-color: #435c6f!important;color:#fff\">\n            اضافة حجز سس\n            </v-card-title>\n\n      </v-row>\n\n      <v-container style=\"padding:30px\">\n\n        <h3 class=\"mb-3\">اضافة معلssssومات الحجز </h3>\n\n\n\n        <v-divider class=\"mb-4\"></v-divider>\n\n\n\n        <v-layout row wrap>\n          <v-flex pa-3 xs6>\n            <v-text-field solo=\"\" background-color=\"#eeeeee\" dense=\"\" height=\"40\" style=\"\" placeholder=\"اسم الحجز\"\n              v-model=\"info.name\" :rules=\"nameRules\" required></v-text-field>\n          </v-flex>\n          <v-flex xs6 pa-3>\n            <v-text-field solo=\"\" background-color=\"#eeeeee\" dense=\"\" height=\"40\" placeholder=\" سعر الحجز\"\n              data-vv-name=\"name\" v-model=\"info.item_price.price\" :rules=\"numberRul\" required>\n            </v-text-field>\n          </v-flex>\n          <!-- <v-flex pa-3 xs6>\n              <v-text-field  \n                background-color=\"#eeeeee\" \n             height=\"40\"\n             placeholder=\" عدد الاشياء\" v-model=\"number\" :rules=\"numberRul\" required></v-text-field>\n            </v-flex> -->\n\n        </v-layout>\n\n        <v-layout row wrap>\n\n          <v-flex pa-3 xs6>\n            <v-select solo=\"\" background-color=\"#eeeeee\" dense=\"\" height=\"40\" :rules=\"nameRules\" class=\"my-2\"\n              :items=\"category\" item-value=\"id\" item-text=\"name\" v-model=\"info.sub_category.category_id\"\n              placeholder=\"  التصنيف الرئيسي\" @change=\"getSubCategory()\" required></v-select>\n          </v-flex>\n\n\n          <v-flex pa-3 xs6>\n            <v-select :rules=\"nameRules\" segmented class=\"my-2\" :items=\"subcategory\" item-value=\"id\" item-text=\"name\"\n              solo=\"\" background-color=\"#eeeeee\" dense=\"\" height=\"40\" v-model=\"info.sub_category.id\"\n              placeholder=\" التصنيف الفرعي\" @change=\"dis()\" required></v-select>\n          </v-flex>\n\n        </v-layout>\n\n\n\n\n\n\n\n\n\n        <v-layout column=\"\" wrap pa-2>\n          <h3>معلومات الموقع </h3>\n\n\n        </v-layout>\n        <v-divider class=\"mb-4\"></v-divider>\n\n        <v-row justify=\"center\">\n\n\n          <v-flex pa-2 xs2>\n            <v-select background-color=\"#eeeeee\" height=\"40\" item-value=\"id\" item-text=\"province_name\" :items=\"province\"\n              placeholder=\" المحافظة\" target=\"#dropdown-example\" v-model=\"info.address.province_id\" required solo=\"\"\n              :rules=\"nameRules\"></v-select>\n          </v-flex>\n\n\n          <v-flex pa-2 xs3>\n            <v-text-field background-color=\"#eeeeee\" height=\"40\" placeholder=\" الوصف \" solo=\"\"\n              v-model=\"info.address.discraption\" :rules=\"nameRules\" required></v-text-field>\n          </v-flex>\n          <v-row style=\"margin-left:5px; margin-right:5px\">\n\n            <v-flex xs6 pl-2 pt-2>\n              <v-text-field background-color=\"#eeeeee\" height=\"40\" placeholder=\" الطول \" disabled readonly solo=\"\"\n                v-model=\"info.address.lat\" :rules=\"nameRules\" required></v-text-field>\n            </v-flex>\n\n            <v-flex xs6 pr-2 pt-2>\n              <v-text-field background-color=\"#eeeeee\" height=\"40\" placeholder=\" العرض \" disabled readonly solo=\"\"\n                v-model=\"info.address.long\" :rules=\"nameRules\" required></v-text-field>\n            </v-flex>\n          </v-row>\n\n\n          <v-flex xs2 pa-2>\n            <v-btn color=\"info\" @click=\"map_dialog=true\" height=\"45\">اختيار موقع</v-btn>\n          </v-flex>\n\n        </v-row>\n\n\n\n\n\n        <!-- <v-row justify=\"center\">\n          \n            \n             <v-flex pa-3 xs6>\n              <v-select \n                  solo=\"\"\n         background-color=\"#eeeeee\"\n           dense=\"\"\n             height=\"40\"\n              item-value=\"id\"\n               item-text=\"province_name\"\n                 :items=\"province\" placeholder=\" المحافظة\" target=\"#dropdown-example\"\n                v-model=\"info.address.province_id\" required  :rules=\"nameRules\"></v-select>\n            </v-flex>\n\n\n             <v-flex pa-3 xs4>\n              <v-text-field  \n                   solo=\"\"\n         background-color=\"#eeeeee\"\n           dense=\"\"\n             height=\"40\"\n             placeholder=\" الوصف \" v-model=\"info.address.discraption\" :rules=\"nameRules\" required></v-text-field>\n            </v-flex>\n             <v-flex  xs2 pt-3>\n               <v-btn color=\"info\" @click=\"map_dialog=true\">اختيار موقع</v-btn>\n             </v-flex>\n\n          </v-row> -->\n\n\n        <v-dialog v-model=\"map_dialog\" max-width=\"700px\">\n\n          <google-map @getmyLocation=\"getlocation\" @cancel=\"map_dialog=false\" />\n\n        </v-dialog>\n\n\n        <v-layout column=\"\" wrap pa-2>\n          <h3>معلومات الدفع </h3>\n\n\n        </v-layout>\n        <v-divider class=\"mb-4\"></v-divider>\n\n\n        <v-row justify=\"center\">\n\n          <v-flex xs3 pa-1>\n            <v-checkbox v-model=\"info.item_price.book_without_credit_card\" label=\"الحجز بدون بطاقة دفع\"\n              @change=\"change_payment\" required></v-checkbox>\n          </v-flex>\n          <!-- :disabled=\"payment\" -->\n          <v-flex xs3 pa-1>\n            <v-checkbox v-model=\"info.item_price.free_cancellation\" label=\"امكانية الغاء الحجز\" required></v-checkbox>\n          </v-flex>\n\n          <v-flex xs4>\n\n\n            <v-text-field v-if=\"!info.item_price.book_without_credit_card\" class=\"deucation_txfield\"\n              prepend-inner-icon=\"fas fa-percent\" style=\"padding:10px; font-size:20px\" solo=\"\"\n              background-color=\"#eeeeee\" dense=\"\" height=\"40\" placeholder=\"  نسبة الاستقطاع\" data-vv-name=\"name\"\n              :disabled=\"!info.item_price.free_cancellation\" v-model=\"info.item_price.deduction\" :rules=\"numberRul1\">\n            </v-text-field>\n\n            <!-- <v-select v-show=\"free_cancelation\"\n                background-color=\"#eeeeee\" \n                :disabled=\"!free_cancelation\"\n             height=\"40\"\n             :items=\"deduction\" placeholder=\"نسبة الاستقطاع\" \n                v-model=\"deductionvalue\" ></v-select> -->\n          </v-flex>\n          <v-flex xs2>\n\n          </v-flex>\n        </v-row>\n\n\n        <v-row>\n          <v-col>\n\n          </v-col>\n        </v-row>\n\n\n\n\n\n\n        <v-layout column=\"\" wrap pa-2>\n          <h3>جدول الحجز</h3>\n\n\n        </v-layout>\n        <v-divider></v-divider>\n\n\n        <v-row>\n\n          <v-flex xs2>\n            <v-checkbox v-model=\"info.day_to_open[0].every_day\" label=\" كل الايام \" @change=\"change_timeday\">\n            </v-checkbox>\n          </v-flex>\n          <v-flex xs2>\n            <v-checkbox v-model=\"info.day_to_open[0].every_time\" label=\"كل الساعات  \" @change=\"change_timeday\">\n            </v-checkbox>\n          </v-flex>\n\n\n          <v-flex xs3 pl-3 v-if=\"info.day_to_open[0].every_day\">\n            <v-select v-if=\"info.day_to_open[0].every_time\" solo=\"\" background-color=\"#eeeeee\" height=\"40\"\n              :items=\"reve_type\" placeholder=\" نوع الحجز\" item-value=\"id\" item-text=\"duration\"\n              @change=\"select_reser_type\"></v-select>\n          </v-flex>\n\n\n          <v-flex xs3>\n\n\n\n\n\n            <v-menu v-if=\"book_dur_status\" v-show=\"everyday\" ref=\"menu3\" v-model=\"menu4\" :close-on-content-click=\"false\"\n              :nudge-right=\"40\" :return-value.sync=\"reservation_duration\" transition=\"scale-transition\" offset-y\n              max-width=\"290px\" min-width=\"290px\">\n              <template v-slot:activator=\"{ on }\">\n                <v-text-field v-model=\"reservation_duration\" placeholder=\" مدة الحجز الواحد \" solo=\"\"\n                  background-color=\"#eeeeee\" height=\"40\" required readonly v-on=\"on\"></v-text-field>\n              </template>\n              <v-time-picker v-if=\"menu4\" v-model=\"reservation_duration\" full-width\n                @click:minute=\"$refs.menu3.save(reservation_duration)\"></v-time-picker>\n            </v-menu>\n\n\n\n\n            <v-text-field v-if=\"book_num_status\" solo=\"\" background-color=\"#eeeeee\" height=\"40\"\n              placeholder=\"   عدد الحجز باليوم الواحد \" :rules=\"numberRul\" v-model=\"request\"></v-text-field>\n          </v-flex>\n\n        </v-row>\n\n\n\n\n\n\n        <v-form ref=\"form_day\" v-model=\"valid_day\">\n          <v-layout row wrap v-if=\"info.day_to_open[0].every_time==false || info.day_to_open[0].every_day==false\">\n            <v-flex pa-1 xs2 v-if=\"!info.day_to_open[0].every_day\">\n              <v-select solo=\"\" background-color=\"#eeeeee\" dense=\"\" height=\"40\" class=\"my-2\" :items=\"days\"\n                v-model=\"fromday\" placeholder=\"  اليوم\" :rules=\"nameRules\" required></v-select>\n            </v-flex>\n\n\n\n\n\n            <v-flex pa-3 xs2 v-if=\"!info.day_to_open[0].every_time\">\n\n              <v-menu ref=\"menu\" v-model=\"menu1\" :close-on-content-click=\"false\" :nudge-right=\"40\"\n                :return-value.sync=\"fromtime\" transition=\"scale-transition\" offset-y max-width=\"290px\"\n                min-width=\"290px\">\n                <template v-slot:activator=\"{ on }\">\n                  <v-text-field v-model=\"fromtime\" placeholder=\"من الساعة \" solo=\"\" dense=\"\" background-color=\"#eeeeee\"\n                    height=\"40\" required readonly v-on=\"on\"></v-text-field>\n                </template>\n                <v-time-picker v-if=\"menu1\" v-model=\"fromtime\" full-width @click:minute=\"$refs.menu.save(fromtime)\">\n                </v-time-picker>\n              </v-menu>\n\n            </v-flex>\n\n            <v-flex pa-3 xs2 v-if=\"!info.day_to_open[0].every_time\">\n\n              <v-menu ref=\"menu1\" v-model=\"menu2\" :close-on-content-click=\"false\" :nudge-right=\"40\"\n                :return-value.sync=\"totime\" transition=\"scale-transition\" offset-y max-width=\"290px\" min-width=\"290px\">\n                <template v-slot:activator=\"{ on }\">\n                  <v-text-field v-model=\"totime\" placeholder=\" الى الساعة \" solo=\"\" background-color=\"#eeeeee\"\n                    height=\"40\" required dense=\"\" readonly :allowed-hours=\"allowedHours\" v-on=\"on\"></v-text-field>\n                </template>\n                <v-time-picker v-if=\"menu2\" v-model=\"totime\" full-width @click:minute=\"$refs.menu1.save(totime)\">\n                </v-time-picker>\n              </v-menu>\n\n            </v-flex>\n            <v-flex xs2 pa-3>\n              <v-select solo=\"\" background-color=\"#eeeeee\" dense=\"\" height=\"40\" :items=\"reve_type1\"\n                placeholder=\" نوع الحجز\" item-value=\"id\" item-text=\"duration\" @change=\"select_reser_type1\"></v-select>\n            </v-flex>\n\n\n            <v-flex xs2 pa-3>\n\n\n\n\n\n              <v-menu v-if=\"reserv_type_id1==1\" ref=\"menu4\" v-model=\"menu3\" :close-on-content-click=\"false\"\n                :nudge-right=\"40\" :return-value.sync=\"reservation_duration_foroneday\" transition=\"scale-transition\"\n                offset-y max-width=\"290px\" min-width=\"290px\">\n                <template v-slot:activator=\"{ on }\">\n\n                  <v-text-field v-model=\"reservation_duration_foroneday\" placeholder=\" مدة الحجز  \" solo=\"\" dense=\"\"\n                    background-color=\"#eeeeee\" height=\"40\" required readonly v-on=\"on\"></v-text-field>\n                </template>\n                <v-time-picker v-if=\"menu3\" v-model=\"reservation_duration_foroneday\" full-width\n                  @click:minute=\"$refs.menu4.save(reservation_duration_foroneday)\"></v-time-picker>\n              </v-menu>\n\n\n\n\n              <v-text-field v-if=\"reserv_type_id1==2\" solo=\"\" background-color=\"#eeeeee\" height=\"40\" dense=\"\"\n                placeholder=\"   عدد الحجز   \" :rules=\"numberRul\" v-model=\"request\"></v-text-field>\n            </v-flex>\n\n\n\n            <v-flex pa-3 mt-5 xs2>\n              <v-btn color=\"success\" @click=\"addday\">اضافة</v-btn>\n            </v-flex>\n          </v-layout>\n        </v-form>\n        <v-row>\n          <v-flex xs5 pa-3 v-for=\"(item,index)  in day_to_open \" :key=\"item\">\n            <v-card outlined=\"\" class=\"mb-6\">\n              <v-row>\n\n                <v-card-title pl-5 pr-5>\n                  <v-btn color=\"primary\" v-if=\"item.every_day==0\" @click=\"updatetime(item,index)\">\n                    <v-icon right size=\"20\">fas fa-edit</v-icon>\n\n                    {{days[item.from_day]}}\n                  </v-btn>\n\n\n                  <v-btn color=\"primary\" v-else @click=\"day_to_open=[]\">\n                    <v-icon right size=\"20\">fas fa-times-circle</v-icon>\n                    كل الايام\n                  </v-btn>\n\n\n\n                </v-card-title>\n                <v-divider vertical=\"\"></v-divider>\n                <v-row v-if=\"item.every_time!=1\">\n\n\n                  <v-card-title>\n                    {{item.from_time}}\n                  </v-card-title>\n                  <v-divider vertical=\"\"></v-divider>\n                  <v-card-title>\n                    الى\n                  </v-card-title>\n                  <v-divider vertical=\"\"></v-divider>\n                  <v-card-title>\n                    {{item.to_time}}\n                  </v-card-title>\n\n                </v-row>\n                <v-row v-else>\n\n\n\n                  <v-card-title>\n                    كل الاوقات\n                  </v-card-title>\n\n                </v-row>\n\n\n\n              </v-row>\n            </v-card>\n          </v-flex>\n          <v-flex xs4>\n\n          </v-flex>\n        </v-row>\n        <v-row justify=\"center\">\n\n          <v-alert dense outlined type=\"error\" v-show=\"msg_error\">\n            <span style=\"padding-right:10px\">{{msg_error_txt}} </span>\n\n          </v-alert>\n\n        </v-row>\n        <v-layout row wrap pa-2>\n          <v-textarea name=\"input-7-1\" placeholder=\"الوصف \" v-model=\"info.disc\" :rules=\"descriptRules\" required\n            outlined=\"\"></v-textarea>\n        </v-layout>\n\n        <v-row justify=\"center\">\n          <v-flex pa-5 xs3>\n            <!-- <v-text-field label=\"اختر صورة \" solo=\"\" @click='pickFile' append-icon='fas fa-image'></v-text-field> -->\n          </v-flex>\n          <v-flex pa-5>\n            <input type=\"file\" style=\"display: none\" ref=\"image\" accept=\"image/*\" @change=\"onFilePicked\">\n          </v-flex>\n\n        </v-row>\n\n        <v-row>\n          <v-chip style=\"display:none\">{{img_name}}</v-chip>\n        </v-row>\n        <v-layout row wrap>\n          <v-row justify=\"center\">\n            <v-flex xs2 v-for=\"(img ,index) in images\" :key=\"img\" pa-2>\n\n              <v-card height=\"150\" width=\"150\" class=\"card_img\">\n\n                \n                <v-img :src=\"img\" height=\"150\" width=\"150\" class=\"card_img\" v-if=\"img!=null\">\n                  <v-btn icon=\"\" @click=\"delete_img(info.images[index].id,index)\" v-if=\"info.images[index]!=null\">\n                    <v-icon color=\"white\">fas fa-window-close</v-icon>\n                  </v-btn>\n                  <v-btn icon=\"\" @click=\"images[index]=null;img_name=null\" v-else>\n                    <v-icon color=\"white\">fas fa-window-close</v-icon>\n                  </v-btn>\n\n                </v-img>\n\n                <v-btn icon v-else @click='pickFile(index)'>\n                  <v-icon style=\"margin:0px\" size=\"40\">fas fa-plus-square</v-icon>\n                </v-btn>\n\n                <!-- <v-container fluid=\"\"     style=\"width:100%;height:100%\" @>\n            \n           </v-container> -->\n\n              </v-card>\n\n\n            </v-flex>\n          </v-row>\n        </v-layout>\n\n\n\n        <v-card-actions>\n          <v-row>\n\n\n            <v-btn @click=\"submit\" color=\"success\" style=\"margin-left:10px\">\n              <span v-show=\"!loading\">حفظ</span>\n              <v-progress-circular indeterminate color=\"white\" v-show=\"loading\"></v-progress-circular>\n            </v-btn>\n            <v-btn @click=\"cancel\" color=\"red\" dark=\"\"> الغاء</v-btn>\n          </v-row>\n\n          <v-spacer></v-spacer>\n\n        </v-card-actions>\n\n      </v-container>\n    </v-card>\n  </v-form>\n\n</template>\n\n<script>\n  import GoogleMap from '../components/map'\n  import itemForm from '../components/item_form'\n\n  export default {\n    props: ['itemId'],\n    // props: {\n    //   'itemId': String,\n    //   'hidden': Boolean\n    // },\n    data: () => ({\n      info: {},\n      user_info: {},\n      token: '',\n      err_show: false,\n      menu1: false,\n      menu2: false,\n      menu3: false,\n      menu4: false,\n      map_dialog: false,\n      modal2: false,\n      book_dur_status: false,\n      book_num_status: false,\n      reve_type: [{\n        id: 0,\n        duration: 'غير محدود'\n      }, {\n        id: 1,\n        duration: 'اختيار فترة'\n      }, {\n        id: 2,\n        duration: 'اختيار عدد لليوم الواحد'\n      }],\n      reve_type1: [{\n        id: 0,\n        duration: 'غير محدود'\n      }, {\n        id: 1,\n        duration: 'اختيار فترة'\n      }, {\n        id: 2,\n        duration: 'اختيار عدد  '\n      }],\n      error: '',\n      msg_error_txt: 'هذا اليوم مكرر ',\n      urL: 'http://109.224.53.155',\n\n      items: [],\n\n\n      valid: false,\n      deduction: [\"2%\", \"5%\", \"10%\", \"12%\", \"50%\"],\n      days: [\"السبت\", \"الاحد\", \"الاثنين\", \"الثلاثاء\", \"الاربعاء\", \"الخميس\", \"الجمعة\", \"كل الايام\"],\n      times: [\"1:00 م\", \"2:00 م\", \"3:00 م\", \"4:00 م \", \"5:00 م\", \"6:00 م\", \"7:00 م \", \"8:00 م\", \"9:00 م\", \"10:00 م\",\n        \"11:00 م\", \"12:00 م\",\n        \"1:00 ص\", \"2:00 ص\", \"3:00 ص\", \"4:00 ص \", \"5:00 ص\", \"6:00 ص\", \"7:00 ص \", \"8:00 ص\", \"9:00 ص\", \"10:00 ص\",\n        \"11:00 ص\", \"12:00 ص\"\n      ],\n\n      img_cliced: -1,\n      day_to_open: [],\n\n      nameRules: [\n        v => !!v || 'هذا الحقل مطلوب  ',\n\n      ],\n      numberRul: [\n        v => !!v || 'هذا الحقل مطلوب  ',\n\n        v => !isNaN(v) || 'يجب ادخال رقم ',\n      ],\n      numberRul1: [\n\n        v => !isNaN(v) || 'يجب ادخال رقم ',\n      ],\n      descriptRules: [\n        v => !!v || 'هذا الحقل مطلوب  ',\n      ],\n      loading: false,\n      province: [],\n      imageName: '',\n      imageUrl: '',\n      imageFile: '',\n      images: [null, null, null, null],\n      name: '',\n      number: '',\n      description: '',\n\n      request: 0,\n      payment: false,\n      free_cancelation: false,\n      deductionvalue: 0,\n      everyday: false,\n      everytime: false,\n      fromday: '',\n      today: '',\n      fromtime: '',\n      totime: '',\n      current_page: 0,\n      last_page: 0,\n      subcategory: [],\n      sub_category_id: '',\n      category: [],\n      category_id: '',\n      addressDiscription: '',\n      prov_id: '',\n      msg_error: false,\n      reserv_type_id: -1,\n      reservation_duration: '',\n      reservation_duration_foroneday: '',\n      reserv_type_id1: -1,\n      valid_day: true,\n      img_name: '',\n      lat: 0,\n      lng: 0,\n      date_update: 0\n    }),\n\n\n\n    methods: {\n\n      getlocation(lat, lng) {\n        this.info.address.lat = lat;\n        this.info.address.long = lng\n\n        this.map_dialog = false;\n\n\n      },\n\n\n\n      delete_img(img_id, index) {\n\n\n        const Swal = require('sweetalert2');\n\n\n\n        Swal.fire({\n          title: \"هل انت متاكد من الحذف ؟\",\n\n          icon: \"warning\",\n          showCancelButton: true,\n          confirmButtonColor: '#3085d6',\n          cancelButtonColor: '#d33',\n          confirmButtonText: 'Yes, delete it!'\n\n        }).then((result) => {\n          if (result.value) {\n            this.img_cliced = index;\n\n            var url = this.urL + \"/delete_item_img/\" + img_id;\n            axios({\n              method: 'get',\n              url: url,\n              headers: {\n                token: this.token\n              }\n\n            }).then(response => {\n\n\n              this.info.images[index].image_path = null;\n              this.img_name = index;\n              this.images[index] = null;\n\n              Swal.fire(\n                'تم الحذف بنجاح',\n                '',\n                'success'\n              )\n\n            }).catch(error => {\n              this.$swal('خطاء', \"خطاء بالاتصال\", 'error')\n            }).finally(d => {\n\n              this.getitems();\n            });\n\n\n\n          }\n        })\n\n\n\n\n      },\n\n      cancel() {\n        this.$emit(\"changeStatus\", false);\n      },\n      getItemDetails() {\n\n        var url = this.urL + \"/getItemBy/\" + this.itemId;\n        axios.get(url).then(response => {\n          this.info = response.data.Data[0];\n          this.imgs = this.info.images;\n          this.address = response.data.Data[0].address.province.province_name;\n\n          for (var i = 0; i < 4; i++) {\n            this.images[i] = this.urL + \"/\" + this.info.images[i].image_path;\n\n          }\n\n          for (var a = 0; a < this.info.day_to_open.length; a++) {\n\n            this.day_to_open.push({\n\n              every_day: this.info.day_to_open[a].every_day,\n              every_time: this.info.day_to_open[a].every_time,\n              from_day: this.info.day_to_open[a].from_day,\n              from_time: this.info.day_to_open[a].from_time,\n              to_day: this.info.day_to_open[a].to_day,\n              to_time: this.info.day_to_open[a].to_time,\n              max_requests: this.info.day_to_open[a].max_requests\n            });\n\n          }\n          if (this.info.day_to_open.length < 1) {\n\n            this.info.day_to_open.push({\n              id: 0,\n\n              every_day: 0,\n              every_time: 0,\n              from_day: 0,\n              from_time: 0,\n              to_day: 0,\n              to_time: 0,\n              max_requests: 0\n            });\n          }\n\n          this.getSubCategory();\n\n        })\n      },\n      //         getDate_andTime(id){\n\n      //   var url = this.urL + \"/getDaysTime/\" +id;\n      //         axios.get(url).then(response => {\n\n\n\n      //           })},\n      change_timeday() {\n        this.day_to_open.length = 0;\n        this.deductionvalue = 0;\n      },\n      select_reser_type1(id) {\n\n        this.reserv_type_id1 = id;\n      },\n      select_reser_type(id) {\n\n        this.reserv_type_id = id;\n        if (id == 1) {\n          this.book_dur_status = true;\n          this.book_num_status = false;\n        } else if (id == 2) {\n          this.book_dur_status = false;\n          this.book_num_status = true;\n        } else {\n          this.book_dur_status = false;\n          this.book_num_status = false;\n        }\n      },\n\n      allowedHours(v) {\n\n        return false;\n      },\n\n      comput_maxRequest(id, time_duration, from_tim, to_tim) {\n\n        if (id == 0) {\n          return 0;\n        } else if (id == 1) {\n          // this.reservation_duration\n\n          var from_hour = parseInt(from_tim.split(\":\")[0])\n          var from_min = parseInt(from_tim.split(\":\")[1])\n\n\n          var to_hour = parseInt(to_tim.split(\":\")[0])\n          var to_min = parseInt(to_tim.split(\":\")[1])\n\n          var from = from_hour * 60 + from_min;\n\n\n          var to = to_hour * 60 + to_min;\n\n          var result = to - from;\n\n          var houer = parseInt(time_duration.split(\":\")[0]);\n          var minit = parseInt(time_duration.split(\":\")[1]);\n\n          var dur = houer * 60 + minit;\n\n          result = result / dur\n\n          return result\n\n        } else {\n          return 0\n        }\n\n\n\n\n      },\n      submit() {\n\n        var imag = [];\n\n        if (this.info.images.length < 1) {\n          for (var im = 0; im < this.images.length; im++) {\n\n            imag.push(this.images[im]);\n\n\n          }\n        } else {\n\n          for (var im = 0; im < this.images.length; im++) {\n            if (this.images[im] != null && this.images[im] != this.urL + \"/\" + this.info.images[im].image_path) {\n\n              imag.push(this.images[im]);\n            } else if (this.images[im] != null) {\n\n            }\n\n          }\n\n        }\n\n        if (this.info.day_to_open[0].every_day && this.info.day_to_open[0].every_time) {\n          this.day_to_open.length = 0\n          this.date_update = 1;\n          this.day_to_open.push({\n\n            every_day: 1,\n            every_time: 1,\n            from_day: 0,\n            from_time: \"00:00\",\n            to_day: 6,\n            to_time: \"24:00\",\n            max_requests: this.comput_maxRequest(this.reserv_type_id, this.reservation_duration, \"00:00\", \"24:00\")\n          });\n\n        }\n\n        if (this.day_to_open.length == 0) {\n          this.$swal('تحذير', \"    يجب اختيار جدول الحجز\", 'warning')\n        }\n\n        if (this.info.images.find(im => im === 'a')) {\n          this.$swal('تحذير', \" يجب اختيار 4 من الصور\", 'warning')\n        }\n\n\n        if (this.$refs.form.validate() && this.day_to_open.length > 0) {\n\n          var data = {\n\n            province_id: this.info.address.province.id,\n            country_id: this.info.address.province.country_id,\n            category_id: this.info.sub_category.category_id,\n            long: this.info.address.long,\n            lat: this.info.address.lat,\n            address_id: this.info.address.id,\n            name: this.info.name,\n            number: 0,\n            discraption: this.info.disc,\n            address_discraption: this.info.address.discraption,\n            max_requests: this.info.max_requests,\n\n            sub_category_id: this.info.sub_category.id,\n\n            owner_id: \"8\",\n\n            price: this.info.item_price.price,\n\n            book_without_credit_card: this.info.item_price.book_without_credit_card,\n\n            free_cancellation: this.info.item_price.free_cancellation,\n            deduction: this.info.item_price.deduction,\n\n            no_prepayment: \"1\",\n            cancellation_deduction_ratio: \"1\",\n            work_times: this.day_to_open,\n\n            type: \"png\",\n            images: imag.length != 0 ? imag : [\"a\", \"a\", \"a\", \"a\"],\n            time_open_id: this.info.day_to_open[0].id,\n            day_open_id: this.info.day_to_open[0].id,\n            item_price_id: this.info.item_price.id,\n            day_to_open_update: this.date_update\n          };\n          // this.description=JSON.stringify(data);\n\n          this.loading = true;\n          axios({\n              method: 'post',\n              url: this.urL + \"/updateItem/\" + this.itemId,\n              data: data,\n              headers: {\n                token: this.token\n              }\n\n            })\n            .then(response => {\n              this.$swal('تم', \"    تم تعديل الحجز\", 'success')\n\n              this.dialog = false;\n              this.current_page = 0;\n              this.getitems();\n              this.$refs.form.reset();\n\n              if (response.data.success == true) {\n                this.$refs.form.reset()\n                this.dialog = false;\n                this.current_page = 0;\n                this.getitems();\n              }\n              // \n\n\n\n            })\n            .catch(error => {\n              this.err_show = true;\n              this.$swal(error, \"     لم يتم اضافة الحجز\", 'error')\n\n            }).finally(d => {\n              this.loading = false;\n              this.everyday = false;\n              this.everytime = false;\n            });\n        } else {\n\n          this.err_show = true;\n\n\n\n\n        }\n\n\n\n\n      },\n      getCategory() {\n\n        var url = this.urL + \"/getInfo/Category\";\n        axios.get(url).then(response => {\n          this.category = response.data.Data;\n\n\n\n        })\n      },\n\n\n      getImageData(url) {\n\n        const image2base64 = require('image-to-base64');\n        image2base64(url) // you can also to use url\n          .then(\n            (response) => {\n              console.log(response); //cGF0aC90by9maWxlLmpwZw==\n            }\n          )\n          .catch(\n            (error) => {\n\n            }\n          )\n\n      },\n\n      getSubCategory() {\n\n        var url = this.urL + \"/getInfo/SubCategory/\" + this.info.sub_category.category_id;\n        axios.get(url).then(response => {\n          this.subcategory = response.data.Data;\n\n\n\n        })\n      },\n      getProvince() {\n\n        var url = this.urL + \"/getInfo/Province/1\";\n        axios.get(url).then(response => {\n          this.province = response.data.Data;\n\n\n\n        })\n      },\n\n\n      addday() {\n        if (this.$refs.form_day.validate()) {\n\n\n          this.msg_error = false;\n\n\n          let search = this.day_to_open.find((o, i) => {\n            if (o.from_day == this.days.indexOf(this.fromday)) {\n              return o;\n            }\n          });\n\n\n          if (search == undefined) {\n            if (this.everytime && !this.everyday) {\n              this.add_day_reversation();\n            } else if (this.everyday && !this.everytime) {\n              this.add_time_reversation();\n            } else {\n              this.add_dayTime_reversation();\n\n            }\n          } else {\n            this.$swal('تحذير', \"  لايمكن تكرار اليوم\", 'warning')\n\n            this.$refs.form_day.reset();\n          }\n\n        }\n\n      },\n      add_dayTime_reversation() {\n        this.date_update = 1;\n\n        this.day_to_open.push({\n          every_day: this.everyday,\n          every_time: this.everytime,\n          from_day: this.days.indexOf(this.fromday),\n          from_time: this.fromtime,\n          to_day: this.days.indexOf(this.fromday),\n          to_time: this.totime,\n          max_requests: this.comput_maxRequest(this.reserv_type_id1, this.reservation_duration_foroneday, this\n            .fromtime, this.totime)\n        });\n\n        this.$refs.form_day.reset();\n\n      },\n      add_day_reversation() {\n        this.date_update = 1;\n        this.day_to_open.push({\n          every_day: this.everyday,\n          every_time: this.everytime,\n          from_day: this.days.indexOf(this.fromday),\n          from_time: 0,\n          to_day: this.days.indexOf(this.fromday),\n          to_time: 23,\n          max_requests: this.comput_maxRequest(this.reserv_type_id1, this.reservation_duration_foroneday, \"00:00\",\n            \"23:00\")\n        });\n\n        this.$refs.form_day.reset();\n\n      },\n      add_time_reversation() {\n\n        if (this.day_to_open.length < 1) {\n          this.date_update = 1;\n          this.day_to_open.push({\n            every_day: this.everyday,\n            every_time: this.everytime,\n            from_day: 0,\n            from_time: this.fromtime,\n            to_day: 6,\n            to_time: this.totime,\n            max_requests: this.comput_maxRequest(this.reserv_type_id1, this.reservation_duration_foroneday, this\n              .fromtime, this.totime)\n          });\n\n          this.$refs.form_day.reset();\n        } else {\n          this.$swal('تحذير', \" لايمكن اضافة وقت اخر\", 'warning')\n        }\n\n\n      },\n      pickFile(index) {\n\n        this.img_cliced = index\n        this.$refs.image.click()\n      },\n\n      onFilePicked(e) {\n\n        const files = e.target.files\n        if (files[0] !== undefined) {\n          this.imageName = files[0].name\n          if (this.imageName.lastIndexOf('.') <= 0) {\n            return\n          }\n          const fr = new FileReader()\n          fr.readAsDataURL(files[0])\n          fr.addEventListener('load', () => {\n            this.imageUrl = fr.result\n            this.imageFile = files[0]\n            var imbase64 = fr.result;\n            this.images[this.img_cliced] = imbase64;\n            console.log(this.images)\n            this.img_name = this.imageName\n            //  this.info.images[this.img_cliced].image_path=fr.result\n\n\n\n          })\n\n        } else {\n          this.imageName = ''\n          this.imageFile = ''\n          this.imageUrl = ''\n        }\n      },\n\n      change_payment(status) {\n        if (status == true) {\n          this.free_cancelation = false;\n        }\n      },\n      updatetime(item, index) {\n\n        this.fromday = this.days[item.from_day];\n        this.fromtime = item.from_time;\n        this.totime = item.to_time;\n        this.day_to_open.splice(index, 1);\n      }\n    },\n\n\n\n    mounted() {\n      this.token = localStorage.getItem('access_token');\n      this.user_info = JSON.parse(localStorage.getItem('user_info'));\n\n\n      this.getCategory();\n      this.getProvince();\n      this.getItemDetails();\n    },\n    components: {\n      GoogleMap,\n      itemForm\n    }\n  }\n</script>"]}]}