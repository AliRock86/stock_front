{"remainingRequest":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/haideraltemimy/Documents/GitHub/ahjezly_front/src/components/sub_components/events.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front/src/components/sub_components/events.vue","mtime":1589791369198},{"path":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKCiAgICAgICAgICAgIHBhZ2U6IDEsCiAgICAgICAgICAgIGl0ZW1zOiBbXSwKICAgICAgICAgICAgdXBjb21pbmdFdmVudDogJycsCiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgdGhpcy5nZXRsYXN0KCk7CiAgICB9LAoKICAgIGZpbHRlcnM6IHsKICAgICAgICBTdWJJdGVtRGlzYzogZnVuY3Rpb24gKHN0cmluZykgewogICAgICAgICAgICBpZiAoc3RyaW5nICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmcuc3Vic3RyaW5nKDAsIDMwKSArICcgLi4uICc7CiAgICAgICAgICAgIH0KCiAgICAgICAgfSwKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgZ2V0bGFzdCgpIHsKICAgIAogICAgICAgICAgICB0aGlzLiRodHRwLmdldCgiL3YyL2l0ZW1zL3NlYXJjaD9maWx0ZXJbR2V0b2ZmZXJzXT0xJnNvcnQ9LWlkIikudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLml0ZW1zID0gcmVzcG9uc2UuZGF0YS5kYXRhOwoKICAgICAgICAgICAgfSkKICAgICAgICB9LAoKICAgICAgICBnZXRPZmZlckRheShzZWNvbmQpIHsKCiAgICAgICAgICAgIHZhciBzZWNvbmQyID0gdGhpcy5mb3JtYXREYXRlKHNlY29uZCk7CiAgICAgICAgICAgIHZhciBmaXJzdCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgIGZpcnN0ID0gdGhpcy5mb3JtYXREYXRlKGZpcnN0KTsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0ZWRpZmYodGhpcy5wYXJzZURhdGUoZmlyc3QpLCB0aGlzLnBhcnNlRGF0ZShzZWNvbmQyKSk7CgoKCiAgICAgICAgfSwKICAgICAgICBnZXRZZWFyKGRhdGUpIHsKICAgICAgICAgICAgdmFyIHllYXIgPSBkYXRlLnNwbGl0KCItIilbMF0KCiAgICAgICAgICAgIHJldHVybiB5ZWFyOwogICAgICAgIH0sCiAgICAgICAgZ2V0TW9udGgoZGF0ZSkgewogICAgICAgICAgICB2YXIgbW9udGggPSBkYXRlLnNwbGl0KCItIilbMV0KICAgICAgICAgICAgdmFyIG1vbnRocyA9IFsi2YrZhtin2YrYsSIsICLZgdio2LHYp9mK2LEiLCAi2YXYp9ix2LMiLCAi2KXYqNix2YrZhCIsICLZhdin2YrZiCIsICLZitmI2YbZitmIIiwKICAgICAgICAgICAgICAgICLZitmI2YTZitmIIiwgItij2LrYs9i32LMiLCAi2LPYqNiq2YXYqNixIiwgItij2YPYqtmI2KjYsSIsICLZhtmI2YHZhdio2LEiLCAi2K/Zitiz2YXYqNixIgogICAgICAgICAgICBdOwogICAgICAgICAgICByZXR1cm4gbW9udGhzW21vbnRoIC0gMV07CiAgICAgICAgfSwKICAgICAgICBnZXREYXkoZGF0ZSkgewoKICAgICAgICAgICAgdmFyIGRheSA9IGRhdGUuc3BsaXQoIi0iKVsyXS5zcGxpdCgiICIpWzBdCgogICAgICAgICAgICByZXR1cm4gZGF5OwogICAgICAgIH0sCgogICAgICAgIGZvcm1hdERhdGUoZGF0ZSkgewogICAgICAgICAgICB2YXIgZCA9IG5ldyBEYXRlKGRhdGUpLAogICAgICAgICAgICAgICAgbW9udGggPSAnJyArIChkLmdldE1vbnRoKCkgKyAxKSwKICAgICAgICAgICAgICAgIGRheSA9ICcnICsgZC5nZXREYXRlKCksCiAgICAgICAgICAgICAgICB5ZWFyID0gZC5nZXRGdWxsWWVhcigpOwoKICAgICAgICAgICAgaWYgKG1vbnRoLmxlbmd0aCA8IDIpCiAgICAgICAgICAgICAgICBtb250aCA9ICcwJyArIG1vbnRoOwogICAgICAgICAgICBpZiAoZGF5Lmxlbmd0aCA8IDIpCiAgICAgICAgICAgICAgICBkYXkgPSAnMCcgKyBkYXk7CgogICAgICAgICAgICByZXR1cm4gW21vbnRoLCBkYXksIHllYXJdLmpvaW4oJy8nKTsKICAgICAgICB9LAoKICAgICAgICBwYXJzZURhdGUoc3RyKSB7CiAgICAgICAgICAgIHZhciBtZHkgPSBzdHIuc3BsaXQoJy8nKTsKICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKG1keVsyXSwgbWR5WzBdIC0gMSwgbWR5WzFdKTsKICAgICAgICB9LAoKICAgICAgICBkYXRlZGlmZihmaXJzdCwgc2Vjb25kKSB7CiAgICAgICAgICAgIC8vIFRha2UgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgZGF0ZXMgYW5kIGRpdmlkZSBieSBtaWxsaXNlY29uZHMgcGVyIGRheS4KICAgICAgICAgICAgLy8gUm91bmQgdG8gbmVhcmVzdCB3aG9sZSBudW1iZXIgdG8gZGVhbCB3aXRoIERTVC4KICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoKHNlY29uZCAtIGZpcnN0KSAvICgxMDAwICogNjAgKiA2MCAqIDI0KSk7CgoKICAgICAgICB9LAoKICAgIH0KCn0K"},{"version":3,"sources":["events.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA","file":"events.vue","sourceRoot":"src/components/sub_components","sourcesContent":["<template>\n    <v-container style=\"background:white;\">\n\n        <v-layout row wrap>\n            <div style=\"background:#ff6600;width:5px;height:30px;\"></div>\n            <span style=\"font-size:22px;margin-right:10px;color:gary;font-weight: 700;\"> العروض المضافة مؤخرا </span>\n        </v-layout>\n        <br>\n\n\n        <v-layout row wrap>\n            <v-flex xs12 md10 sm10 class=\"up_event_text\">\n                <span>{{upcomingEvent}}\n                    <br>\n                    {{upcomingEvent}}\n                </span>\n            </v-flex>\n\n            <v-spacer></v-spacer>\n            <v-spacer></v-spacer>\n            <v-flex xs12 md2 sm2>\n                <v-btn class=\"up_event_btn\" to=\"/offers\"> عرض كل العروض </v-btn>\n            </v-flex>\n        </v-layout>\n\n        <br><br>\n        <v-layout row wrap>\n\n\n            <v-flex xs12 md4 sm4 xl3 v-for=\"item in items\" :key=\"item.id\" pa-3>\n                <router-link :to=\"{ name: 'item', params: { id: item.id } }\">\n\n                    <v-card class=\"up_event_card\" v-bind:style=\"{ 'background-image':'url(http://127.0.0.1:9999/images/'+item.images[0].image_url}\">\n\n                        <v-layout column wrap style=\"height:100%\">\n                            <v-row>\n                                <div class=\"up_event_card_date\">\n                                    <span>خصم {{item.offer[0].discount_percentage}} ٪ </span><br>\n                                    <span>متبقي</span> <br>\n                                    <span class=\"year\">{{getOfferDay(item.offer[0].offer_to_date)}}</span> <br>\n                                    <span>يوم</span>\n                                </div>\n                            </v-row>\n                            <v-spacer></v-spacer>\n                            <v-container fluid class=\"up_event_card_bottom_layout\">\n\n                                <div style=\"d-flex space-between\">\n\n                                    <div class=\"d-inline\">\n                                        <span class=\"up_event_card_text1\"> {{item.item_name}}</span>\n                                    </div>\n\n                                    <div class=\"d-inline float-left\">\n\n\n                                        <v-btn class=\"booking-btn\" :to=\"'/item/'+item.id\">\n                                            <v-icon right=\"\">fas fa-bookmark</v-icon>\n                                            طلب الحجز\n                                        </v-btn>\n\n                                    </div>\n\n                                    <div class=\"d-block\">\n\n                                        <!-- <v-rating color=\"#f29c2b\" size=\"20\" background-color=\"#fff\" v-if=\"item.item_evaluation!=null\"\n                          v-model=\"item.item_evaluation\" class=\"mb_resposiv_hidden\" dense=\"\">\n                          </v-rating> -->\n                                        <span class=\"up_event_card_text2\"> <i class=\"fas fa-map-marker-alt\"></i>\n                                            {{item.Address.province.province_name}} </span>\n                                    </div>\n\n                                    <!-- <br>  \n\n                                    <span class=\"up_event_card_text2\">  <i class=\"fas fa-map-marker-alt\"></i>  {{item.address.province.province_name}} -  {{item.address.discraption|SubItemDisc}} </span> -->\n\n                                    <!-- <span class=\"up_event_card_text2\">  {{item.disc|SubItemDisc}} </span> -->\n\n\n                                </div>\n\n\n                            </v-container>\n\n                        </v-layout>\n\n                    </v-card>\n\n                </router-link>\n            </v-flex>\n        </v-layout>\n\n\n\n\n    </v-container>\n\n</template>\n<script>\n    export default {\n        data() {\n            return {\n\n                page: 1,\n                items: [],\n                upcomingEvent: '',\n            }\n        },\n        mounted() {\n            this.getlast();\n        },\n\n        filters: {\n            SubItemDisc: function (string) {\n                if (string != null) {\n                    return string.substring(0, 30) + ' ... ';\n                }\n\n            },\n        },\n        methods: {\n            getlast() {\n        \n                this.$http.get(\"/v2/items/search?filter[Getoffers]=1&sort=-id\").then(response => {\n                    this.items = response.data.data;\n\n                })\n            },\n\n            getOfferDay(second) {\n\n                var second2 = this.formatDate(second);\n                var first = new Date();\n                first = this.formatDate(first);\n                return this.datediff(this.parseDate(first), this.parseDate(second2));\n\n\n\n            },\n            getYear(date) {\n                var year = date.split(\"-\")[0]\n\n                return year;\n            },\n            getMonth(date) {\n                var month = date.split(\"-\")[1]\n                var months = [\"يناير\", \"فبراير\", \"مارس\", \"إبريل\", \"مايو\", \"يونيو\",\n                    \"يوليو\", \"أغسطس\", \"سبتمبر\", \"أكتوبر\", \"نوفمبر\", \"ديسمبر\"\n                ];\n                return months[month - 1];\n            },\n            getDay(date) {\n\n                var day = date.split(\"-\")[2].split(\" \")[0]\n\n                return day;\n            },\n\n            formatDate(date) {\n                var d = new Date(date),\n                    month = '' + (d.getMonth() + 1),\n                    day = '' + d.getDate(),\n                    year = d.getFullYear();\n\n                if (month.length < 2)\n                    month = '0' + month;\n                if (day.length < 2)\n                    day = '0' + day;\n\n                return [month, day, year].join('/');\n            },\n\n            parseDate(str) {\n                var mdy = str.split('/');\n                return new Date(mdy[2], mdy[0] - 1, mdy[1]);\n            },\n\n            datediff(first, second) {\n                // Take the difference between the dates and divide by milliseconds per day.\n                // Round to nearest whole number to deal with DST.\n                return Math.round((second - first) / (1000 * 60 * 60 * 24));\n\n\n            },\n\n        }\n\n    }\n</script>"]}]}