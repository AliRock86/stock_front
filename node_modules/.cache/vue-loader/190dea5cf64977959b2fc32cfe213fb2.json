{"remainingRequest":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/src/components/Owner/components/item_dialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/src/components/Owner/components/item_dialog.vue","mtime":1587655223796},{"path":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/haideraltemimy/Documents/GitHub/ahjezly_front_old/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgICBFdmVudEJ1cwp9IGZyb20gJy4vZXZlbnQtYnVzLmpzJzsKaW1wb3J0IEdvb2dsZU1hcCBmcm9tICcuLi9jb21wb25lbnRzL21hcCcKaW1wb3J0IGl0ZW1Gb3JteCBmcm9tICcuLi9jb21wb25lbnRzL2l0ZW1fZm9ybScKaW1wb3J0IGl0ZW1EaWFsb2cgZnJvbSAnLi9pdGVtX2RpYWxvZy52dWUnCgpleHBvcnQgZGVmYXVsdCB7CgogICAgcHJvcHM6IHsKICAgICAgICAnaXRlbV9JRCc6IE51bWJlciwKICAgICAgICAnaGlkZGVuJzogQm9vbGVhbgogICAgfSwKCiAgICBkYXRhOiAoKSA9PiAoewogICAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgICAgaXRlbV9pZDogJycsCiAgICAgICAgZXJyb3JzX2FkZHJlc3M6IFtdLAogICAgICAgIGVycm9yc19hZGRyZXNzOiBbXSwKICAgICAgICBlcnJvcnNfcGF5bWVudDogW10sCiAgICAgICAgZXJyb3JzX2RhdGU6IFtdLAogICAgICAgIGRheV90b19vcGVuOltdLAogICAgICAgIGVyX2FkZHJlc3M6dHJ1ZSwKICAgICAgICBlcl9wYXltZW50OiB0cnVlLAogICAgICAgIGVyX2RhdGU6dHJ1ZSwKICAgICAgICBlcjE6IHRydWUsCiAgICAgICAgZTE6IDEsCiAgICAgICAgc3dpdGNoMjogZmFsc2UsCiAgICAgICAgcmFkaW9zOiAncmFkaW8tMScsCiAgICAgICAgc3VibWl0X25hbWU6ICcnLAogICAgICAgIGVycm9yc19wcmltZXJ5OiBbXSwKICAgICAgICBpdGVtX25ld19wcmljZTogJycsCiAgICAgICAgbWVudV9kYXRlX2Zyb206IGZhbHNlLAogICAgICAgIG1lbnVfZGF0ZV90bzogZmFsc2UsCiAgICAgICAgZWRpdGRhaWxvZzogZmFsc2UsCiAgICAgICAgdXNlcl9pbmZvOiB7fSwKICAgICAgICB0b2tlbjogJycsCiAgICAgICAgZXJyX3Nob3c6IGZhbHNlLAogICAgICAgIG1lbnUxOiBmYWxzZSwKICAgICAgICBtZW51MjogZmFsc2UsCiAgICAgICAgbWVudTM6IGZhbHNlLAogICAgICAgIG1lbnU0OiBmYWxzZSwKICAgICAgICBtYXBfZGlhbG9nOiBmYWxzZSwKICAgICAgICBtb2RhbDI6IGZhbHNlLAogICAgICAgIGJvb2tfZHVyX3N0YXR1czogZmFsc2UsCiAgICAgICAgYm9va19udW1fc3RhdHVzOiBmYWxzZSwKICAgICAgICBvZmZlcl9pbmZvOiB7CgoKICAgICAgICB9CgogICAgICAgICwKICAgICAgICByZXZlX3R5cGU6IFt7CiAgICAgICAgICAgIGlkOiAwLAogICAgICAgICAgICBkdXJhdGlvbjogJ9i62YrYsSDZhdit2K/ZiNivJwogICAgICAgIH0sIHsKICAgICAgICAgICAgaWQ6IDEsCiAgICAgICAgICAgIGR1cmF0aW9uOiAn2KfYrtiq2YrYp9ixINmB2KrYsdipJwogICAgICAgIH0sIHsKICAgICAgICAgICAgaWQ6IDIsCiAgICAgICAgICAgIGR1cmF0aW9uOiAn2KfYrtiq2YrYp9ixINi52K/YryDZhNmE2YrZiNmFINin2YTZiNin2K3YrycKICAgICAgICB9XSwKICAgICAgICByZXZlX3R5cGUxOiBbewogICAgICAgICAgICBpZDogMCwKICAgICAgICAgICAgZHVyYXRpb246ICfYutmK2LEg2YXYrdiv2YjYrycKICAgICAgICB9LCB7CiAgICAgICAgICAgIGlkOiAxLAogICAgICAgICAgICBkdXJhdGlvbjogJ9in2K7YqtmK2KfYsSDZgdiq2LHYqScKICAgICAgICB9LCB7CiAgICAgICAgICAgIGlkOiAyLAogICAgICAgICAgICBkdXJhdGlvbjogJ9in2K7YqtmK2KfYsSDYudiv2K8gICcKICAgICAgICB9XSwKICAgICAgICBlcnJvcjogJycsCiAgICAgICAgbXNnX2Vycm9yX3R4dDogJ9mH2LDYpyDYp9mE2YrZiNmFINmF2YPYsdixICcsCiAgICAgICAgdXJMOiAnaHR0cDovLzEwOS4yMjQuNTMuMTU1JywKCiAgICAgICAgcGFnZTogMSwKICAgICAgICBwYWdlQ291bnQ6IDAsCiAgICAgICAgaXRlbXM6IFtdLAogICAgICAgIGVkaXRlZEluZGV4OiAtMSwKCiAgICAgICAgZWRpdGVkSXRlbTogewogICAgICAgICAgICBzdWJfY2F0ZWdvcnk6IHsKICAgICAgICAgICAgICAgIGNhdGVnb3J5X2lkOiAwLAogICAgICAgICAgICAgICAgaWQ6IDAsCiAgICAgICAgICAgICAgICBuYW1lOiAiIiwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYWRkcmVzczogewogICAgICAgICAgICAgICAgcHJvdmluY2VfaWQ6ICcnLAogICAgICAgICAgICAgICAgY291bnRyeV9pZDogJycsCiAgICAgICAgICAgICAgICBkaXNjcmFwdGlvbjogJycsCiAgICAgICAgICAgICAgICBsb25nOiAnJywKICAgICAgICAgICAgICAgIGxhdDogJycKCiAgICAgICAgICAgIH0sCgogICAgICAgICAgICBpdGVtX3ByaWNlOiB7CiAgICAgICAgICAgICAgICBpZDogJycsCiAgICAgICAgICAgICAgICBwcmljZTogJycsCiAgICAgICAgICAgICAgICBwYXltZW50OiAnJywKICAgICAgICAgICAgICAgIGRlZHVjdGlvbjogMCwKICAgICAgICAgICAgICAgIGJvb2tfd2l0aG91dF9jcmVkaXRfY2FyZDogJycsCiAgICAgICAgICAgICAgICBmcmVlX2NhbmNlbGF0aW9uOiAnJywKICAgICAgICAgICAgICAgIG5vX3ByZXBheW1lbnQ6ICcnLAogICAgICAgICAgICAgICAgc3RhdHVzOiAnJywKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaW1hZ2VzOiBbewogICAgICAgICAgICAgICAgICAgIGltYWdlX3BhdGg6ICdhJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpbWFnZV9wYXRoOiAnYScKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaW1hZ2VfcGF0aDogJ2EnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGltYWdlX3BhdGg6ICdhJwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBdLAogICAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgICAgY2Fsb3JpZXM6IDAsCiAgICAgICAgICAgIGZhdDogMCwKICAgICAgICAgICAgY2FyYnM6IDAsCiAgICAgICAgICAgIGRpc2M6ICcnLAogICAgICAgICAgICBwcm90ZWluOiAwLAogICAgICAgIH0sCiAgICAgICAgdmFsaWQ6IGZhbHNlLAogICAgICAgIGRlZHVjdGlvbjogJycsCiAgICAgICAgZGF5czogWyLYp9mE2LPYqNiqIiwgItin2YTYp9it2K8iLCAi2KfZhNin2KvZhtmK2YYiLCAi2KfZhNir2YTYp9ir2KfYoSIsICLYp9mE2KfYsdio2LnYp9ihIiwgItin2YTYrtmF2YrYsyIsICLYp9mE2KzZhdi52KkiLCAi2YPZhCDYp9mE2KfZitin2YUiXSwKICAgICAgICB0aW1lczogWyIxOjAwINmFIiwgIjI6MDAg2YUiLCAiMzowMCDZhSIsICI0OjAwINmFICIsICI1OjAwINmFIiwgIjY6MDAg2YUiLCAiNzowMCDZhSAiLCAiODowMCDZhSIsICI5OjAwINmFIiwKICAgICAgICAgICAgIjEwOjAwINmFIiwKICAgICAgICAgICAgIjExOjAwINmFIiwgIjEyOjAwINmFIiwKICAgICAgICAgICAgIjE6MDAg2LUiLCAiMjowMCDYtSIsICIzOjAwINi1IiwgIjQ6MDAg2LUgIiwgIjU6MDAg2LUiLCAiNjowMCDYtSIsICI3OjAwINi1ICIsICI4OjAwINi1IiwgIjk6MDAg2LUiLAogICAgICAgICAgICAiMTA6MDAg2LUiLAogICAgICAgICAgICAiMTE6MDAg2LUiLCAiMTI6MDAg2LUiCiAgICAgICAgXSwKCiAgICAgICAgaW1nX2NsaWNlZDogLTEsCiAgICAgICAgZGF5X3RvX29wZW46IFt7CgogICAgICAgICAgICBldmVyeV9kYXk6IDAsCiAgICAgICAgICAgIGV2ZXJ5X3RpbWU6IDAsCiAgICAgICAgICAgIGZyb21fZGF5OiAiIiwKICAgICAgICAgICAgZnJvbV90aW1lOiAiIiwKICAgICAgICAgICAgdG9fZGF5OiAiIiwKICAgICAgICAgICAgdG9fdGltZTogIiIsCiAgICAgICAgICAgIG1heF9yZXF1ZXN0czogMAogICAgICAgIH1dLAoKICAgICAgICBuYW1lUnVsZXM6IFsKICAgICAgICAgICAgdiA9PiAhIXYgfHwgJ9mH2LDYpyDYp9mE2K3ZgtmEINmF2LfZhNmI2KggICcsCgogICAgICAgIF0sCiAgICAgICAgbnVtYmVyUnVsOiBbCiAgICAgICAgICAgIHYgPT4gISF2IHx8ICfZh9iw2Kcg2KfZhNit2YLZhCDZhdi32YTZiNioICAnLAoKICAgICAgICAgICAgdiA9PiAhaXNOYU4odikgfHwgJ9mK2KzYqCDYp9iv2K7Yp9mEINix2YLZhSAnLAogICAgICAgIF0sCiAgICAgICAgbnVtYmVyUnVsMTogWwoKICAgICAgICAgICAgdiA9PiAhaXNOYU4odikgfHwgJ9mK2KzYqCDYp9iv2K7Yp9mEINix2YLZhSAnLAogICAgICAgIF0sCiAgICAgICAgZGVzY3JpcHRSdWxlczogWwogICAgICAgICAgICB2ID0+ICEhdiB8fCAn2YfYsNinINin2YTYrdmC2YQg2YXYt9mE2YjYqCAgJywKICAgICAgICAgICAgdiA9PiB2Lmxlbmd0aCA+PSAyMCB8fCAn2YrYrNioINin2YYg2YrZg9mI2YYg2KfZhNmI2LXZgSDYp9mD2KvYsSDZhdmGINmi2aAg2K3YsdmBICcsCiAgICAgICAgXSwKICAgICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgICBwcm92aW5jZTogW10sCiAgICAgICAgaW1hZ2VOYW1lOiAnJywKICAgICAgICBpbWFnZVVybDogJycsCiAgICAgICAgY291bnRyaWVzOiBbewogICAgICAgICAgICBuYW1lOiAn2KfZhNi52LHYp9mCJywKICAgICAgICAgICAgaWQ6IDEKICAgICAgICB9XSwKICAgICAgICBpbWFnZUZpbGU6ICcnLAogICAgICAgIGltYWdlczogWydhJywgJ2EnLCAnYScsICdhJ10sCgogICAgICAgIHBheW1lbnQ6IGZhbHNlLAoKICAgICAgICBmcmVlX2NhbmNlbGF0aW9uOiBmYWxzZSwKICAgICAgICBkZWR1Y3Rpb252YWx1ZTogMCwKICAgICAgICBldmVyeWRheTogZmFsc2UsCiAgICAgICAgZXZlcnl0aW1lOiBmYWxzZSwKICAgICAgICBmcm9tZGF5OiAnJywKICAgICAgICB0b2RheTogJycsCiAgICAgICAgZnJvbXRpbWU6ICcnLAogICAgICAgIHRvdGltZTogJycsCiAgICAgICAgY3VycmVudF9wYWdlOiAxLAogICAgICAgIGxhc3RfcGFnZTogMCwKICAgICAgICBvZmZlcl9kaWFsb2c6IGZhbHNlLAogICAgICAgIHN1YmNhdGVnb3J5OiBbXSwKICAgICAgICBzdWJfY2F0ZWdvcnlfaWQ6ICcnLAogICAgICAgIGNhdGVnb3J5OiBbXSwKICAgICAgICByZXNlcnZfdHlwZV9pZDE6IC0xLAogICAgICAgIHZhbGlkX2RheTogdHJ1ZSwKICAgICAgICBpbWdfbmFtZTogJycsCiAgICAgICAgbGF0OiAwLAogICAgICAgIGxuZzogMCwKCgogICAgfSksCgoKCiAgICBtZXRob2RzOiB7CiAgICAgICAgZ2V0SXRlbURldGFpbHMoKSB7CgoKICAgICAgICAgICAgdmFyIHVybCA9IHRoaXMudXJMICsgIi9nZXRJdGVtQnkvIiArIHRoaXMuaXRlbV9pZDsKICAgICAgICAgICAgYXhpb3MuZ2V0KHVybCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmVkaXRlZEl0ZW0gPSByZXNwb25zZS5kYXRhLkRhdGFbMF07CiAgICAgICAgICAgICAgICB0aGlzLmltZ3MgPSB0aGlzLmVkaXRlZEl0ZW0uaW1hZ2VzOwogICAgICAgICAgICAgICAgdGhpcy5hZGRyZXNzID0gcmVzcG9uc2UuZGF0YS5EYXRhWzBdLmFkZHJlc3MucHJvdmluY2UucHJvdmluY2VfbmFtZTsKCiAgICAgICAgICAgICAgICBpZiAodGhpcy5lZGl0ZWRJdGVtLmltYWdlcy5sZW5ndGggPCA0KSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXBsZXRJbWdBcnJheUxlbmd0aCA9IDQgLSB0aGlzLmVkaXRlZEl0ZW0uaW1hZ2VzLmxlbmd0aDsKCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21wbGV0SW1nQXJyYXlMZW5ndGg7IGkrKykgewoKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0ZWRJdGVtLmltYWdlcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlX3BhdGg6ICdhJwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMuZ2V0U3ViQ2F0ZWdvcnkoKTsKICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZWRpdGVkSXRlbS5pbWFnZXNbaV0uaW1hZ2VfcGF0aCAhPSAnYScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWFnZXNbaV0gPSB0aGlzLnVyTCArICIvIiArIHRoaXMuZWRpdGVkSXRlbS5pbWFnZXNbaV0uaW1hZ2VfcGF0aDsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMuZGF5X3RvX29wZW4gPSBbXTsKICAgICAgICAgICAgICAgIGZvciAodmFyIGEgPSAwOyBhIDwgdGhpcy5lZGl0ZWRJdGVtLmRheV90b19vcGVuLmxlbmd0aDsgYSsrKSB7CgogICAgICAgICAgICAgICAgICAgIHRoaXMuZGF5X3RvX29wZW4ucHVzaCh7CgogICAgICAgICAgICAgICAgICAgICAgICBldmVyeV9kYXk6IHRoaXMuZWRpdGVkSXRlbS5kYXlfdG9fb3BlblthXS5ldmVyeV9kYXksCiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZXJ5X3RpbWU6IHRoaXMuZWRpdGVkSXRlbS5kYXlfdG9fb3BlblthXS5ldmVyeV90aW1lLAogICAgICAgICAgICAgICAgICAgICAgICBmcm9tX2RheTogdGhpcy5lZGl0ZWRJdGVtLmRheV90b19vcGVuW2FdLmZyb21fZGF5LAogICAgICAgICAgICAgICAgICAgICAgICBmcm9tX3RpbWU6IHRoaXMuZWRpdGVkSXRlbS5kYXlfdG9fb3BlblthXS5mcm9tX3RpbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHRvX2RheTogdGhpcy5lZGl0ZWRJdGVtLmRheV90b19vcGVuW2FdLnRvX2RheSwKICAgICAgICAgICAgICAgICAgICAgICAgdG9fdGltZTogdGhpcy5lZGl0ZWRJdGVtLmRheV90b19vcGVuW2FdLnRvX3RpbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIG1heF9yZXF1ZXN0czogdGhpcy5lZGl0ZWRJdGVtLmRheV90b19vcGVuW2FdLm1heF9yZXF1ZXN0cwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh0aGlzLmVkaXRlZEl0ZW0uZGF5X3RvX29wZW4ubGVuZ3RoIDwgMSkgewoKICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRlZEl0ZW0uZGF5X3RvX29wZW4ucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAwLAoKICAgICAgICAgICAgICAgICAgICAgICAgZXZlcnlfZGF5OiAwLAogICAgICAgICAgICAgICAgICAgICAgICBldmVyeV90aW1lOiAwLAogICAgICAgICAgICAgICAgICAgICAgICBmcm9tX2RheTogMCwKICAgICAgICAgICAgICAgICAgICAgICAgZnJvbV90aW1lOiAwLAogICAgICAgICAgICAgICAgICAgICAgICB0b19kYXk6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgIHRvX3RpbWU6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgIG1heF9yZXF1ZXN0czogMAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5ldmVyeWRheSA9IHRoaXMuZGF5X3RvX29wZW5bMF0uZXZlcnlfZGF5OwogICAgICAgICAgICAgICAgdGhpcy5ldmVyeXRpbWUgPSB0aGlzLmRheV90b19vcGVuWzBdLmV2ZXJ5X3RpbWU7CgoKCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKCgogICAgICAgIGRlbGV0ZV9pbWcoaW1nX2lkLCBpbmRleCkgewoKCiAgICAgICAgICAgIGNvbnN0IFN3YWwgPSByZXF1aXJlKCdzd2VldGFsZXJ0MicpOwoKCgogICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgdGl0bGU6ICLZh9mEINin2YbYqiDZhdiq2KfZg9ivINmF2YYg2KfZhNit2LDZgSDYnyIsCgogICAgICAgICAgICAgICAgaWNvbjogIndhcm5pbmciLAogICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogJyMzMDg1ZDYnLAogICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICcjZDMzJywKICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnWWVzLCBkZWxldGUgaXQhJwoKICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWdfY2xpY2VkID0gaW5kZXg7CgogICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSB0aGlzLnVyTCArICIvZGVsZXRlX2l0ZW1faW1nLyIgKyBpbWdfaWQ7CiAgICAgICAgICAgICAgICAgICAgYXhpb3MoewogICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdnZXQnLAogICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCwKICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IHRoaXMudG9rZW4KICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsKCgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRlZEl0ZW0uaW1hZ2VzW2luZGV4XS5pbWFnZV9wYXRoID0gJ2EnOwogICAgICAgICAgICAgICAgICAgICAgICAvL25vdCBpbXBvcnRhbnQKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWdfbmFtZSA9IGluZGV4OwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmltYWdlc1tpbmRleF0gPSAnYSc7CgogICAgICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAn2KrZhSDYp9mE2K3YsNmBINio2YbYrNin2K0nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3VjY2VzcycKICAgICAgICAgICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwoJ9iu2LfYp9ihJywgItiu2LfYp9ihINio2KfZhNin2KrYtdin2YQiLCAnZXJyb3InKQogICAgICAgICAgICAgICAgICAgIH0pLmZpbmFsbHkoZCA9PiB7CgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldGl0ZW1zKCk7CiAgICAgICAgICAgICAgICAgICAgfSk7CgoKCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCgoKCgogICAgICAgIH0sCgoKICAgICAgICBjYW5jZWwoKSB7CiAgICAgICAgICAgIHRoaXMuJHJlZnMuZm9ybS5yZXNldCgpLAogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgiY2hhbmdlU3RhdHVzIiwgZmFsc2UpOwogICAgICAgIH0sCgogICAgICAgIGVkaXR0KCkgewogICAgICAgICAgICAvLyBhbGVydCh0aGlzLml0ZW1faWQpOwogICAgICAgICAgICB0aGlzLiRlbWl0KCJlZGl0ZV9pdGVtIik7CgogICAgICAgIH0sCgogICAgICAgIHN0ZXAxKCkgewogICAgICAgICAgICB0aGlzLmUxID0gMTsKICAgICAgICAgICAgdGhpcy5DaGVja19QcmltZXJ5KCk7CgoKICAgICAgICB9LAoKICAgICAgICBzdGVwMigpIHsKCiAgICAgICAgICAgIHRoaXMuZTEgPSAyOwogICAgICAgICAgICB0aGlzLkNoZWNrX1ByaW1lcnkoKTsKICAgICAgICAgICAgLy8gdGhpcy5DaGVja19wYXltZW50KCk7CiAgICAgICAgICAgIC8vIHRoaXMuQ2hlY2tfYWRkcmVzcygpOwoKCiAgICAgICAgfSwKCiAgICAgICAgc3RlcDMoKSB7CiAgICAgICAgICAgIHRoaXMuZTEgPSAzOwogICAgICAgICAgICB0aGlzLkNoZWNrX1ByaW1lcnkoKTsKICAgICAgICAgICAgdGhpcy5DaGVja19hZGRyZXNzKCk7CiAgICAgICAgICAgIC8vIHRoaXMuQ2hlY2tfcGF5bWVudCgpOwoKCiAgICAgICAgfSwKICAgICAgICBzdGVwNCgpIHsKICAgICAgICAgICAgdGhpcy5lMSA9IDQ7CiAgICAgICAgICAgIHRoaXMuQ2hlY2tfUHJpbWVyeSgpOwogICAgICAgICAgICB0aGlzLkNoZWNrX2FkZHJlc3MoKTsKICAgICAgICAgICAgdGhpcy5DaGVja19kYXRlKCk7CiAgICAgICAgICAgIC8vIHRoaXMuQ2hlY2tfcGF5bWVudCgpOwoKCiAgICAgICAgfSwKICAgICAgICBzdGVwNSgpIHsKICAgICAgICAgICAgdGhpcy5lMSA9IDU7CiAgICAgICAgICAgIHRoaXMuQ2hlY2tfUHJpbWVyeSgpOwogICAgICAgICAgICB0aGlzLkNoZWNrX2FkZHJlc3MoKTsKICAgICAgICAgICAgdGhpcy5DaGVja19wYXltZW50KCk7CiAgICAgICAgICAgICB0aGlzLkNoZWNrX2RhdGUoKTsKCgogICAgICAgIH0sCgogICAgICAgCgogICAgICAgIENoZWNrX2RhdGUoKQogICAgICAgIHsKICAgICAgICAgICAgdGhpcy5lcnJvcnNfZGF0ZXMgPSBbXTsKICAgICAgICAgIAogICAgICAgICAgICBpZih0aGlzLmRheV90b19vcGVuLmxlbmd0aD09MCkKICAgICAgICAgICAgewogICAgICAgICAgICAgIAogICAgICAgICAgICB0aGlzLmVycm9yc19kYXRlLnB1c2goItmK2LHYrNimINiq2K3Yr9mK2K8g2KfZhNmI2YLYqiIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGhpcy5lcnJvcnNfZGF0ZT1bXQogICAgICAgICAgICB9CgogICAgICAgICAgIGlmICh0aGlzLmVycm9yc19kYXRlLmxlbmd0aCkgewogICAgICAgICAgICAgICAgdGhpcy5lcl9kYXRlID0gZmFsc2U7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmVyX2RhdGUgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCgogICAgICAgIENoZWNrX1ByaW1lcnkoKSB7CgoKCgogICAgICAgICAgICB0aGlzLmVycm9yc19wcmltZXJ5ID0gW107CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoIXRoaXMuZWRpdGVkSXRlbS5uYW1lIHx8ICF0aGlzLmVkaXRlZEl0ZW0uc3ViX2NhdGVnb3J5LmNhdGVnb3J5X2lkIHx8ICF0aGlzLmVkaXRlZEl0ZW0uc3ViX2NhdGVnb3J5CiAgICAgICAgICAgICAgICAuaWQgfHwgIXRoaXMuZWRpdGVkSXRlbS5kaXNjKSB7CgoKICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JzX3ByaW1lcnkucHVzaCgi2YrYsdis2KYg2YXZhNimINin2YTYrdmC2YjZhCIpOwogICAgICAgICAgICB9CgoKICAgICAgICAgICAgaWYgKHRoaXMuZXJyb3JzX3ByaW1lcnkubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICB0aGlzLmVyMSA9IGZhbHNlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5lcjEgPSB0cnVlOwogICAgICAgICAgICB9CgoKICAgICAgICB9LAoKCgogICAgICAgIENoZWNrX2FkZHJlc3MoKSB7CgogICAgICAgICAgICB0aGlzLmVycm9yc19hZGRyZXNzID0gW107CiAgICAgICAgICAgIGlmICghdGhpcy5lZGl0ZWRJdGVtLmFkZHJlc3MuY291bnRyeV9pZCB8fCAhdGhpcy5lZGl0ZWRJdGVtLmFkZHJlc3MucHJvdmluY2VfaWQgfHwgIXRoaXMuZWRpdGVkSXRlbQogICAgICAgICAgICAgICAgLmFkZHJlc3MubGF0IHx8ICF0aGlzLmVkaXRlZEl0ZW0uYWRkcmVzcy5sb25nIHx8ICF0aGlzLmVkaXRlZEl0ZW0uYWRkcmVzcy5kaXNjcmFwdGlvbikgewogICAgICAgICAgICAgICAgdGhpcy5lcnJvcnNfYWRkcmVzcy5wdXNoKCLZitix2KzYpiDZhdmE2KYg2KfZhNit2YLZiNmEIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHRoaXMuZXJyb3JzX2FkZHJlc3MubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICB0aGlzLmVyX2FkZHJlc3MgPSBmYWxzZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuZXJfYWRkcmVzcyA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKCiAgICAgICAgQ2hlY2tfcGF5bWVudCgpIHsKICAgICAgICAgICAgdGhpcy5lcnJvcnNfcGF5bWVudCA9IFtdOwogICAgICAgICAgICBpZiAoIXRoaXMuZWRpdGVkSXRlbS5pdGVtX3ByaWNlLnByaWNlKSB7CgogICAgICAgICAgICAgICAgdGhpcy5lcnJvcnNfcGF5bWVudC5wdXNoKCLZitix2KzYpiDZhdmE2KYg2KfZhNit2YLZiNmEIik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICh0aGlzLmVycm9yc19wYXltZW50Lmxlbmd0aCkgewogICAgICAgICAgICAgICAgdGhpcy5lcl9wYXltZW50ID0gZmFsc2U7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmVyX3BheW1lbnQgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCgoKCgogICAgICAgIGdldGxvY2F0aW9uKGxhdCwgbG5nKSB7CiAgICAgICAgICAgIHRoaXMuZWRpdGVkSXRlbS5hZGRyZXNzLmxhdCA9IGxhdDsKICAgICAgICAgICAgdGhpcy5lZGl0ZWRJdGVtLmFkZHJlc3MubG9uZyA9IGxuZwogICAgICAgICAgICB0aGlzLm1hcF9kaWFsb2cgPSBmYWxzZTsKCgogICAgICAgIH0sCiAgICAgICAgcHJpY2VfcGVyY2VudGFnZSh2KSB7CgogICAgICAgICAgICB0aGlzLm9mZmVyX2luZm8ubmV3X3ByaWNlID0gdGhpcy5vZmZlcl9pbmZvLm9sZF9wcmljZTsKICAgICAgICAgICAgdGhpcy5vZmZlcl9pbmZvLm5ld19wcmljZSA9IHRoaXMub2ZmZXJfaW5mby5vbGRfcHJpY2UgLSAodGhpcy5vZmZlcl9pbmZvLm9sZF9wcmljZSAqICh2IC8gMTAwKSk7CiAgICAgICAgICAgIHRoaXMub2ZmZXJfaW5mby5kaXNjb3VudF9wZXJjZW50YWdlID0gdjsKCgoKICAgICAgICB9LAoKCgoKCgoKICAgICAgICBjaGFuZ2VfdGltZWRheSgpIHsKICAgICAgICAgICAgdGhpcy5kYXlfdG9fb3Blbi5sZW5ndGggPSAwOwogICAgICAgIH0sCiAgICAgICAgc2VsZWN0X3Jlc2VyX3R5cGUxKGlkKSB7CgogICAgICAgICAgICB0aGlzLnJlc2Vydl90eXBlX2lkMSA9IGlkOwogICAgICAgIH0sCiAgICAgICAgc2VsZWN0X3Jlc2VyX3R5cGUoaWQpIHsKCiAgICAgICAgICAgIHRoaXMucmVzZXJ2X3R5cGVfaWQgPSBpZDsKICAgICAgICAgICAgaWYgKGlkID09IDEpIHsKICAgICAgICAgICAgICAgIHRoaXMuYm9va19kdXJfc3RhdHVzID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHRoaXMuYm9va19udW1fc3RhdHVzID0gZmFsc2U7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoaWQgPT0gMikgewogICAgICAgICAgICAgICAgdGhpcy5ib29rX2R1cl9zdGF0dXMgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHRoaXMuYm9va19udW1fc3RhdHVzID0gdHJ1ZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuYm9va19kdXJfc3RhdHVzID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLmJvb2tfbnVtX3N0YXR1cyA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgYWxsb3dlZEhvdXJzKHYpIHsKCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9LAoKICAgICAgICBjb21wdXRfbWF4UmVxdWVzdChpZCwgdGltZV9kdXJhdGlvbiwgZnJvbV90aW0sIHRvX3RpbSkgewoKICAgICAgICAgICAgaWYgKGlkID09IDApIHsKICAgICAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgICAgICB9IGVsc2UgaWYgKGlkID09IDEpIHsKICAgICAgICAgICAgICAgIC8vIHRoaXMucmVzZXJ2YXRpb25fZHVyYXRpb24KCiAgICAgICAgICAgICAgICB2YXIgZnJvbV9ob3VyID0gcGFyc2VJbnQoZnJvbV90aW0uc3BsaXQoIjoiKVswXSkKICAgICAgICAgICAgICAgIHZhciBmcm9tX21pbiA9IHBhcnNlSW50KGZyb21fdGltLnNwbGl0KCI6IilbMV0pCgoKICAgICAgICAgICAgICAgIHZhciB0b19ob3VyID0gcGFyc2VJbnQodG9fdGltLnNwbGl0KCI6IilbMF0pCiAgICAgICAgICAgICAgICB2YXIgdG9fbWluID0gcGFyc2VJbnQodG9fdGltLnNwbGl0KCI6IilbMV0pCgogICAgICAgICAgICAgICAgdmFyIGZyb20gPSBmcm9tX2hvdXIgKiA2MCArIGZyb21fbWluOwoKCiAgICAgICAgICAgICAgICB2YXIgdG8gPSB0b19ob3VyICogNjAgKyB0b19taW47CgogICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRvIC0gZnJvbTsKCiAgICAgICAgICAgICAgICB2YXIgaG91ZXIgPSBwYXJzZUludCh0aW1lX2R1cmF0aW9uLnNwbGl0KCI6IilbMF0pOwogICAgICAgICAgICAgICAgdmFyIG1pbml0ID0gcGFyc2VJbnQodGltZV9kdXJhdGlvbi5zcGxpdCgiOiIpWzFdKTsKCiAgICAgICAgICAgICAgICB2YXIgZHVyID0gaG91ZXIgKiA2MCArIG1pbml0OwoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdCAvIGR1cgoKICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQKCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gMAogICAgICAgICAgICB9CgoKCgogICAgICAgIH0sCiAgICAgICAgc3VibWl0KCkgewoKICAgICAgICAgICAgdmFyIGltYWcgPSBbXTsKICAgICAgICAgICAgZm9yICh2YXIgaW0gPSAwOyBpbSA8IHRoaXMuaW1hZ2VzLmxlbmd0aDsgaW0rKykgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuaW1hZ2VzW2ltXSAhPSAnYScgJiYgdGhpcy5pbWFnZXNbaW1dICE9IHRoaXMudXJMICsgIi8iICsgdGhpcy5lZGl0ZWRJdGVtLmltYWdlc1tpbV0KICAgICAgICAgICAgICAgICAgICAuaW1hZ2VfcGF0aCkgewoKICAgICAgICAgICAgICAgICAgICBpbWFnLnB1c2godGhpcy5pbWFnZXNbaW1dKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pbWFnZXNbaW1dICE9ICdhJykgewoKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghdGhpcy5lcjEpIHsKICAgICAgICAgICAgICAgIHRoaXMuc3RlcDEoKTsKICAgICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5lcl9hZGRyZXNzKSB7CiAgICAgICAgICAgICAgICB0aGlzLnN0ZXAyKCkKICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuZXJfZGF0ZSkgewogICAgICAgICAgICAgICAgdGhpcy5zdGVwMygpOwogICAgICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLmVyX3BheW1lbnQpIHsKICAgICAgICAgICAgICAgIHRoaXMuc3RlcDQoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHRoaXMuZWRpdGVkSXRlbS5pdGVtX3ByaWNlLmJvb2tfd2l0aG91dF9jcmVkaXRfY2FyZCkgewogICAgICAgICAgICAgICAgdGhpcy5lZGl0ZWRJdGVtLml0ZW1fcHJpY2UuYm9va193aXRob3V0X2NyZWRpdF9jYXJkID0gMTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuZWRpdGVkSXRlbS5pdGVtX3ByaWNlLmJvb2tfd2l0aG91dF9jcmVkaXRfY2FyZCA9IDA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICh0aGlzLmVkaXRlZEl0ZW0uaXRlbV9wcmljZS5mcmVlX2NhbmNlbGF0aW9uKSB7CiAgICAgICAgICAgICAgICB0aGlzLmVkaXRlZEl0ZW0uaXRlbV9wcmljZS5mcmVlX2NhbmNlbGF0aW9uID0gMTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuZWRpdGVkSXRlbS5pdGVtX3ByaWNlLmZyZWVfY2FuY2VsYXRpb24gPSAwOwogICAgICAgICAgICB9CgoKCiAgICAgICAgICAgIGlmICh0aGlzLmV2ZXJ5ZGF5ICYmIHRoaXMuZXZlcnl0aW1lKSB7CgogICAgICAgICAgICAgICAgdGhpcy5kYXlfdG9fb3Blbi5sZW5ndGggPSAwCiAgICAgICAgICAgICAgICB0aGlzLmRheV90b19vcGVuLnB1c2goewogICAgICAgICAgICAgICAgICAgIGV2ZXJ5X2RheTogdGhpcy5ldmVyeWRheSwKICAgICAgICAgICAgICAgICAgICBldmVyeV90aW1lOiB0aGlzLmV2ZXJ5dGltZSwKICAgICAgICAgICAgICAgICAgICBmcm9tX2RheTogMCwKICAgICAgICAgICAgICAgICAgICBmcm9tX3RpbWU6ICIwMDowMCIsCiAgICAgICAgICAgICAgICAgICAgdG9fZGF5OiA2LAogICAgICAgICAgICAgICAgICAgIHRvX3RpbWU6ICIyNDowMCIsCiAgICAgICAgICAgICAgICAgICAgbWF4X3JlcXVlc3RzOiB0aGlzLmNvbXB1dF9tYXhSZXF1ZXN0KHRoaXMucmVzZXJ2X3R5cGVfaWQsIHRoaXMucmVzZXJ2YXRpb25fZHVyYXRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICIwMDowMCIsICIyNDowMCIpCiAgICAgICAgICAgICAgICB9KTsKCgoKCgogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAodGhpcy5kYXlfdG9fb3Blbi5sZW5ndGggPT0gMCkgewogICAgICAgICAgICAgICAgdGhpcy4kc3dhbCgn2KrYrdiw2YrYsScsICIgICAg2YrYrNioINin2K7YqtmK2KfYsSDYrNiv2YjZhCDYp9mE2K3YrNiyIiwgJ3dhcm5pbmcnKQogICAgICAgICAgICB9CgoKCiAgICAgICAgICAgIGlmICh0aGlzLmltYWdlcy5maW5kKGltID0+IGltID09PSAnYScpKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRzd2FsKCfYqtit2LDZitixJywgIiDZitis2Kgg2KfYrtiq2YrYp9ixIDQg2YXZhiDYp9mE2LXZiNixIiwgJ3dhcm5pbmcnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKCiAgICAgICAgICAgIGlmICh0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSAmJiB0aGlzLmRheV90b19vcGVuLmxlbmd0aCA+IDApIHsKCgoKCiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHsKCgogICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuZWRpdGVkSXRlbS5uYW1lLAogICAgICAgICAgICAgICAgICAgIGRpc2NyYXB0aW9uOiB0aGlzLmVkaXRlZEl0ZW0uZGlzYywKICAgICAgICAgICAgICAgICAgICBzdWJfY2F0ZWdvcnlfaWQ6IHRoaXMuZWRpdGVkSXRlbS5zdWJfY2F0ZWdvcnkuaWQsCiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlfaWQ6IHRoaXMuZWRpdGVkSXRlbS5zdWJfY2F0ZWdvcnkuY2F0ZWdvcnlfaWQsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiAwLAogICAgICAgICAgICAgICAgICAgIC8vZm9yIGVkaXQgaXRlbQogICAgICAgICAgICAgICAgICAgIG93bmVyX2lkOiA4LAogICAgICAgICAgICAgICAgICAgIGFkZHJlc3NfaWQ6IDEsCiAgICAgICAgICAgICAgICAgICAgdGltZV9vcGVuX2lkOiB0aGlzLml0ZW1faWQgIT0gMCA/IHRoaXMuZWRpdGVkSXRlbS5kYXlfdG9fb3BlblswXS5pZCA6IDAsCiAgICAgICAgICAgICAgICAgICAgZGF5X29wZW5faWQ6IHRoaXMuaXRlbV9pZCAhPSAwID8gdGhpcy5lZGl0ZWRJdGVtLmRheV90b19vcGVuWzBdLmlkIDogMCwKICAgICAgICAgICAgICAgICAgICBpdGVtX3ByaWNlX2lkOiB0aGlzLml0ZW1faWQgIT0gMCA/IHRoaXMuZWRpdGVkSXRlbS5pdGVtX3ByaWNlLmlkIDogMCwKICAgICAgICAgICAgICAgICAgICAvL2VuZCBmb3IgZWRpdCBpdGVtCiAgICAgICAgICAgICAgICAgICAgcHJpY2U6IHRoaXMuZWRpdGVkSXRlbS5pdGVtX3ByaWNlLnByaWNlLAogICAgICAgICAgICAgICAgICAgIGJvb2tfd2l0aG91dF9jcmVkaXRfY2FyZDogdGhpcy5lZGl0ZWRJdGVtLml0ZW1fcHJpY2UuYm9va193aXRob3V0X2NyZWRpdF9jYXJkLAogICAgICAgICAgICAgICAgICAgIGRlZHVjdGlvbjogdGhpcy5lZGl0ZWRJdGVtLml0ZW1fcHJpY2UuZGVkdWN0aW9uLAogICAgICAgICAgICAgICAgICAgIGNhbmNlbGxhdGlvbl9kZWR1Y3Rpb25fcmF0aW86IDEsCiAgICAgICAgICAgICAgICAgICAgZnJlZV9jYW5jZWxsYXRpb246IHRoaXMuZWRpdGVkSXRlbS5pdGVtX3ByaWNlLmZyZWVfY2FuY2VsYXRpb24sCiAgICAgICAgICAgICAgICAgICAgbm9fcHJlcGF5bWVudDogMSwKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgIC8vQWRkcmVzcyBJbmZvcm1hdGlvbnMKICAgICAgICAgICAgICAgICAgICBwcm92aW5jZV9pZDogdGhpcy5lZGl0ZWRJdGVtLmFkZHJlc3MucHJvdmluY2VfaWQsCiAgICAgICAgICAgICAgICAgICAgY291bnRyeV9pZDogdGhpcy5lZGl0ZWRJdGVtLmFkZHJlc3MuY291bnRyeV9pZCwKICAgICAgICAgICAgICAgICAgICBhZGRyZXNzX2Rpc2NyYXB0aW9uOiB0aGlzLmVkaXRlZEl0ZW0uYWRkcmVzcy5kaXNjcmFwdGlvbiwKICAgICAgICAgICAgICAgICAgICBsb25nOiB0aGlzLmVkaXRlZEl0ZW0uYWRkcmVzcy5sb25nLAogICAgICAgICAgICAgICAgICAgIGxhdDogdGhpcy5lZGl0ZWRJdGVtLmFkZHJlc3MubGF0LAoKCiAgICAgICAgICAgICAgICAgICAgd29ya190aW1lczogdGhpcy5kYXlfdG9fb3BlbiwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAicG5nIiwKICAgICAgICAgICAgICAgICAgICBpbWFnZXM6IGltYWcKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgLy8gdGhpcy5kZXNjcmlwdGlvbj1KU09OLnN0cmluZ2lmeShkYXRhKTsKICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICB2YXIgcG9zdHVybCA9IHRoaXMuaXRlbV9pZCAhPSAwID8gdGhpcy51ckwgKyAiL3VwZGF0ZUl0ZW0vIiArIHRoaXMuaXRlbV9pZCA6IHRoaXMudXJMICsgIi9hZGRJdGVtIjsKICAgICAgICAgICAgICAgIGF4aW9zKHsKICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogcG9zdHVybCwKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IHRoaXMudG9rZW4KICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwoJ9iq2YUnLCB0aGlzLml0ZW1faWQgIT0gMCA/ICLYqtmFINiq2LnYr9mK2YQg2KfZhNit2KzYsiIgOiAiICAgINiq2YUg2KfYttin2YHYqSDYp9mE2K3YrNiyIiwgJ3N1Y2Nlc3MnKQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOwoKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MgPT0gdHJ1ZSkgewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2U7CgoKICAgICAgICAgICAgICAgICAgICAgICAgfQoKCgoKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJfc2hvdyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwoJ9iu2LfYp9ihJywgdGhpcy5pdGVtX2lkICE9IDAgPyAiICAgICDZgdi02YQgINin2LbYp9mB2Kkg2KfZhNit2KzYsiIgOiAi2YHYtNmEINiq2LnYr9mK2YQg2KfZhNit2KzYsiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZXJyb3InKQoKICAgICAgICAgICAgICAgICAgICB9KS5maW5hbGx5KGQgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVyeWRheSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZXJ5dGltZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewoKICAgICAgICAgICAgICAgIHRoaXMuZXJyX3Nob3cgPSB0cnVlOwoKCgoKICAgICAgICAgICAgfQoKCgoKICAgICAgICB9LAoKCgogICAgICAgIGdldENhdGVnb3J5KCkgewoKICAgICAgICAgICAgdmFyIHVybCA9IHRoaXMudXJMICsgIi9nZXRJbmZvL0NhdGVnb3J5IjsKICAgICAgICAgICAgYXhpb3MuZ2V0KHVybCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5ID0gcmVzcG9uc2UuZGF0YS5EYXRhOwoKCgogICAgICAgICAgICB9KQogICAgICAgIH0sCgoKICAgICAgICBnZXRDb3VudHJ5KCkgewoKICAgICAgICAgICAgdmFyIHVybCA9IHRoaXMudXJMICsgIi9nZXRJbmZvL0NvdW50cnkiOwogICAgICAgICAgICBheGlvcy5nZXQodXJsKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuY291bnRyaWVzID0gcmVzcG9uc2UuZGF0YS5EYXRhOwoKCgogICAgICAgICAgICB9KQogICAgICAgIH0sCgoKCiAgICAgICAgZ2V0U3ViQ2F0ZWdvcnkoKSB7CgogICAgICAgICAgICB2YXIgdXJsID0gdGhpcy51ckwgKyAiL2dldEluZm8vU3ViQ2F0ZWdvcnkvIiArIHRoaXMuZWRpdGVkSXRlbS5zdWJfY2F0ZWdvcnkuY2F0ZWdvcnlfaWQ7CiAgICAgICAgICAgIGF4aW9zLmdldCh1cmwpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgdGhpcy5zdWJjYXRlZ29yeSA9IHJlc3BvbnNlLmRhdGEuRGF0YTsKCgoKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGdldFByb3ZpbmNlKCkgewoKICAgICAgICAgICAgdmFyIHVybCA9IHRoaXMudXJMICsgIi9nZXRJbmZvL1Byb3ZpbmNlLzEiOwogICAgICAgICAgICBheGlvcy5nZXQodXJsKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgIHRoaXMucHJvdmluY2UgPSByZXNwb25zZS5kYXRhLkRhdGE7CgoKCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKCgogICAgICAgIGFkZGRheSgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuJHJlZnMuZm9ybV9kYXkudmFsaWRhdGUoKSkgewoKCiAgICAgICAgICAgICAgICB0aGlzLm1zZ19lcnJvciA9IGZhbHNlOwoKCiAgICAgICAgICAgICAgICBsZXQgc2VhcmNoID0gdGhpcy5kYXlfdG9fb3Blbi5maW5kKChvLCBpKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKG8uZnJvbV9kYXkgPT0gdGhpcy5kYXlzLmluZGV4T2YodGhpcy5mcm9tZGF5KSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCgogICAgICAgICAgICAgICAgaWYgKHNlYXJjaCA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ldmVyeXRpbWUgJiYgIXRoaXMuZXZlcnlkYXkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRfZGF5X3JldmVyc2F0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmV2ZXJ5ZGF5ICYmICF0aGlzLmV2ZXJ5dGltZSkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZF90aW1lX3JldmVyc2F0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRfZGF5VGltZV9yZXZlcnNhdGlvbigpOwoKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwoJ9iq2K3YsNmK2LEnLCAiICDZhNin2YrZhdmD2YYg2KrZg9ix2KfYsSDYp9mE2YrZiNmFIiwgJ3dhcm5pbmcnKQoKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmZvcm1fZGF5LnJlc2V0KCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICB9CgogICAgICAgIH0sCgoKICAgICAgICBhZGRfZGF5VGltZV9yZXZlcnNhdGlvbigpIHsKCgogICAgICAgICAgICB0aGlzLmRheV90b19vcGVuLnB1c2goewogICAgICAgICAgICAgICAgZXZlcnlfZGF5OiB0aGlzLmV2ZXJ5ZGF5LAogICAgICAgICAgICAgICAgZXZlcnlfdGltZTogdGhpcy5ldmVyeXRpbWUsCiAgICAgICAgICAgICAgICBmcm9tX2RheTogdGhpcy5kYXlzLmluZGV4T2YodGhpcy5mcm9tZGF5KSwKICAgICAgICAgICAgICAgIGZyb21fdGltZTogdGhpcy5mcm9tdGltZSwKICAgICAgICAgICAgICAgIHRvX2RheTogdGhpcy5kYXlzLmluZGV4T2YodGhpcy5mcm9tZGF5KSwKICAgICAgICAgICAgICAgIHRvX3RpbWU6IHRoaXMudG90aW1lLAogICAgICAgICAgICAgICAgbWF4X3JlcXVlc3RzOiB0aGlzLmNvbXB1dF9tYXhSZXF1ZXN0KHRoaXMucmVzZXJ2X3R5cGVfaWQxLCB0aGlzCiAgICAgICAgICAgICAgICAgICAgLnJlc2VydmF0aW9uX2R1cmF0aW9uX2Zvcm9uZWRheSwgdGhpcwogICAgICAgICAgICAgICAgICAgIC5mcm9tdGltZSwgdGhpcy50b3RpbWUpCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgdGhpcy4kcmVmcy5mb3JtX2RheS5yZXNldCgpOwoKICAgICAgICB9LAoKICAgICAgICBhZGRfZGF5X3JldmVyc2F0aW9uKCkgewogICAgICAgICAgICB0aGlzLmRheV90b19vcGVuLnB1c2goewogICAgICAgICAgICAgICAgZXZlcnlfZGF5OiB0aGlzLmV2ZXJ5ZGF5LAogICAgICAgICAgICAgICAgZXZlcnlfdGltZTogdGhpcy5ldmVyeXRpbWUsCiAgICAgICAgICAgICAgICBmcm9tX2RheTogdGhpcy5kYXlzLmluZGV4T2YodGhpcy5mcm9tZGF5KSwKICAgICAgICAgICAgICAgIGZyb21fdGltZTogMCwKICAgICAgICAgICAgICAgIHRvX2RheTogdGhpcy5kYXlzLmluZGV4T2YodGhpcy5mcm9tZGF5KSwKICAgICAgICAgICAgICAgIHRvX3RpbWU6IDIzLAogICAgICAgICAgICAgICAgbWF4X3JlcXVlc3RzOiB0aGlzLmNvbXB1dF9tYXhSZXF1ZXN0KHRoaXMucmVzZXJ2X3R5cGVfaWQxLCB0aGlzCiAgICAgICAgICAgICAgICAgICAgLnJlc2VydmF0aW9uX2R1cmF0aW9uX2Zvcm9uZWRheSwgIjAwOjAwIiwKICAgICAgICAgICAgICAgICAgICAiMjM6MDAiKQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHRoaXMuJHJlZnMuZm9ybV9kYXkucmVzZXQoKTsKCiAgICAgICAgfSwKCgogICAgICAgIGFkZF90aW1lX3JldmVyc2F0aW9uKCkgewoKICAgICAgICAgICAgaWYgKHRoaXMuZGF5X3RvX29wZW4ubGVuZ3RoIDwgMSkgewogICAgICAgICAgICAgICAgdGhpcy5kYXlfdG9fb3Blbi5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBldmVyeV9kYXk6IHRoaXMuZXZlcnlkYXksCiAgICAgICAgICAgICAgICAgICAgZXZlcnlfdGltZTogdGhpcy5ldmVyeXRpbWUsCiAgICAgICAgICAgICAgICAgICAgZnJvbV9kYXk6IDAsCiAgICAgICAgICAgICAgICAgICAgZnJvbV90aW1lOiB0aGlzLmZyb210aW1lLAogICAgICAgICAgICAgICAgICAgIHRvX2RheTogNiwKICAgICAgICAgICAgICAgICAgICB0b190aW1lOiB0aGlzLnRvdGltZSwKICAgICAgICAgICAgICAgICAgICBtYXhfcmVxdWVzdHM6IHRoaXMuY29tcHV0X21heFJlcXVlc3QodGhpcy5yZXNlcnZfdHlwZV9pZDEsIHRoaXMKICAgICAgICAgICAgICAgICAgICAgICAgLnJlc2VydmF0aW9uX2R1cmF0aW9uX2Zvcm9uZWRheSwgdGhpcwogICAgICAgICAgICAgICAgICAgICAgICAuZnJvbXRpbWUsIHRoaXMudG90aW1lKQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5mb3JtX2RheS5yZXNldCgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy4kc3dhbCgn2KrYrdiw2YrYsScsICIg2YTYp9mK2YXZg9mGINin2LbYp9mB2Kkg2YjZgtiqINin2K7YsSIsICd3YXJuaW5nJykKICAgICAgICAgICAgfQoKCiAgICAgICAgfSwKICAgICAgICBwaWNrRmlsZShpbmRleCkgewoKICAgICAgICAgICAgdGhpcy5pbWdfY2xpY2VkID0gaW5kZXgKICAgICAgICAgICAgdGhpcy4kcmVmcy5pbWFnZS5jbGljaygpCiAgICAgICAgfSwKCiAgICAgICAgb25GaWxlUGlja2VkKGUpIHsKCiAgICAgICAgICAgIGNvbnN0IGZpbGVzID0gZS50YXJnZXQuZmlsZXMKICAgICAgICAgICAgaWYgKGZpbGVzWzBdICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VOYW1lID0gZmlsZXNbMF0ubmFtZQogICAgICAgICAgICAgICAgaWYgKHRoaXMuaW1hZ2VOYW1lLmxhc3RJbmRleE9mKCcuJykgPD0gMCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY29uc3QgZnIgPSBuZXcgRmlsZVJlYWRlcigpCiAgICAgICAgICAgICAgICBmci5yZWFkQXNEYXRhVVJMKGZpbGVzWzBdKQogICAgICAgICAgICAgICAgZnIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmltYWdlVXJsID0gZnIucmVzdWx0CiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWFnZUZpbGUgPSBmaWxlc1swXQoKICAgICAgICAgICAgICAgICAgICB0aGlzLmltYWdlc1t0aGlzLmltZ19jbGljZWRdID0gZnIucmVzdWx0OwogICAgICAgICAgICAgICAgICAgIHZhciBhID0gdGhpcy5pbWdfY2xpY2VkICsgMTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmltZ19uYW1lID0gIiAgINi12YjYsdipINix2YLZhSAiICsgYQoKICAgICAgICAgICAgICAgIH0pCgogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5pbWFnZU5hbWUgPSAnJwogICAgICAgICAgICAgICAgdGhpcy5pbWFnZUZpbGUgPSAnJwogICAgICAgICAgICAgICAgdGhpcy5pbWFnZVVybCA9ICcnCiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBjaGFuZ2VfcGF5bWVudChzdGF0dXMpIHsKICAgICAgICAgICAgaWYgKHN0YXR1cyA9PSB0cnVlKSB7CiAgICAgICAgICAgICAgICB0aGlzLmVkaXRlZEl0ZW0uaXRlbV9wcmljZS5mcmVlX2NhbmNlbGF0aW9uID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLmVkaXRlZEl0ZW0uaXRlbV9wcmljZS5kZWR1Y3Rpb24gPSAwOwogICAgICAgICAgICB9CgogICAgICAgIH0sCgoKCgoKCiAgICAgICAgc2F2ZSgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuZWRpdGVkSW5kZXggPiAtMSkgewogICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmRlc3NlcnRzW3RoaXMuZWRpdGVkSW5kZXhdLCB0aGlzLmVkaXRlZEl0ZW0pCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmRlc3NlcnRzLnB1c2godGhpcy5lZGl0ZWRJdGVtKQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuY2xvc2UoKQogICAgICAgIH0sCgogICAgfSwKCiAgICB3YXRjaDogewogICAgICAgIHNlbGVjdGVkOiAnZGQnLAogICAgICAgIHN0ZXBzKHZhbCkgewoKICAgICAgICAgICAgaWYgKHRoaXMuZTEgPiB2YWwpIHsKICAgICAgICAgICAgICAgIHRoaXMuZTEgPSB2YWwKICAgICAgICAgICAgfQogICAgICAgIH0sCgoKCiAgICB9LAogICAgY29tcHV0ZWQ6IHsKCiAgICAgICAgc2VsZWN0ZWQoKSB7CgogICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50X3BhZ2UgIT0gdGhpcy5wYWdlKSB7CgogICAgICAgICAgICAgICAgdGhpcy5nZXRNb3JlaXRlbXMoKTsKCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAoKCgoKICAgIGNyZWF0ZWQoKSB7CgogICAgICAgIC8vdGhpcy5lZGl0dCgpOwogICAgICAgIC8vICBhbGVydCh0aGlzLml0ZW1faWQpOwogICAgICAgIC8vdGhpcy5nZXRJdGVtRGV0YWlscygpOwogICAgICAgIC8vICAgRXZlbnRCdXMuJG9uKCdlZGl0X2l0ZW0nLGl0ZW1faWQgPT4gewoKICAgICAgICAvLyAgICAgICBhbGVydCgneHh4eHh4eHgnKTsKICAgICAgICAvLyAgICAgICB0aGlzLmdldEl0ZW1EZXRhaWxzKGl0ZW1faWQpOwogICAgICAgIC8vICAgICAgICAgdGhpcy5nZXRDYXRlZ29yeSgpOwogICAgICAgIC8vICAgICAgICAgdGhpcy5nZXRDb3VudHJ5KCk7CiAgICAgICAgLy8gICAgICAgICB0aGlzLmdldFByb3ZpbmNlKCk7CgoKCiAgICAgICAgLy8gICB9KTsKCgoKCgoKCiAgICB9LAogICAgdXBkYXRlZCgpIHsKCiAgICAgICAgaWYgKHRoaXMuaXRlbV9JRCAhPSB0aGlzLml0ZW1faWQpIHsKICAgICAgICAgICAgdGhpcy5pdGVtX2lkID0gdGhpcy5pdGVtX0lEOwogICAgICAgICAgICB0aGlzLmdldEl0ZW1EZXRhaWxzKCk7CiAgICAgICAgfQoKICAgIH0sCiAgICBtb3VudGVkKCkgewoKICAgICAgICB0aGlzLnRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FjY2Vzc190b2tlbicpOwogICAgICAgIHRoaXMudXNlcl9pbmZvID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcl9pbmZvJykpOwoKICAgICAgICB0aGlzLml0ZW1faWQgPSB0aGlzLml0ZW1fSUQ7CgogICAgICAgIHRoaXMuZ2V0Q2F0ZWdvcnkoKTsKICAgICAgICB0aGlzLmdldFByb3ZpbmNlKCk7CiAgICAgICAgdGhpcy5pdGVtX2lkICE9IDAgPyB0aGlzLmdldEl0ZW1EZXRhaWxzKCkgOiB0aGlzLmRheV90b19vcGVuLmxlbmd0aCA9IDA7CiAgICB9LAogICAgY29tcG9uZW50czogewogICAgICAgIEdvb2dsZU1hcCwKICAgICAgICBpdGVtRGlhbG9nCgogICAgfQp9Cg=="},{"version":3,"sources":["item_dialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgpBA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;AAIA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;;;AAGA;;;AAGA;;;;AAIA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;;;;;AAKA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;AAIA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;;AAKA;;AAEA;AACA;;;AAGA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;;;AAIA;;;;;;;;AAQA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;;;AAGA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;;;AAKA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;;AAEA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;;AAGA;;;;;AAKA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;;AAEA;;;AAGA;;;;;AAKA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;AAKA;;;;;AAKA;;;;AAIA;;AAEA;AACA;AACA;;;;AAIA;AACA;;;AAGA;;AAEA;AACA;AACA;;;;AAIA;AACA;;;;AAIA;;AAEA;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;;;;AAIA;AACA;;;AAGA;AACA;;;AAGA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;;AAGA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;;;AAKA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;;;;;;;;AAQA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"item_dialog.vue","sourceRoot":"src/components/Owner/components","sourcesContent":["<template>\n\n\n    <v-form ref=\"form\" v-model=\"valid\">\n\n        <v-card height=\"700\">\n\n            <v-card-title class=\"headline grey lighten-2\" primary-title\n                style=\"\tfont-family: 'droid_bold' !important;    background-color: #435c6f!important;color:#fff\">\n                <span v-if=\"item_ID==0\">اضافة مركز</span>\n                <span v-else>تعديل مركز</span>\n                <v-spacer></v-spacer>\n                <v-btn icon dark @click=\"cancel()\">\n                    <v-icon>mdi-close</v-icon>\n                </v-btn>\n            </v-card-title>\n\n\n            <v-container style=\"padding:20px\">\n\n                <v-stepper v-model=\"e1\">\n                    <!--Star Steper Header-->\n                    <v-stepper-header>\n                        <!--   <v-stepper-step :rules=\"[() =>this.er1]\" :complete=\"e1 > 1\" step=\"1\" @click=\"step1()\">المعلومات     edit-icon=\"fas fa-money-check-alt\"-->\n                        <v-stepper-step :rules=\"[() =>this.er1]\" :complete=\"e1 > 1\" step=\"1\">المعلومات\n                            الاساسيه\n                            <small>{{this.errors_primery[0]}}</small>\n                        </v-stepper-step>\n\n                        <v-divider></v-divider>\n\n                        <v-stepper-step :rules=\"[() =>this.er_address]\" :complete=\"e1 > 2\" step=\"2\">معلومات\n                            الموقع\n                            <small>{{this.errors_address[0]}}</small>\n                        </v-stepper-step>\n\n                        <v-divider></v-divider>\n\n                        <v-stepper-step :rules=\"[() =>this.er_date]\" :complete=\"e1 > 3\" :editable=\"false\" step=\"3\">معلومات\n                            الوقت \n                             <small>{{this.errors_date[0]}}</small>\n                            </v-stepper-step>\n                        <v-divider></v-divider>\n\n\n                        <v-stepper-step :complete=\"e1 > 4\" step=\"4\" :editable=\"false\" :rules=\"[() =>this.er_payment]\">\n                            معلومات الدفع\n                            <small>{{this.errors_payment[0]}}</small>\n\n                        </v-stepper-step>\n\n                        <v-divider></v-divider>\n                        <v-stepper-step step=\"5\"> الصور</v-stepper-step>\n                    </v-stepper-header>\n                    <!--End Steper Header-->\n\n\n\n                    <v-stepper-items>\n\n                        <!--Primery Info-->\n                        <v-stepper-content step=\"1\">\n                            <v-card class=\"mb-12\" color=\"#cac0c057\" height=\"400px\" pl-5>\n\n                                <v-layout row wrap pr-2 pl-2>\n\n                                    <v-flex pa-3 xs6>\n                                        <v-text-field background-color=\"#fff\" height=\"50\" style=\"\"\n                                            placeholder=\"اسم المركز\" v-model=\"editedItem.name\" :rules=\"nameRules\"\n                                            required></v-text-field>\n                                    </v-flex>\n\n\n\n                                </v-layout>\n\n\n                                <v-layout row wrap pr-2 pl-2>\n                                    <v-flex pa-3 xs6>\n                                        <v-select background-color=\"#ffffff\" height=\"50\" :rules=\"nameRules\" class=\"my-2\"\n                                            :items=\"category\" item-value=\"id\" item-text=\"name\"\n                                            v-model=\"editedItem.sub_category.category_id\"\n                                            placeholder=\"  التصنيف الرئيسي\" @change=\"getSubCategory()\" required>\n                                        </v-select>\n                                    </v-flex>\n\n                                    <v-flex pa-3 xs6>\n                                        <v-select :rules=\"nameRules\" segmented class=\"my-2\" :items=\"subcategory\"\n                                            item-value=\"id\" item-text=\"name\" background-color=\"#ffffff\" height=\"50\"\n                                            v-model=\"editedItem.sub_category.id\" placeholder=\" التصنيف الفرعي\"\n                                            @change=\"dis()\" required></v-select>\n                                    </v-flex>\n\n\n\n\n\n\n                                </v-layout>\n\n\n                                <v-layout>\n                                    <v-flex pa-3 xs12>\n                                        <v-textarea background-color=\"#fff\" placeholder=\" الوصف \"\n                                            v-model=\"editedItem.disc\" :rules=\"descriptRules\" required>\n                                        </v-textarea>\n                                    </v-flex>\n\n\n\n                                </v-layout>\n\n                            </v-card>\n\n\n                            <v-btn color=\"primary\" @click=\"step2()\">\n                                التالي\n\n                            </v-btn>\n\n                            <!-- <v-btn text>Cancel</v-btn> -->\n                        </v-stepper-content>\n                        <!--End Primery Info-->\n\n\n\n\n\n\n\n\n\n                        <!--Location Info-->\n                        <v-stepper-content step=\"2\">\n                            <v-card class=\"mb-12\" color=\"#cac0c057\" height=\"400px\">\n                                <v-layout row wrap pr-2 pl-2>\n\n                                    <v-flex pa-3 xs12 sm6 md6>\n                                        <v-select background-color=\"#fff\" height=\"50\" item-value=\"id\" item-text=\"name\"\n                                            :items=\"countries\" placeholder=\"الدوله\" target=\"#dropdown-example\"\n                                            v-model=\"editedItem.address.country_id\" required :rules=\"nameRules\">\n                                        </v-select>\n                                    </v-flex>\n\n                                    <v-flex pa-3 xs12 md6 sm6>\n                                        <v-select background-color=\"#fff\" height=\"50\" item-value=\"id\"\n                                            item-text=\"province_name\" :items=\"province\" placeholder=\" المحافظة\"\n                                            target=\"#dropdown-example\" v-model=\"editedItem.address.province_id\" required\n                                            :rules=\"nameRules\"></v-select>\n                                    </v-flex>\n                                </v-layout>\n\n                                <v-layout>\n\n\n                                    <v-flex pa-3 xs12 md4 sm4>\n                                        <v-text-field background-color=\"#fff\" height=\"50\" placeholder=\" الطول \" disabled\n                                            readonly v-model=\"editedItem.address.lat\" :rules=\"nameRules\" required>\n                                        </v-text-field>\n                                    </v-flex>\n\n                                    <v-flex pa-3 xs12 md4 sm4>\n                                        <v-text-field background-color=\"#fff\" height=\"50\" placeholder=\" العرض \" disabled\n                                            readonly v-model=\"editedItem.address.long\" :rules=\"nameRules\" required>\n                                        </v-text-field>\n                                    </v-flex>\n\n\n                                    <v-flex xs12 md4 sm4 pt-7>\n                                        <v-btn height=\"50\" color=\"info\" @click=\"map_dialog=true\">اضغط هنا لتحديد الموقع\n                                            علي الخارطه\n                                        </v-btn>\n                                    </v-flex>\n\n                                    <v-dialog v-model=\"map_dialog\" max-width=\"700px\">\n\n                                        <GoogleMap @getmyLocation=\"getlocation\" @cancel=\"map_dialog=false\" />\n\n                                    </v-dialog>\n\n\n\n\n\n\n                                </v-layout>\n\n\n\n\n\n\n                                <v-flex pa-3 xs12>\n                                    <v-textarea background-color=\"#fff\" placeholder=\" الوصف \"\n                                        v-model=\"editedItem.address.discraption\" :rules=\"nameRules\" required>\n                                    </v-textarea>\n                                </v-flex>\n\n\n\n                            </v-card>\n\n                            <v-btn color=\"primary\" @click=\"step3()\">\n                                التالي\n                            </v-btn>\n\n\n                            <v-btn text @click=\"step1()\"> السابق</v-btn>\n\n\n                        </v-stepper-content>\n                        <!--End Location Info-->\n\n\n                        <!--Date Info-->\n                        <v-stepper-content step=\"3\">\n                            <v-card class=\"mb-12\" color=\"#cac0c057\" height=\"400px\">\n\n\n\n\n                                <v-layout row wrap pr-3 pt-3>\n                                    <v-flex xs2>\n                                        <v-checkbox v-model=\"everyday\" label=\" كل الايام \" @change=\"change_timeday\">\n                                        </v-checkbox>\n                                    </v-flex>\n\n\n                                    <v-flex xs2>\n\n                                        <v-checkbox v-model=\"everytime\" label=\"كل الساعات  \" @change=\"change_timeday\">\n                                        </v-checkbox>\n                                    </v-flex>\n\n                                </v-layout>\n\n\n\n\n                                <v-flex xs3 pl-3 v-if=\"everyday\">\n                                    <v-select v-if=\"everytime\" background-color=\"#eeeeee\" height=\"40\" :items=\"reve_type\"\n                                        placeholder=\" نوع الحجز\" item-value=\"id\" item-text=\"duration\"\n                                        @change=\"select_reser_type\">\n                                    </v-select>\n                                </v-flex>\n\n\n\n                                <v-flex xs3>\n                                    <v-menu v-if=\"book_dur_status\" v-show=\"everyday\" ref=\"menu3\" v-model=\"menu4\"\n                                        :close-on-content-click=\"false\" :nudge-right=\"40\"\n                                        :return-value.sync=\"reservation_duration\" transition=\"scale-transition\" offset-y\n                                        max-width=\"290px\" min-width=\"290px\">\n                                        <template v-slot:activator=\"{ on }\">\n\n                                            <v-text-field v-model=\"reservation_duration\"\n                                                placeholder=\" مدة الحجز الواحد \" background-color=\"#eeeeee\" height=\"40\"\n                                                required readonly v-on=\"on\"></v-text-field>\n                                        </template>\n                                        <v-time-picker v-if=\"menu4\" v-model=\"reservation_duration\" full-width\n                                            @click:minute=\"$refs.menu3.save(reservation_duration)\"></v-time-picker>\n                                    </v-menu>\n\n\n\n\n                                    <v-text-field v-if=\"book_num_status\" background-color=\"#eeeeee\" height=\"40\"\n                                        placeholder=\"   عدد الحجز باليوم الواحد \" :rules=\"numberRul\" v-model=\"request\">\n                                    </v-text-field>\n\n\n                                </v-flex>\n\n\n\n\n\n\n\n\n                                <v-form ref=\"form_day\" v-model=\"valid_day\">\n                                    <v-layout row wrap v-if=\"everyday==false || everytime==false\" pr-2>\n\n                                        <v-flex pa-2 xs2 v-if=\"!everyday\">\n                                            <v-select background-color=\"#fff\" height=\"40\" class=\"my-2\" :items=\"days\"\n                                                v-model=\"fromday\" placeholder=\"  اليوم\" :rules=\"nameRules\" required>\n                                            </v-select>\n                                        </v-flex>\n\n\n\n\n\n                                        <v-flex pa-3 xs2 v-if=\"!everytime\">\n\n                                            <v-menu ref=\"menu\" v-model=\"menu1\" :close-on-content-click=\"false\"\n                                                :nudge-right=\"40\" :return-value.sync=\"fromtime\"\n                                                transition=\"scale-transition\" offset-y max-width=\"290px\"\n                                                min-width=\"290px\">\n                                                <template v-slot:activator=\"{ on }\">\n                                                    <v-text-field v-model=\"fromtime\" placeholder=\"من الساعة \"\n                                                        background-color=\"#fff\" height=\"40\" required readonly v-on=\"on\">\n                                                    </v-text-field>\n                                                </template>\n                                                <v-time-picker v-if=\"menu1\" v-model=\"fromtime\" full-width\n                                                    @click:minute=\"$refs.menu.save(fromtime)\">\n                                                </v-time-picker>\n                                            </v-menu>\n\n                                        </v-flex>\n\n                                        <v-flex pa-3 xs2 v-if=\"!everytime\">\n\n                                            <v-menu ref=\"menu1\" v-model=\"menu2\" :close-on-content-click=\"false\"\n                                                :nudge-right=\"40\" :return-value.sync=\"totime\"\n                                                transition=\"scale-transition\" offset-y max-width=\"290px\"\n                                                min-width=\"290px\">\n\n\n                                                <template v-slot:activator=\"{ on }\">\n                                                    <v-text-field v-model=\"totime\" placeholder=\" الى الساعة \"\n                                                        background-color=\"#fff\" height=\"40\" required readonly\n                                                        :allowed-hours=\"allowedHours\" v-on=\"on\"></v-text-field>\n                                                </template>\n\n                                                <v-time-picker v-if=\"menu2\" v-model=\"totime\" full-width\n                                                    @click:minute=\"$refs.menu1.save(totime)\">\n                                                </v-time-picker>\n                                            </v-menu>\n\n\n                                        </v-flex>\n\n\n                                        <v-flex xs2 pa-3>\n                                            <v-select background-color=\"#fff\" height=\"40\" :items=\"reve_type1\"\n                                                placeholder=\" نوع الحجز\" item-value=\"id\" item-text=\"duration\"\n                                                @change=\"select_reser_type1\"></v-select>\n                                        </v-flex>\n\n\n                                        <v-flex xs2 pa-3>\n\n\n\n\n\n                                            <v-menu ref=\"menu4\" v-model=\"menu3\" v-if=\"reserv_type_id1==1\"\n                                                :close-on-content-click=\"false\" :nudge-right=\"40\"\n                                                :return-value.sync=\"reservation_duration_foroneday\"\n                                                transition=\"scale-transition\" offset-y max-width=\"290px\"\n                                                min-width=\"290px\">\n                                                <template v-slot:activator=\"{ on }\">\n\n                                                    <v-text-field v-model=\"reservation_duration_foroneday\"\n                                                        placeholder=\" مدة الحجز  \" background-color=\"#fff\" height=\"40\"\n                                                        required readonly v-on=\"on\"></v-text-field>\n                                                </template>\n                                                <v-time-picker v-if=\"menu3\" v-model=\"reservation_duration_foroneday\"\n                                                    full-width\n                                                    @click:minute=\"$refs.menu4.save(reservation_duration_foroneday)\">\n                                                </v-time-picker>\n                                            </v-menu>\n\n\n\n\n                                            <v-text-field v-if=\"reserv_type_id1==2\" background-color=\"#fff\" height=\"40\"\n                                                placeholder=\"   عدد الحجز   \" :rules=\"numberRul\" v-model=\"request\">\n                                            </v-text-field>\n                                        </v-flex>\n\n\n\n                                        <v-flex mt-6 xs1 pl-5>\n                                            <v-btn color=\"success\" @click=\"addday\">\n                                                <v-icon size=\"15\">fas fa-plus</v-icon>\n                                            </v-btn>\n                                        </v-flex>\n\n                                    </v-layout>\n\n\n\n\n\n                                    <!--Tabel Of Days-->\n                                    <v-row style=\"padding-right: 15px;padding-left: 15px;\">\n\n                                        <v-flex xs12 pa-3 pr-2 pl-2>\n                                            <v-simple-table>\n                                                <template v-slot:default>\n                                                    <thead>\n                                                        <tr>\n                                                            <th class=\"text-right\">اليوم</th>\n                                                            <th class=\"text-right\">من الساعه</th>\n                                                            <th class=\"text-right\">الى الساعه</th>\n                                                        </tr>\n                                                    </thead>\n\n                                                    <tbody>\n                                                        <tr v-for=\"item in day_to_open \" :key=\"item.name\">\n                                                            <td> <span v-if=\"!everyday\"> {{days[item.from_day]}}</span>\n                                                                <span v-else>كل الايام</span>\n\n                                                            </td>\n                                                            <td v-if=\"!everytime\"> {{item.from_time}}</td>\n                                                            <td v-if=\"!everytime\"> {{item.to_time}}</td>\n\n\n                                                            <td v-else> كل الاوقات</td>\n\n                                                        </tr>\n                                                    </tbody>\n                                                </template>\n                                            </v-simple-table>\n\n\n\n                                            <!-- <v-card>\n                              <v-row>\n\n                                <v-card-title pr-5>\n                                  <span v-if=\"!everyday\"> {{days[item.from_day]}}</span>\n                                  <span v-else>كل الايام</span>\n                                </v-card-title>\n\n                                <v-divider vertical=\"\"></v-divider>\n\n                                <v-row v-if=\"!everytime\">\n\n                                  <v-card-title>\n                                    {{item.from_time}}\n                                  </v-card-title>\n                                  <v-divider vertical=\"\"></v-divider>\n                                  <v-card-title>\n                                    الى\n                                  </v-card-title>\n                                  <v-divider vertical=\"\"></v-divider>\n                                  <v-card-title>\n                                    {{item.to_time}}\n                                  </v-card-title>\n\n                                </v-row>\n\n                                \n                                <v-row v-else>\n\n\n\n                                  <v-card-title>\n                                    كل الاوقات\n                                  </v-card-title>\n\n                                </v-row> -->\n\n\n\n\n                                        </v-flex>\n\n                                        <v-flex xs4>\n\n                                        </v-flex>\n                                    </v-row>\n\n\n                                    <v-row justify=\"center\">\n\n                                        <v-alert dense outlined type=\"error\" v-show=\"msg_error\">\n                                            <span style=\"padding-right:10px\">{{msg_error_txt}} </span>\n\n                                        </v-alert>\n\n                                    </v-row>\n\n\n                                </v-form>\n\n\n\n\n\n\n                            </v-card>\n                            <v-btn color=\"primary\" @click=\"step4()\">\n                                التالي\n                            </v-btn>\n\n                            <v-btn text @click=\"step2()\"> السابق</v-btn>\n\n\n                        </v-stepper-content>\n                        <!--End Date Info-->\n\n\n\n\n\n\n\n\n\n\n\n\n\n                        <v-stepper-content step=\"4\">\n                            <v-card class=\"mb-12\" color=\"#cac0c057\" height=\"400px\">\n\n                                <v-layout row wrap pl-2>\n                                    <v-flex xs4 pa-3 pr-5>\n                                        <v-text-field background-color=\"#fff\" height=\"50\" placeholder=\" سعر الحجز\"\n                                            data-vv-name=\"name\" v-model=\"editedItem.item_price.price\" :rules=\"numberRul\"\n                                            required>\n                                        </v-text-field>\n                                    </v-flex>\n                                </v-layout>\n\n\n                                <v-layout row wrap pl-2>\n\n\n                                    <v-flex xs4 pr-3>\n                                        <v-checkbox v-model=\"editedItem.item_price.book_without_credit_card\"\n                                            label=\"الحجز بدون بطاقة دفع\" @change=\"change_payment\" required>\n                                        </v-checkbox>\n                                    </v-flex>\n\n\n                                    <v-flex xs4 pa-1>\n                                        <v-checkbox v-model=\"editedItem.item_price.free_cancelation\"\n                                            label=\"امكانية الغاء الحجز\" required></v-checkbox>\n                                    </v-flex>\n\n\n                                    <v-flex xs3 pa-1 v-if=\"!editedItem.item_price.book_without_credit_card\" pl-4>\n                                        <v-text-field prepend-inner-icon=\"fas fa-percent\" background-color=\"#fff\"\n                                            class=\"deucation_txfield\" height=\"40\" placeholder=\"  نسبة الاستقطاع\"\n                                            data-vv-name=\"name\" :disabled=\"!editedItem.item_price.free_cancelation\"\n                                            :readonly=\"!editedItem.item_price.free_cancelation\"\n                                            v-model=\"editedItem.item_price.deduction\" :rules=\"numberRul1\">\n                                        </v-text-field>\n                                    </v-flex>\n\n\n                                </v-layout>\n\n                            </v-card>\n\n                            <v-btn color=\"primary\" @click=\"step5()\">\n                                التالي\n                            </v-btn>\n\n                            <v-btn @click=\"step3()\" text>السابق</v-btn>\n                        </v-stepper-content>\n\n\n                        <v-stepper-content step=\"5\">\n\n                            <v-card class=\"mb-12\" color=\"#cac0c057\" height=\"400px\">\n                                <v-layout row wrap>\n                                    <v-flex pa-5 xs3>\n                                        <!-- <v-text-field label=\"اختر صورة \" solo=\"\" @click='pickFile' append-icon='fas fa-image'></v-text-field> -->\n                                    </v-flex>\n\n                                    <v-flex pa-5>\n                                        <input type=\"file\" style=\"display: none\" ref=\"image\" accept=\"image/*\"\n                                            @change=\"onFilePicked\">\n                                    </v-flex>\n                                </v-layout>\n\n\n\n                                <span>{{img_name}}</span>\n                                <v-layout row wrap>\n                                    <v-row justify=\"center\">\n                                        <v-flex xs2 v-for=\"(img ,index) in images\" pa-2 :key=\"img\">\n\n                                            <v-card height=\"150\" width=\"150\" class=\"card_img\">\n                                                <v-img :src=\"img\" height=\"150\" width=\"150\" class=\"card_img\" \n    \n    \n                                                    v-if=\"img!='a'\">\n                                                    <v-btn icon=\"\" style=\"padding-right: 24px;position:relative;left: 46px;\"\n                                                        @click=\"delete_img(editedItem.images[index].id,index)\">\n                                                        <v-icon color=\"#fff\">fas fa-window-close</v-icon>\n                                                    </v-btn>\n\n                                                </v-img>\n\n                                                <v-btn icon v-else @click='pickFile(index)'>\n                                                    <v-icon style=\"margin:0px\" size=\"40\">fas fa-plus-square</v-icon>\n                                                </v-btn>\n\n\n                                            </v-card>\n                                        </v-flex>\n                                    </v-row>\n\n\n                                </v-layout>\n                            </v-card>\n\n                            <v-btn @click=\"submit\" color=\"success\" style=\"margin-left:10px\">\n                                <span v-show=\"!loading\">حفظ</span>\n                                <v-progress-circular indeterminate color=\"white\" v-show=\"loading\"></v-progress-circular>\n                            </v-btn>\n\n\n                            <v-btn @click=\"step4()\" text>السابق</v-btn>\n\n                         \n                        </v-stepper-content>\n\n\n\n\n                    </v-stepper-items>\n                </v-stepper>\n            </v-container>\n\n\n\n\n\n\n\n\n\n            <!-- <v-card-actions>\n    <v-row>\n\n\n      <v-btn @click=\"submit\" color=\"success\" style=\"margin-left:10px\">\n        <span v-show=\"!loading\">حفظ</span>\n        <v-progress-circular indeterminate color=\"white\" v-show=\"loading\"></v-progress-circular>\n      </v-btn>\n      <v-btn @click=\"close\" color=\"red\" dark=\"\"> الغاء</v-btn>\n    </v-row>\n\n    <v-spacer></v-spacer>\n\n  </v-card-actions> -->\n\n        </v-card>\n\n    </v-form>\n\n\n\n</template>\n\n\n\n<script>\n    import {\n        EventBus\n    } from './event-bus.js';\n    import GoogleMap from '../components/map'\n    import itemFormx from '../components/item_form'\n    import itemDialog from './item_dialog.vue'\n\n    export default {\n\n        props: {\n            'item_ID': Number,\n            'hidden': Boolean\n        },\n\n        data: () => ({\n            dialog: false,\n            item_id: '',\n            errors_address: [],\n            errors_address: [],\n            errors_payment: [],\n            errors_date: [],\n            day_to_open:[],\n            er_address:true,\n            er_payment: true,\n            er_date:true,\n            er1: true,\n            e1: 1,\n            switch2: false,\n            radios: 'radio-1',\n            submit_name: '',\n            errors_primery: [],\n            item_new_price: '',\n            menu_date_from: false,\n            menu_date_to: false,\n            editdailog: false,\n            user_info: {},\n            token: '',\n            err_show: false,\n            menu1: false,\n            menu2: false,\n            menu3: false,\n            menu4: false,\n            map_dialog: false,\n            modal2: false,\n            book_dur_status: false,\n            book_num_status: false,\n            offer_info: {\n\n\n            }\n\n            ,\n            reve_type: [{\n                id: 0,\n                duration: 'غير محدود'\n            }, {\n                id: 1,\n                duration: 'اختيار فترة'\n            }, {\n                id: 2,\n                duration: 'اختيار عدد لليوم الواحد'\n            }],\n            reve_type1: [{\n                id: 0,\n                duration: 'غير محدود'\n            }, {\n                id: 1,\n                duration: 'اختيار فترة'\n            }, {\n                id: 2,\n                duration: 'اختيار عدد  '\n            }],\n            error: '',\n            msg_error_txt: 'هذا اليوم مكرر ',\n            urL: 'http://109.224.53.155',\n\n            page: 1,\n            pageCount: 0,\n            items: [],\n            editedIndex: -1,\n\n            editedItem: {\n                sub_category: {\n                    category_id: 0,\n                    id: 0,\n                    name: \"\",\n                },\n                address: {\n                    province_id: '',\n                    country_id: '',\n                    discraption: '',\n                    long: '',\n                    lat: ''\n\n                },\n\n                item_price: {\n                    id: '',\n                    price: '',\n                    payment: '',\n                    deduction: 0,\n                    book_without_credit_card: '',\n                    free_cancelation: '',\n                    no_prepayment: '',\n                    status: '',\n                },\n                images: [{\n                        image_path: 'a'\n                    },\n                    {\n                        image_path: 'a'\n                    },\n                    {\n                        image_path: 'a'\n                    },\n                    {\n                        image_path: 'a'\n                    }\n                ],\n                name: '',\n                calories: 0,\n                fat: 0,\n                carbs: 0,\n                disc: '',\n                protein: 0,\n            },\n            valid: false,\n            deduction: '',\n            days: [\"السبت\", \"الاحد\", \"الاثنين\", \"الثلاثاء\", \"الاربعاء\", \"الخميس\", \"الجمعة\", \"كل الايام\"],\n            times: [\"1:00 م\", \"2:00 م\", \"3:00 م\", \"4:00 م \", \"5:00 م\", \"6:00 م\", \"7:00 م \", \"8:00 م\", \"9:00 م\",\n                \"10:00 م\",\n                \"11:00 م\", \"12:00 م\",\n                \"1:00 ص\", \"2:00 ص\", \"3:00 ص\", \"4:00 ص \", \"5:00 ص\", \"6:00 ص\", \"7:00 ص \", \"8:00 ص\", \"9:00 ص\",\n                \"10:00 ص\",\n                \"11:00 ص\", \"12:00 ص\"\n            ],\n\n            img_cliced: -1,\n            day_to_open: [{\n\n                every_day: 0,\n                every_time: 0,\n                from_day: \"\",\n                from_time: \"\",\n                to_day: \"\",\n                to_time: \"\",\n                max_requests: 0\n            }],\n\n            nameRules: [\n                v => !!v || 'هذا الحقل مطلوب  ',\n\n            ],\n            numberRul: [\n                v => !!v || 'هذا الحقل مطلوب  ',\n\n                v => !isNaN(v) || 'يجب ادخال رقم ',\n            ],\n            numberRul1: [\n\n                v => !isNaN(v) || 'يجب ادخال رقم ',\n            ],\n            descriptRules: [\n                v => !!v || 'هذا الحقل مطلوب  ',\n                v => v.length >= 20 || 'يجب ان يكون الوصف اكثر من ٢٠ حرف ',\n            ],\n            loading: false,\n            province: [],\n            imageName: '',\n            imageUrl: '',\n            countries: [{\n                name: 'العراق',\n                id: 1\n            }],\n            imageFile: '',\n            images: ['a', 'a', 'a', 'a'],\n\n            payment: false,\n\n            free_cancelation: false,\n            deductionvalue: 0,\n            everyday: false,\n            everytime: false,\n            fromday: '',\n            today: '',\n            fromtime: '',\n            totime: '',\n            current_page: 1,\n            last_page: 0,\n            offer_dialog: false,\n            subcategory: [],\n            sub_category_id: '',\n            category: [],\n            reserv_type_id1: -1,\n            valid_day: true,\n            img_name: '',\n            lat: 0,\n            lng: 0,\n\n\n        }),\n\n\n\n        methods: {\n            getItemDetails() {\n\n\n                var url = this.urL + \"/getItemBy/\" + this.item_id;\n                axios.get(url).then(response => {\n                    this.editedItem = response.data.Data[0];\n                    this.imgs = this.editedItem.images;\n                    this.address = response.data.Data[0].address.province.province_name;\n\n                    if (this.editedItem.images.length < 4) {\n                        var completImgArrayLength = 4 - this.editedItem.images.length;\n\n                        for (var i = 0; i < completImgArrayLength; i++) {\n\n                            this.editedItem.images.push({\n                                image_path: 'a'\n                            });\n                        }\n\n                    }\n\n                    this.getSubCategory();\n                    for (var i = 0; i < 4; i++) {\n                        if (this.editedItem.images[i].image_path != 'a') {\n                            this.images[i] = this.urL + \"/\" + this.editedItem.images[i].image_path;\n                        }\n\n                    }\n\n                    this.day_to_open = [];\n                    for (var a = 0; a < this.editedItem.day_to_open.length; a++) {\n\n                        this.day_to_open.push({\n\n                            every_day: this.editedItem.day_to_open[a].every_day,\n                            every_time: this.editedItem.day_to_open[a].every_time,\n                            from_day: this.editedItem.day_to_open[a].from_day,\n                            from_time: this.editedItem.day_to_open[a].from_time,\n                            to_day: this.editedItem.day_to_open[a].to_day,\n                            to_time: this.editedItem.day_to_open[a].to_time,\n                            max_requests: this.editedItem.day_to_open[a].max_requests\n                        });\n\n                    }\n                    if (this.editedItem.day_to_open.length < 1) {\n\n                        this.editedItem.day_to_open.push({\n                            id: 0,\n\n                            every_day: 0,\n                            every_time: 0,\n                            from_day: 0,\n                            from_time: 0,\n                            to_day: 0,\n                            to_time: 0,\n                            max_requests: 0\n                        });\n                    }\n                    this.everyday = this.day_to_open[0].every_day;\n                    this.everytime = this.day_to_open[0].every_time;\n\n\n\n                })\n            },\n\n\n            delete_img(img_id, index) {\n\n\n                const Swal = require('sweetalert2');\n\n\n\n                Swal.fire({\n                    title: \"هل انت متاكد من الحذف ؟\",\n\n                    icon: \"warning\",\n                    showCancelButton: true,\n                    confirmButtonColor: '#3085d6',\n                    cancelButtonColor: '#d33',\n                    confirmButtonText: 'Yes, delete it!'\n\n                }).then((result) => {\n                    if (result.value) {\n                        this.img_cliced = index;\n\n                        var url = this.urL + \"/delete_item_img/\" + img_id;\n                        axios({\n                            method: 'get',\n                            url: url,\n                            headers: {\n                                token: this.token\n                            }\n\n                        }).then(response => {\n\n\n                            this.editedItem.images[index].image_path = 'a';\n                            //not important\n                            this.img_name = index;\n                            this.images[index] = 'a';\n\n                            Swal.fire(\n                                'تم الحذف بنجاح',\n                                '',\n                                'success'\n                            )\n\n                        }).catch(error => {\n                            this.$swal('خطاء', \"خطاء بالاتصال\", 'error')\n                        }).finally(d => {\n\n                            this.getitems();\n                        });\n\n\n\n                    }\n                })\n\n\n\n\n            },\n\n\n            cancel() {\n                this.$refs.form.reset(),\n                    this.$emit(\"changeStatus\", false);\n            },\n\n            editt() {\n                // alert(this.item_id);\n                this.$emit(\"edite_item\");\n\n            },\n\n            step1() {\n                this.e1 = 1;\n                this.Check_Primery();\n\n\n            },\n\n            step2() {\n\n                this.e1 = 2;\n                this.Check_Primery();\n                // this.Check_payment();\n                // this.Check_address();\n\n\n            },\n\n            step3() {\n                this.e1 = 3;\n                this.Check_Primery();\n                this.Check_address();\n                // this.Check_payment();\n\n\n            },\n            step4() {\n                this.e1 = 4;\n                this.Check_Primery();\n                this.Check_address();\n                this.Check_date();\n                // this.Check_payment();\n\n\n            },\n            step5() {\n                this.e1 = 5;\n                this.Check_Primery();\n                this.Check_address();\n                this.Check_payment();\n                 this.Check_date();\n\n\n            },\n\n           \n\n            Check_date()\n            {\n                this.errors_dates = [];\n              \n                if(this.day_to_open.length==0)\n                {\n                  \n                this.errors_date.push(\"يرجئ تحديد الوقت\");\n                }\n                else\n                {\n                    this.errors_date=[]\n                }\n\n               if (this.errors_date.length) {\n                    this.er_date = false;\n                } else {\n                    this.er_date = true;\n                }\n            },\n\n\n            Check_Primery() {\n\n\n\n\n                this.errors_primery = [];\n                \n                if (!this.editedItem.name || !this.editedItem.sub_category.category_id || !this.editedItem.sub_category\n                    .id || !this.editedItem.disc) {\n\n\n                    this.errors_primery.push(\"يرجئ ملئ الحقول\");\n                }\n\n\n                if (this.errors_primery.length) {\n                    this.er1 = false;\n                } else {\n                    this.er1 = true;\n                }\n\n\n            },\n\n\n\n            Check_address() {\n\n                this.errors_address = [];\n                if (!this.editedItem.address.country_id || !this.editedItem.address.province_id || !this.editedItem\n                    .address.lat || !this.editedItem.address.long || !this.editedItem.address.discraption) {\n                    this.errors_address.push(\"يرجئ ملئ الحقول\");\n                }\n                if (this.errors_address.length) {\n                    this.er_address = false;\n                } else {\n                    this.er_address = true;\n                }\n            },\n\n\n            Check_payment() {\n                this.errors_payment = [];\n                if (!this.editedItem.item_price.price) {\n\n                    this.errors_payment.push(\"يرجئ ملئ الحقول\");\n                }\n\n                if (this.errors_payment.length) {\n                    this.er_payment = false;\n                } else {\n                    this.er_payment = true;\n                }\n            },\n\n\n\n\n\n            getlocation(lat, lng) {\n                this.editedItem.address.lat = lat;\n                this.editedItem.address.long = lng\n                this.map_dialog = false;\n\n\n            },\n            price_percentage(v) {\n\n                this.offer_info.new_price = this.offer_info.old_price;\n                this.offer_info.new_price = this.offer_info.old_price - (this.offer_info.old_price * (v / 100));\n                this.offer_info.discount_percentage = v;\n\n\n\n            },\n\n\n\n\n\n\n\n            change_timeday() {\n                this.day_to_open.length = 0;\n            },\n            select_reser_type1(id) {\n\n                this.reserv_type_id1 = id;\n            },\n            select_reser_type(id) {\n\n                this.reserv_type_id = id;\n                if (id == 1) {\n                    this.book_dur_status = true;\n                    this.book_num_status = false;\n                } else if (id == 2) {\n                    this.book_dur_status = false;\n                    this.book_num_status = true;\n                } else {\n                    this.book_dur_status = false;\n                    this.book_num_status = false;\n                }\n            },\n\n            allowedHours(v) {\n\n                return false;\n            },\n\n            comput_maxRequest(id, time_duration, from_tim, to_tim) {\n\n                if (id == 0) {\n                    return 0;\n                } else if (id == 1) {\n                    // this.reservation_duration\n\n                    var from_hour = parseInt(from_tim.split(\":\")[0])\n                    var from_min = parseInt(from_tim.split(\":\")[1])\n\n\n                    var to_hour = parseInt(to_tim.split(\":\")[0])\n                    var to_min = parseInt(to_tim.split(\":\")[1])\n\n                    var from = from_hour * 60 + from_min;\n\n\n                    var to = to_hour * 60 + to_min;\n\n                    var result = to - from;\n\n                    var houer = parseInt(time_duration.split(\":\")[0]);\n                    var minit = parseInt(time_duration.split(\":\")[1]);\n\n                    var dur = houer * 60 + minit;\n\n                    result = result / dur\n\n                    return result\n\n                } else {\n                    return 0\n                }\n\n\n\n\n            },\n            submit() {\n\n                var imag = [];\n                for (var im = 0; im < this.images.length; im++) {\n                    if (this.images[im] != 'a' && this.images[im] != this.urL + \"/\" + this.editedItem.images[im]\n                        .image_path) {\n\n                        imag.push(this.images[im]);\n                    } else if (this.images[im] != 'a') {\n\n                    }\n\n                }\n\n                if (!this.er1) {\n                    this.step1();\n                } else if (!this.er_address) {\n                    this.step2()\n                }\n                    else if (!this.er_date) {\n                    this.step3();\n                } else if (!this.er_payment) {\n                    this.step4();\n                }\n\n                if (this.editedItem.item_price.book_without_credit_card) {\n                    this.editedItem.item_price.book_without_credit_card = 1;\n                } else {\n                    this.editedItem.item_price.book_without_credit_card = 0;\n                }\n\n                if (this.editedItem.item_price.free_cancelation) {\n                    this.editedItem.item_price.free_cancelation = 1;\n                } else {\n                    this.editedItem.item_price.free_cancelation = 0;\n                }\n\n\n\n                if (this.everyday && this.everytime) {\n\n                    this.day_to_open.length = 0\n                    this.day_to_open.push({\n                        every_day: this.everyday,\n                        every_time: this.everytime,\n                        from_day: 0,\n                        from_time: \"00:00\",\n                        to_day: 6,\n                        to_time: \"24:00\",\n                        max_requests: this.comput_maxRequest(this.reserv_type_id, this.reservation_duration,\n                            \"00:00\", \"24:00\")\n                    });\n\n\n\n\n\n                }\n\n                if (this.day_to_open.length == 0) {\n                    this.$swal('تحذير', \"    يجب اختيار جدول الحجز\", 'warning')\n                }\n\n\n\n                if (this.images.find(im => im === 'a')) {\n                    this.$swal('تحذير', \" يجب اختيار 4 من الصور\", 'warning');\n                    return;\n                }\n\n\n                if (this.$refs.form.validate() && this.day_to_open.length > 0) {\n\n\n\n\n                    var data = {\n\n\n                        name: this.editedItem.name,\n                        discraption: this.editedItem.disc,\n                        sub_category_id: this.editedItem.sub_category.id,\n                        category_id: this.editedItem.sub_category.category_id,\n                        number: 0,\n                        //for edit item\n                        owner_id: 8,\n                        address_id: 1,\n                        time_open_id: this.item_id != 0 ? this.editedItem.day_to_open[0].id : 0,\n                        day_open_id: this.item_id != 0 ? this.editedItem.day_to_open[0].id : 0,\n                        item_price_id: this.item_id != 0 ? this.editedItem.item_price.id : 0,\n                        //end for edit item\n                        price: this.editedItem.item_price.price,\n                        book_without_credit_card: this.editedItem.item_price.book_without_credit_card,\n                        deduction: this.editedItem.item_price.deduction,\n                        cancellation_deduction_ratio: 1,\n                        free_cancellation: this.editedItem.item_price.free_cancelation,\n                        no_prepayment: 1,\n\n\n\n\n\n\n\n\n                        //Address Informations\n                        province_id: this.editedItem.address.province_id,\n                        country_id: this.editedItem.address.country_id,\n                        address_discraption: this.editedItem.address.discraption,\n                        long: this.editedItem.address.long,\n                        lat: this.editedItem.address.lat,\n\n\n                        work_times: this.day_to_open,\n                        type: \"png\",\n                        images: imag\n                    };\n\n                    // this.description=JSON.stringify(data);\n                    this.loading = true;\n                    var posturl = this.item_id != 0 ? this.urL + \"/updateItem/\" + this.item_id : this.urL + \"/addItem\";\n                    axios({\n                            method: 'post',\n                            url: posturl,\n                            data: data,\n                            headers: {\n                                token: this.token\n                            }\n\n                        })\n                        .then(response => {\n\n                            this.$swal('تم', this.item_id != 0 ? \"تم تعديل الحجز\" : \"    تم اضافة الحجز\", 'success')\n                            this.dialog = false;\n\n\n                            if (response.data.success == true) {\n\n                                this.dialog = false;\n\n\n                            }\n\n\n\n\n                        })\n                        .catch((error) => {\n                        \n                            this.err_show = true;\n                            this.$swal('خطاء', this.item_id != 0 ? \"     فشل  اضافة الحجز\" : \"فشل تعديل الحجز\",\n                                'error')\n\n                        }).finally(d => {\n                            this.loading = false;\n                            this.everyday = false;\n                            this.everytime = false;\n                        });\n                } else {\n\n                    this.err_show = true;\n\n\n\n\n                }\n\n\n\n\n            },\n\n\n\n            getCategory() {\n\n                var url = this.urL + \"/getInfo/Category\";\n                axios.get(url).then(response => {\n                    this.category = response.data.Data;\n\n\n\n                })\n            },\n\n\n            getCountry() {\n\n                var url = this.urL + \"/getInfo/Country\";\n                axios.get(url).then(response => {\n                    this.countries = response.data.Data;\n\n\n\n                })\n            },\n\n\n\n            getSubCategory() {\n\n                var url = this.urL + \"/getInfo/SubCategory/\" + this.editedItem.sub_category.category_id;\n                axios.get(url).then(response => {\n                    this.subcategory = response.data.Data;\n\n\n\n                })\n            },\n            getProvince() {\n\n                var url = this.urL + \"/getInfo/Province/1\";\n                axios.get(url).then(response => {\n                    this.province = response.data.Data;\n\n\n\n                })\n            },\n\n\n            addday() {\n                if (this.$refs.form_day.validate()) {\n\n\n                    this.msg_error = false;\n\n\n                    let search = this.day_to_open.find((o, i) => {\n                        if (o.from_day == this.days.indexOf(this.fromday)) {\n                            return o;\n                        }\n                    });\n\n\n                    if (search == undefined) {\n                        if (this.everytime && !this.everyday) {\n                            this.add_day_reversation();\n                        } else if (this.everyday && !this.everytime) {\n                            this.add_time_reversation();\n                        } else {\n                            this.add_dayTime_reversation();\n\n                        }\n                    } else {\n                        this.$swal('تحذير', \"  لايمكن تكرار اليوم\", 'warning')\n\n                        this.$refs.form_day.reset();\n                    }\n\n                }\n\n            },\n\n\n            add_dayTime_reversation() {\n\n\n                this.day_to_open.push({\n                    every_day: this.everyday,\n                    every_time: this.everytime,\n                    from_day: this.days.indexOf(this.fromday),\n                    from_time: this.fromtime,\n                    to_day: this.days.indexOf(this.fromday),\n                    to_time: this.totime,\n                    max_requests: this.comput_maxRequest(this.reserv_type_id1, this\n                        .reservation_duration_foroneday, this\n                        .fromtime, this.totime)\n                });\n\n                this.$refs.form_day.reset();\n\n            },\n\n            add_day_reversation() {\n                this.day_to_open.push({\n                    every_day: this.everyday,\n                    every_time: this.everytime,\n                    from_day: this.days.indexOf(this.fromday),\n                    from_time: 0,\n                    to_day: this.days.indexOf(this.fromday),\n                    to_time: 23,\n                    max_requests: this.comput_maxRequest(this.reserv_type_id1, this\n                        .reservation_duration_foroneday, \"00:00\",\n                        \"23:00\")\n                });\n\n                this.$refs.form_day.reset();\n\n            },\n\n\n            add_time_reversation() {\n\n                if (this.day_to_open.length < 1) {\n                    this.day_to_open.push({\n                        every_day: this.everyday,\n                        every_time: this.everytime,\n                        from_day: 0,\n                        from_time: this.fromtime,\n                        to_day: 6,\n                        to_time: this.totime,\n                        max_requests: this.comput_maxRequest(this.reserv_type_id1, this\n                            .reservation_duration_foroneday, this\n                            .fromtime, this.totime)\n                    });\n\n                    this.$refs.form_day.reset();\n                } else {\n                    this.$swal('تحذير', \" لايمكن اضافة وقت اخر\", 'warning')\n                }\n\n\n            },\n            pickFile(index) {\n\n                this.img_cliced = index\n                this.$refs.image.click()\n            },\n\n            onFilePicked(e) {\n\n                const files = e.target.files\n                if (files[0] !== undefined) {\n                    this.imageName = files[0].name\n                    if (this.imageName.lastIndexOf('.') <= 0) {\n                        return\n                    }\n                    const fr = new FileReader()\n                    fr.readAsDataURL(files[0])\n                    fr.addEventListener('load', () => {\n                        this.imageUrl = fr.result\n                        this.imageFile = files[0]\n\n                        this.images[this.img_cliced] = fr.result;\n                        var a = this.img_cliced + 1;\n                        this.img_name = \"   صورة رقم \" + a\n\n                    })\n\n                } else {\n                    this.imageName = ''\n                    this.imageFile = ''\n                    this.imageUrl = ''\n                }\n            },\n\n            change_payment(status) {\n                if (status == true) {\n                    this.editedItem.item_price.free_cancelation = false;\n                    this.editedItem.item_price.deduction = 0;\n                }\n\n            },\n\n\n\n\n\n\n            save() {\n                if (this.editedIndex > -1) {\n                    Object.assign(this.desserts[this.editedIndex], this.editedItem)\n                } else {\n                    this.desserts.push(this.editedItem)\n                }\n                this.close()\n            },\n\n        },\n\n        watch: {\n            selected: 'dd',\n            steps(val) {\n\n                if (this.e1 > val) {\n                    this.e1 = val\n                }\n            },\n\n\n\n        },\n        computed: {\n\n            selected() {\n\n                if (this.current_page != this.page) {\n\n                    this.getMoreitems();\n\n                }\n            }\n        },\n\n\n\n\n        created() {\n\n            //this.editt();\n            //  alert(this.item_id);\n            //this.getItemDetails();\n            //   EventBus.$on('edit_item',item_id => {\n\n            //       alert('xxxxxxxx');\n            //       this.getItemDetails(item_id);\n            //         this.getCategory();\n            //         this.getCountry();\n            //         this.getProvince();\n\n\n\n            //   });\n\n\n\n\n\n\n\n        },\n        updated() {\n\n            if (this.item_ID != this.item_id) {\n                this.item_id = this.item_ID;\n                this.getItemDetails();\n            }\n\n        },\n        mounted() {\n\n            this.token = localStorage.getItem('access_token');\n            this.user_info = JSON.parse(localStorage.getItem('user_info'));\n\n            this.item_id = this.item_ID;\n\n            this.getCategory();\n            this.getProvince();\n            this.item_id != 0 ? this.getItemDetails() : this.day_to_open.length = 0;\n        },\n        components: {\n            GoogleMap,\n            itemDialog\n\n        }\n    }\n</script>"]}]}