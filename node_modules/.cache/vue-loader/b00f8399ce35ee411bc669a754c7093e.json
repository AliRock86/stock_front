{"remainingRequest":"/Users/haideraltemimy/Documents/GitHub/bala_front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/haideraltemimy/Documents/GitHub/bala_front/src/components/Owner/components/item_dialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/haideraltemimy/Documents/GitHub/bala_front/src/components/Owner/components/item_dialog.vue","mtime":1592987826755},{"path":"/Users/haideraltemimy/Documents/GitHub/bala_front/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/haideraltemimy/Documents/GitHub/bala_front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/haideraltemimy/Documents/GitHub/bala_front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiBjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7CgovLyBpbXBvcnQgR29vZ2xlTWFwIGZyb20gJy4uL2NvbXBvbmVudHMvbWFwJwogaW1wb3J0IHsKICAgICBFdmVudEJ1cwogfSBmcm9tICcuL2V2ZW50LWJ1cy5qcyc7CgoKCiBleHBvcnQgZGVmYXVsdCB7CgogICAgIHByb3BzOiB7CiAgICAgICAgICdpdGVtX0lEJzogTnVtYmVyLAogICAgICAgICAnaGlkZGVuJzogQm9vbGVhbgogICAgIH0sCgogICAgIGRhdGE6ICgpID0+ICh7CiAgICAgICAgIGRpYWxvZzogZmFsc2UsCiAgCiAgICAgICAgIGltZ191cmw6ICdodHRwOi8vMTA5LjIyNC41My4xNTUnLAogICAgICAgICBpdGVtX2lkOiAnJywKICAgICAgICAgc3RhcnQ6IG51bGwsCiAgICAgICAgIHRpbWVfZGlhbG9nOiBmYWxzZSwKICAgICAgICAgeGM6IFtdLAogICAgICAgICBpbWdfbmFtZTogJycsCiAgICAgICAgIGVuZDogbnVsbCwKICAgICAgICAgdmFsaWRfZGF5X29wZW46IGZhbHNlLAoKCiAgICAgICAgIGVycm9yc19hZGRyZXNzOiBbXSwKICAgICAgICAgZXJyb3JzX3BheW1lbnQ6IFtdLAogICAgICAgICByYWRpb1BheW1lbnQ6IFsiMCIsICIxIl0sCiAgICAgICAgIGVycm9yc19kYXRlOiBbXSwKICAgICAgICAgZGF5X3N0YXR1czogW3sKICAgICAgICAgICAgIGlkOiA2LAogICAgICAgICAgICAgc3RhdHVzX25hbWVfYXI6ICfZhdmB2KrZiNitJwogICAgICAgICB9LCB7CiAgICAgICAgICAgICBpZDogNywKICAgICAgICAgICAgIHN0YXR1c19uYW1lX2FyOiAn2YXYutmE2YInCiAgICAgICAgIH1dLAogICAgICAgICBEYXlEaWFsb2c6IGZhbHNlLAogICAgICAgICBtc2dfZXJyb3I6IFtdLAogICAgICAgICBJdGVtRmVhdHVyZXNEaWFsb2c6IGZhbHNlLAogICAgICAgICBlcl9hZGRyZXNzOiB0cnVlLAogICAgICAgICB2YWxpZF9JdGVtRmVhdHVyZXM6IGZhbHNlLAogICAgICAgICB2YWxpZF9wYXltZW50OiBmYWxzZSwKCiAgICAgICAgIEl0ZW1GZWF0dXJlczogW3sKICAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgIGl0ZW1faWQ6ICcnLAogICAgICAgICAgICAgZmVhdHVyZV9uYW1lOiAnJywKICAgICAgICAgICAgIGZlYXR1cmVfcHJpY2U6ICcnCgogICAgICAgICB9XSwKCgoKICAgICAgICAgZWRpdGVJdGVtRmVhdHVyZXM6IHsKICAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgIGl0ZW1faWQ6ICcnLAogICAgICAgICAgICAgZmVhdHVyZV9uYW1lOiAnJywKICAgICAgICAgICAgIGZlYXR1cmVfcHJpY2U6ICcnCiAgICAgICAgIH0sCgoKCiAgICAgICAgIGVyX3BheW1lbnQ6IHRydWUsCgogICAgICAgICBlZGl0ZVRpbWVPcGVuOiB7CgogICAgICAgICAgICAgaWQ6ICcnLAogICAgICAgICAgICAgYWN0aW9uX2lkOiAnJywKICAgICAgICAgICAgIGZyb21fdGltZTogJycsCiAgICAgICAgICAgICB0b190aW1lOiAnJywKICAgICAgICAgICAgIG1heF9yZXF1ZXN0OiAnJywKICAgICAgICAgICAgIHJlc2VydmF0aW9uc19udW1iZXI6ICcnLAogICAgICAgICAgICAgc3RhdHVzOiB7CiAgICAgICAgICAgICAgICAgaWQ6ICcnLAogICAgICAgICAgICAgICAgIHN0YXR1c19uYW1lX2FyOiAnJwogICAgICAgICAgICAgfSwKICAgICAgICAgICAgIHJlc2VydmF0aW9uX3R5cGU6IHsKICAgICAgICAgICAgICAgICBpZDogJycsCiAgICAgICAgICAgICAgICAgcmVzZXJ2YXRpb25fdHlwZV9uYW1lOiAnJwogICAgICAgICAgICAgfSwKCiAgICAgICAgIH0sCgogICAgICAgICBlZGl0ZURheU9wZW46IFt7CiAgICAgICAgICAgICAgICAgaWQ6ICcnLAogICAgICAgICAgICAgICAgIHJlc2VydmF0aW9uX3R5cGU6IHsKICAgICAgICAgICAgICAgICAgICAgaWQ6ICcnLAogICAgICAgICAgICAgICAgICAgICByZXNlcnZhdGlvbl90eXBlX25hbWU6ICcnCiAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICB3b3JrX2RheTogJycsCiAgICAgICAgICAgICAgICAgc3RhdHVzOiB7CiAgICAgICAgICAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgICAgICAgICAgc3RhdHVzX25hbWVfYXI6ICcnCiAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICByZXNlcnZhdGlvbnNfbnVtYmVyOiAnJywKICAgICAgICAgICAgICAgICB0aW1lX3RvX29wZW46IFt7CiAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25faWQ6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgZnJvbV90aW1lOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgIHRvX3RpbWU6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgbWF4X3JlcXVlc3Q6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXJ2YXRpb25zX251bWJlcjogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzX25hbWVfYXI6ICcnCiAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXJ2YXRpb25fdHlwZTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNlcnZhdGlvbl90eXBlX25hbWU6ICcnCiAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICB9LAoKCiAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgIH1dCgoKCiAgICAgICAgICAgICAsCiAgICAgICAgIGVyX2RhdGU6IHRydWUsCiAgICAgICAgIGVyMTogdHJ1ZSwKICAgICAgICAgcmVzZXJ2YXRpb25fdHlwZTogW3sKICAgICAgICAgICAgICAgICBpZDogMSwKICAgICAgICAgICAgICAgICByZXNlcnZhdGlvbl90eXBlX25hbWU6ICfYutmK2LEg2YXYrdiv2K8nCiAgICAgICAgICAgICB9LAogICAgICAgICAgICAgewogICAgICAgICAgICAgICAgIGlkOiAyLAogICAgICAgICAgICAgICAgIHJlc2VydmF0aW9uX3R5cGVfbmFtZTogJ9in2K7YqtmK2KfYsSDYudiv2K8nCiAgICAgICAgICAgICB9CiAgICAgICAgIF0sCiAgICAgICAgIC8vICAgIFsn2LrZitixINmF2K3Yr9ivJywn2KfYrtiq2YrYp9ixINi52K/YryddLAogICAgICAgICBlMTogMSwKICAgICAgICAgc3dpdGNoMjogZmFsc2UsCiAgICAgICAgIHJhZGlvczogJ3JhZGlvLTEnLAogICAgICAgICBzdWJtaXRfbmFtZTogJycsCiAgICAgICAgIGVycm9yc19wcmltZXJ5OiBbXSwKICAgICAgICAgaXRlbV9uZXdfcHJpY2U6ICcnLAogICAgICAgICBtZW51X2RhdGVfZnJvbTogZmFsc2UsCiAgICAgICAgIG1lbnVfZGF0ZV90bzogZmFsc2UsCiAgICAgICAgIGVkaXRkYWlsb2c6IGZhbHNlLAogICAgICAgICB1c2VyX2luZm86IHt9LAogICAgICAgICB0b2tlbjogJycsCiAgICAgICAgIGVycl9zaG93OiBmYWxzZSwKICAgICAgICAgbWVudTE6IGZhbHNlLAogICAgICAgICBtZW51MjogZmFsc2UsCiAgICAgICAgIG1lbnUzOiBmYWxzZSwKICAgICAgICAgbWVudTQ6IGZhbHNlLAogICAgICAgICBtYXBfZGlhbG9nOiBmYWxzZSwKICAgICAgICAgbW9kYWwyOiBmYWxzZSwKICAgICAgICAgYm9va19kdXJfc3RhdHVzOiBmYWxzZSwKICAgICAgICAgYm9va19udW1fc3RhdHVzOiBmYWxzZSwKICAgICAgICAgb2ZmZXJfaW5mbzogewoKCiAgICAgICAgIH0KCiAgICAgICAgICwKICAgICAgICAgcmV2ZV90eXBlOiBbewogICAgICAgICAgICAgaWQ6IDAsCiAgICAgICAgICAgICBkdXJhdGlvbjogJ9i62YrYsSDZhdit2K/ZiNivJwogICAgICAgICB9LCB7CiAgICAgICAgICAgICBpZDogMSwKICAgICAgICAgICAgIGR1cmF0aW9uOiAn2KfYrtiq2YrYp9ixINmB2KrYsdipJwogICAgICAgICB9LCB7CiAgICAgICAgICAgICBpZDogMiwKICAgICAgICAgICAgIGR1cmF0aW9uOiAn2KfYrtiq2YrYp9ixINi52K/YryDZhNmE2YrZiNmFINin2YTZiNin2K3YrycKICAgICAgICAgfV0sCiAgICAgICAgIHJldmVfdHlwZTE6IFt7CiAgICAgICAgICAgICBpZDogMCwKICAgICAgICAgICAgIGR1cmF0aW9uOiAn2LrZitixINmF2K3Yr9mI2K8nCiAgICAgICAgIH0sIHsKICAgICAgICAgICAgIGlkOiAxLAogICAgICAgICAgICAgZHVyYXRpb246ICfYp9iu2KrZitin2LEg2YHYqtix2KknCiAgICAgICAgIH0sIHsKICAgICAgICAgICAgIGlkOiAyLAogICAgICAgICAgICAgZHVyYXRpb246ICfYp9iu2KrZitin2LEg2LnYr9ivICAnCiAgICAgICAgIH1dLAogICAgICAgICBlcnJvcjogJycsCiAgICAgICAgIG1zZ19lcnJvcl90eHQ6ICfZh9iw2Kcg2KfZhNmK2YjZhSDZhdmD2LHYsSAnLAoKCiAgICAgICAgIHBhZ2U6IDEsCiAgICAgICAgIHBhZ2VDb3VudDogMCwKICAgICAgICAgaXRlbXM6IFtdLAogICAgICAgICByZXNlcnZhdGlvbl9udW06IGZhbHNlLAogICAgICAgICBlZGl0ZWRJbmRleDogLTEsCiAgICAgICAgIGVkaXRlZEluZGV4ZGF5OiAtMSwKICAgICAgICAgZWRpdGVkSW5kZXh0aW1lOiAtMSwKICAgICAgICAgZWRpdGVkSW5kZXhJdGVtRmVhdHVyZXM6IC0xLAoKICAgICAgICAgZWRpdGVkSXRlbTogewogICAgICAgICAgICAgaXRlbV9uYW1lOiAnJywKICAgICAgICAgICAgIGl0ZW1fZGVzY3JpcHRpb246ICcnLAogICAgICAgICAgICAgc3ViX2NhdGVnb3J5OiB7CiAgICAgICAgICAgICAgICAgY2F0ZWdvcnlfaWQ6IDAsCiAgICAgICAgICAgICAgICAgaWQ6IDAsCiAgICAgICAgICAgICAgICAgbmFtZTogIiIsCiAgICAgICAgICAgICB9LAogICAgICAgICAgICAgQWRkcmVzczogewogICAgICAgICAgICAgICAgIGFkZHJlc3NfZGVzY3JhcHRpb246ICcnLAogICAgICAgICAgICAgICAgIHByb3ZpbmNlOiB7CiAgICAgICAgICAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgICAgICAgICAgY291bnRyeV9pZDogJycsCgogICAgICAgICAgICAgICAgIH0sCgoKICAgICAgICAgICAgICAgICBsb25nOiAnMTInLAogICAgICAgICAgICAgICAgIGxhdDogJzMzJwoKICAgICAgICAgICAgIH0sCgogICAgICAgICAgICAgSXRlbUZlYXR1cmVzOiBbCgoKICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICBpbWFnZXM6IFt7CiAgICAgICAgICAgICAgICAgICAgICJpbWFnZV91cmwiOiAnJwogICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAiaW1hZ2VfdXJsIjogJycKICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgImltYWdlX3VybCI6ICcnCiAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICJpbWFnZV91cmwiOiAnJwogICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgIF0sCgogICAgICAgICAgICAgcHJpY2U6IHsKICAgICAgICAgICAgICAgICBpZDogJycsCiAgICAgICAgICAgICAgICAgcHJpY2VfdmFsdWU6ICcnLAogICAgICAgICAgICAgICAgIHBheW1lbnQ6ICcnLAogICAgICAgICAgICAgICAgIGRlZHVjdGlvbjogMCwKICAgICAgICAgICAgICAgICBwYXltZW50X3doZW5fcmVjZWl2aW5nOiAnJywKICAgICAgICAgICAgICAgICBmcmVlX2NhbmNlbGxhdGlvbjogJycsCiAgICAgICAgICAgICAgICAgcGF5bWVudF9hZnRlcl9hd2hpbGU6ICcnLAogICAgICAgICAgICAgICAgIGluc3RhbGxtZW50czogJycsCiAgICAgICAgICAgICAgICAgY2FuY2VsbGF0aW9uX2RlZHVjdGlvbl9yYXRpbzogJzAnLAoKICAgICAgICAgICAgIH0sCgoKICAgICAgICAgICAgIGNhbG9yaWVzOiAwLAogICAgICAgICAgICAgZmF0OiAwLAogICAgICAgICAgICAgY2FyYnM6IDAsCiAgICAgICAgICAgICBkaXNjOiAnJywKICAgICAgICAgICAgIHByb3RlaW46IDAsCiAgICAgICAgICAgICBkYXlfdG9fb3BlbjogWwoKICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgICAgICAgICAgd29ya19kYXk6ICcwJywKICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNfbmFtZV9hcjogJycKICAgICAgICAgICAgICAgICAgICAgfSwKCiAgICAgICAgICAgICAgICAgICAgIHJlc2VydmF0aW9uX3R5cGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2VydmF0aW9uX3R5cGVfbmFtZTogJycKICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgcmVzZXJ2YXRpb25zX251bWJlcjogJycsCiAgICAgICAgICAgICAgICAgICAgIHRpbWVfdG9fb3BlbjogWwoKICAgICAgICAgICAgICAgICAgICAgXSwKCgogICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICBpZDogJycsCiAgICAgICAgICAgICAgICAgICAgIHdvcmtfZGF5OiAnMScsCiAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogewogICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzX25hbWU6ICcnCiAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIHJlc2VydmF0aW9uX3R5cGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2VydmF0aW9uX3R5cGVfbmFtZTogJycKICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgcmVzZXJ2YXRpb25zX251bWJlcjogJycsCiAgICAgICAgICAgICAgICAgICAgIHRpbWVfdG9fb3BlbjogW10sCgogICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICBpZDogJycsCiAgICAgICAgICAgICAgICAgICAgIHdvcmtfZGF5OiAnMicsCiAgICAgICAgICAgICAgICAgICAgIHJlc2VydmF0aW9uX3R5cGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2VydmF0aW9uX3R5cGVfbmFtZTogJycKICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNfbmFtZV9hcjogJycKICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgcmVzZXJ2YXRpb25zX251bWJlcjogJycsCiAgICAgICAgICAgICAgICAgICAgIHRpbWVfdG9fb3BlbjogW10sCgoKICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgaWQ6ICcnLAogICAgICAgICAgICAgICAgICAgICB3b3JrX2RheTogJzMnLAogICAgICAgICAgICAgICAgICAgICByZXNlcnZhdGlvbl90eXBlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICByZXNlcnZhdGlvbl90eXBlX25hbWU6ICcnCiAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIHJlc2VydmF0aW9uc19udW1iZXI6ICcnLAogICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c19uYW1lX2FyOiAnJwogICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICB0aW1lX3RvX29wZW46IFtdLAoKCiAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgICAgICAgICAgd29ya19kYXk6ICc0JywKICAgICAgICAgICAgICAgICAgICAgcmVzZXJ2YXRpb25fdHlwZTogewogICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXJ2YXRpb25fdHlwZV9uYW1lOiAnJwogICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICByZXNlcnZhdGlvbnNfbnVtYmVyOiAnJywKICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNfbmFtZV9hcjogJycKICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgdGltZV90b19vcGVuOiBbXSwKCgogICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICBpZDogJycsCiAgICAgICAgICAgICAgICAgICAgIHdvcmtfZGF5OiAnNScsCiAgICAgICAgICAgICAgICAgICAgIHJlc2VydmF0aW9uX3R5cGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2VydmF0aW9uX3R5cGVfbmFtZTogJycKICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNfbmFtZV9hcjogJycKICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgcmVzZXJ2YXRpb25zX251bWJlcjogJycsCiAgICAgICAgICAgICAgICAgICAgIHRpbWVfdG9fb3BlbjogW10sCgoKICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgaWQ6ICcnLAogICAgICAgICAgICAgICAgICAgICB3b3JrX2RheTogJzYnLAogICAgICAgICAgICAgICAgICAgICByZXNlcnZhdGlvbl90eXBlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICByZXNlcnZhdGlvbl90eXBlX25hbWU6ICcnCiAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIHJlc2VydmF0aW9uc19udW1iZXI6ICcnLAogICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c19uYW1lX2FyOiAnJwogICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICB0aW1lX3RvX29wZW46IFtdLAoKCiAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgIF0sCgogICAgICAgICB9LAogICAgICAgICB2YWxpZDogZmFsc2UsCgogICAgICAgICBkZWR1Y3Rpb246ICcnLAogICAgICAgICBkYXlzOiBbItin2YTYs9io2KoiLCAi2KfZhNin2K3YryIsICLYp9mE2KfYq9mG2YrZhiIsICLYp9mE2KvZhNin2KvYp9ihIiwgItin2YTYp9ix2KjYudin2KEiLCAi2KfZhNiu2YXZitizIiwgItin2YTYrNmF2LnYqSIsICLZg9mEINin2YTYp9mK2KfZhSJdLAogICAgICAgICB0aW1lczogWyIxOjAwINmFIiwgIjI6MDAg2YUiLCAiMzowMCDZhSIsICI0OjAwINmFICIsICI1OjAwINmFIiwgIjY6MDAg2YUiLCAiNzowMCDZhSAiLCAiODowMCDZhSIsICI5OjAwINmFIiwKICAgICAgICAgICAgICIxMDowMCDZhSIsCiAgICAgICAgICAgICAiMTE6MDAg2YUiLCAiMTI6MDAg2YUiLAogICAgICAgICAgICAgIjE6MDAg2LUiLCAiMjowMCDYtSIsICIzOjAwINi1IiwgIjQ6MDAg2LUgIiwgIjU6MDAg2LUiLCAiNjowMCDYtSIsICI3OjAwINi1ICIsICI4OjAwINi1IiwgIjk6MDAg2LUiLAogICAgICAgICAgICAgIjEwOjAwINi1IiwKICAgICAgICAgICAgICIxMTowMCDYtSIsICIxMjowMCDYtSIKICAgICAgICAgXSwKCiAgICAgICAgIGltZ19jbGljZWQ6IC0xLAogICAgICAgICBkYXlfdG9fb3BlbjogW3sKCiAgICAgICAgICAgICBldmVyeV9kYXk6IDAsCiAgICAgICAgICAgICBldmVyeV90aW1lOiAwLAogICAgICAgICAgICAgZnJvbV9kYXk6ICIiLAogICAgICAgICAgICAgZnJvbV90aW1lOiAiIiwKICAgICAgICAgICAgIHRvX2RheTogIiIsCiAgICAgICAgICAgICB0b190aW1lOiAiIiwKICAgICAgICAgICAgIG1heF9yZXF1ZXN0czogMAogICAgICAgICB9XSwKCiAgICAgICAgIG5hbWVSdWxlczogWwogICAgICAgICAgICAgdiA9PiAhIXYgfHwgJ9mH2LDYpyDYp9mE2K3ZgtmEINmF2LfZhNmI2KggICcsCgogICAgICAgICBdLAogICAgICAgICBudW1iZXJSdWw6IFsKICAgICAgICAgICAgIHYgPT4gISF2IHx8ICfZh9iw2Kcg2KfZhNit2YLZhCDZhdi32YTZiNioICAnLAoKICAgICAgICAgICAgIHYgPT4gIWlzTmFOKHYpIHx8ICfZitis2Kgg2KfYr9iu2KfZhCDYsdmC2YUgJywKICAgICAgICAgXSwKICAgICAgICAgUmVzZXJ2YXRpb25UeXBlUnVsZXM6IFsKICAgICAgICAgICAgIHYgPT4gISF2IHx8ICfZh9iw2Kcg2KfZhNit2YLZhCDZhdi32YTZiNioICAnLAogICAgICAgICAgICAgdiA9PiAhaXNOYU4odi5pZCkgfHwgJ9mK2KzYqCDYp9iv2K7Yp9mEINix2YLZhSAnLAoKICAgICAgICAgXSwKCiAgICAgICAgIHRvX3RpbWVSdWxlczogWwogICAgICAgICAgICAgdiA9PiAhIXYgfHwgJ9mH2LDYpyDYp9mE2K3ZgtmEINmF2LfZhNmI2KggICcsCiAgICAgICAgICAgICB2ID0+ICFpc05hTih2KSB8fCAn2YrYrNioINin2K/Yrtin2YQg2LHZgtmFICcsCgogICAgICAgICBdLAoKICAgICAgICAgVGltZVN0YXR1c1J1bGVzOiBbCiAgICAgICAgICAgICB2ID0+ICEhdiB8fCAn2YfYsNinINin2YTYrdmC2YQg2YXYt9mE2YjYqCAgJywKICAgICAgICAgICAgIHYgPT4gIWlzTmFOKHYuaWQpIHx8ICfZitis2Kgg2KfYr9iu2KfZhCDYsdmC2YUgJywKCiAgICAgICAgIF0sCgogICAgICAgICBwYXltZW50UnVsOiBbCiAgICAgICAgICAgICB2ID0+ICEhdiB8fCAn2YfYsNinINin2YTYrdmC2YQg2YXYt9mE2YjYqCAgJywKCiAgICAgICAgICAgICB2ID0+ICFpc05hTih2KSB8fCAn2YrYrNioINin2K/Yrtin2YQg2LHZgtmFICcsCgogICAgICAgICBdLAogICAgICAgICBEYXlTdGF0dXNSdWxlczogWwogICAgICAgICAgICAgdiA9PiAhIXYgfHwgJ9mH2LDYpyDYp9mE2K3ZgtmEINmF2LfZhNmI2KggICcsCgogICAgICAgICAgICAgdiA9PiAhaXNOYU4odikgfHwgJ9mK2KzYqCDYp9iv2K7Yp9mEINix2YLZhSAnLAoKICAgICAgICAgXSwKCgogICAgICAgICBudW1iZXJSdWwxOiBbCgogICAgICAgICAgICAgdiA9PiAhaXNOYU4odikgfHwgJ9mK2KzYqCDYp9iv2K7Yp9mEINix2YLZhSAnLAogICAgICAgICBdLAogICAgICAgICBkZXNjcmlwdFJ1bGVzOiBbCiAgICAgICAgICAgICB2ID0+ICEhdiB8fCAn2YfYsNinINin2YTYrdmC2YQg2YXYt9mE2YjYqCAgJywKICAgICAgICAgICAgIHYgPT4gdi5sZW5ndGggPj0gMjAgfHwgJ9mK2KzYqCDYp9mGINmK2YPZiNmGINin2YTZiNi12YEg2KfZg9ir2LEg2YXZhiDZotmgINit2LHZgSAnLAogICAgICAgICBdLAogICAgICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgICAgcHJvdmluY2U6IFtdLAogICAgICAgICBpbWFnZU5hbWU6ICcnLAogICAgICAgICBpbWFnZVVybDogJycsCiAgICAgICAgIGNvdW50cmllczogW3sKICAgICAgICAgICAgIG5hbWU6ICfYp9mE2LnYsdin2YInLAogICAgICAgICAgICAgaWQ6IDEKICAgICAgICAgfV0sCiAgICAgICAgIGltYWdlRmlsZTogJycsCgoKICAgICAgICAgcGF5bWVudDogZmFsc2UsCiAgICAgICAgIGltYWdlczogWydhJywgJ2EnLCAnYScsICdhJ10sCiAgICAgICAgIGZyZWVfY2FuY2VsbGF0aW9uOiBmYWxzZSwKICAgICAgICAgZGVkdWN0aW9udmFsdWU6IDAsCiAgICAgICAgIGV2ZXJ5ZGF5OiBmYWxzZSwKICAgICAgICAgZXZlcnl0aW1lOiBmYWxzZSwKICAgICAgICAgZnJvbWRheTogJycsCiAgICAgICAgIHRvZGF5OiAnJywKICAgICAgICAgZnJvbXRpbWU6ICcnLAogICAgICAgICB0b3RpbWU6ICcnLAogICAgICAgICBjdXJyZW50X3BhZ2U6IDEsCiAgICAgICAgIGxhc3RfcGFnZTogMCwKICAgICAgICAgb2ZmZXJfZGlhbG9nOiBmYWxzZSwKICAgICAgICAgc3ViY2F0ZWdvcnk6IFtdLAogICAgICAgICBzdWJfY2F0ZWdvcnlfaWQ6ICcnLAogICAgICAgICBjYXRlZ29yeTogW10sCiAgICAgICAgIHJlc2Vydl90eXBlX2lkMTogLTEsCiAgICAgICAgIHZhbGlkX2RheTogdHJ1ZSwKICAgICAgICAgLy8gZWRpdGVkSXRlbS5BZGRyZXNzLmFkZHJlc3NfZGVzY3JhcHRpb246ICcnLAogICAgICAgICBsYXQ6IDAsCiAgICAgICAgIGxuZzogMCwKCgogICAgIH0pLAoKCgogICAgIG1ldGhvZHM6IHsKICAgICAgICAgeHgoKSB7CiAgICAgICAgICAgICB0aGlzLmVkaXRlZEluZGV4dGltZT0tMTsKICAgICAgICAgICAgIHRoaXMuZWRpdGVUaW1lT3BlbiA9IHsKCiAgICAgICAgICAgICAgICAgaWQ6ICcnLAogICAgICAgICAgICAgICAgIGFjdGlvbl9pZDogJycsCiAgICAgICAgICAgICAgICAgZnJvbV90aW1lOiAnJywKICAgICAgICAgICAgICAgICB0b190aW1lOiAnJywKICAgICAgICAgICAgICAgICBtYXhfcmVxdWVzdDogJycsCiAgICAgICAgICAgICAgICAgcmVzZXJ2YXRpb25zX251bWJlcjogJycsCiAgICAgICAgICAgICAgICAgc3RhdHVzOiB7CiAgICAgICAgICAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgICAgICAgICAgc3RhdHVzX25hbWVfYXI6ICcnCiAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICByZXNlcnZhdGlvbl90eXBlOiB7CiAgICAgICAgICAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgICAgICAgICAgcmVzZXJ2YXRpb25fdHlwZV9uYW1lOiAnJwogICAgICAgICAgICAgICAgIH0sCgogICAgICAgICAgICAgfQoKICAgICAgICAgfSwKICAgICAgICAgY2FuY2VsX2RheSgpIHsKICAgICAgICAgICAgIGlmICh0aGlzLiRyZWZzLnZhbGlkX2RheV9vcGVuLnZhbGlkYXRlKCkpIHsKICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICBpZih0aGlzLmVkaXRlRGF5T3Blbi5zdGF0dXM9PTYgJiYgdGhpcy5lZGl0ZWRJdGVtLmRheV90b19vcGVuW3RoaXMuZWRpdGVkSW5kZXhkYXldLnRpbWVfdG9fb3Blbi5sZW5ndGg9PTApCiAgICAgICAgICAgICAgICAgewoKICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ9mK2LHYrNimINin2K7YqtmK2KfYsSDZiNmC2Kog2KfYsNinINmD2KfZhiDYp9mE2YXYsdmD2LIg2YXZgdiq2YjYrSDZgdmKINmH2KfYsNinINin2YTZitmI2YUnKTsKICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRlZEl0ZW0uZGF5X3RvX29wZW5bdGhpcy5lZGl0ZWRJbmRleGRheV0uc3RhdHVzWydpZCddID0gdGhpcy5lZGl0ZURheU9wZW4uc3RhdHVzLmlkOwogICAgICAgICAgICAgICAgIHRoaXMuRGF5RGlhbG9nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgdGhpcy50aW1lX2RpYWxvZz1mYWxzZTsKICAgICAgICAgICAgICAgICB0aGlzLmVkaXRlVGltZU9wZW4gPSB7CgogICAgICAgICAgICAgICAgICAgICBpZDogJycsCiAgICAgICAgICAgICAgICAgICAgIGFjdGlvbl9pZDogJycsCiAgICAgICAgICAgICAgICAgICAgIGZyb21fdGltZTogJycsCiAgICAgICAgICAgICAgICAgICAgIHRvX3RpbWU6ICcnLAogICAgICAgICAgICAgICAgICAgICBtYXhfcmVxdWVzdDogJycsCiAgICAgICAgICAgICAgICAgICAgIHJlc2VydmF0aW9uc19udW1iZXI6ICcnLAogICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c19uYW1lX2FyOiAnJwogICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICByZXNlcnZhdGlvbl90eXBlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICByZXNlcnZhdGlvbl90eXBlX25hbWU6ICcnCiAgICAgICAgICAgICAgICAgICAgIH0sCgogICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgIH0KCgoKCgogICAgICAgICB9LAogICAgICAgICAgIGNsb3NlX3RpbWVfRGFpbG9nICgpIHsKICAgICB0aGlzLmVkaXRlZEluZGV4dGltZSA9LTE7CiAgICAgdGhpcy50aW1lX2RpYWxvZz1mYWxzZTsKICAgfSwKCgogICAgICAgICBlZGl0ZWRUaW1lT3BlbihpdGVtKSB7CiAgICAgICAgICAgICAgdGhpcy5lZGl0ZWRJbmRleHRpbWUgPSB0aGlzLmVkaXRlRGF5T3Blbi50aW1lX3RvX29wZW4uaW5kZXhPZihpdGVtKQogICAgICAgICAgICAgdGhpcy5lZGl0ZVRpbWVPcGVuID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSk7CgoKICAgICAgICAgfSwKICAgICAgICAgU2V0RGF5U3RhdHVzKCkgewoKICAgICAgICAgfSwKCiAgICAgICAgIHNhdmVfdGltZSgpIHsKCgogICAgICAgICAgICAgaWYgKCF0aGlzLmVkaXRlVGltZU9wZW4ucmVzZXJ2YXRpb25fdHlwZS5pZCA9PSAnICcgfHwgIXRoaXMuZWRpdGVUaW1lT3Blbi5yZXNlcnZhdGlvbl90eXBlLmlkID09IG51bGwgJiYKICAgICAgICAgICAgICAgICAhdGhpcy5lZGl0ZVRpbWVPcGVuLnRvX3RpbWUgPT0gJyAnIHx8ICF0aGlzLmVkaXRlVGltZU9wZW4udG9fdGltZSA9PSBudWxsKQoKICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZWRpdGVUaW1lT3Blbi5zdGF0dXMuaWQgPT0gbnVsbCB8fCAhdGhpcy5lZGl0ZVRpbWVPcGVuLnN0YXR1cy5pZCA9PSAnICcgJiYgIXRoaXMKICAgICAgICAgICAgICAgICAgICAgLmVkaXRlVGltZU9wZW4uZnJvbV90aW1lID09ICcgJyB8fCAhdGhpcy5lZGl0ZVRpbWVPcGVuLmZyb21fdGltZSA9PSBudWxsKSB7CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgIC8vIGlmICh0aGlzLiRyZWZzLnZhbGlkX2RheV9vcGVuLnZhbGlkYXRlKCkpIHsKICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZWRpdGVkSW5kZXh0aW1lICA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5lZGl0ZURheU9wZW4udGltZV90b19vcGVuW3RoaXMuZWRpdGVkSW5kZXh0aW1lXSwgdGhpcy5lZGl0ZVRpbWVPcGVuICk7CiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlX3RpbWVfRGFpbG9nKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewoKCiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRlRGF5T3Blbi50aW1lX3RvX29wZW4ucHVzaCh0aGlzLmVkaXRlVGltZU9wZW4pOwoKICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5lZGl0ZWRJdGVtLmRheV90b19vcGVuW3RoaXMuZWRpdGVkSW5kZXhkYXldLnRpbWVfdG9fb3BlbiwgdGhpcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5lZGl0ZVRpbWVPcGVuKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZvcih2YXIgaT0wO2k8PXRoaXMuZWRpdGVkSXRlbS5kYXlfdG9fb3Blblt0aGlzLmVkaXRlZEluZGV4ZGF5XS50aW1lX3RvX29wZW4ubGVuZ3RoO2krKykKICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHsKICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBpZih0aGlzLmVkaXRlZEl0ZW0uZGF5X3RvX29wZW5bdGhpcy5lZGl0ZWRJbmRleGRheV1bJ3N0YXR1cyddPT02KQogICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy5lZGl0ZWRJdGVtLmRheV90b19vcGVuW3RoaXMuZWRpdGVkSW5kZXhkYXldWydzdGF0dXMnXT02OwogICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBicmVhazsKCgogICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgdGhpcy5lZGl0ZWRJdGVtLmRheV90b19vcGVuW3RoaXMuZWRpdGVkSW5kZXhkYXldWydzdGF0dXMnXT03OwoKICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB9CgoKICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlX3RpbWVfRGFpbG9nKCk7CgoKCgogICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuY2xvc2UoKQoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgLy8gfQoKCgoKCgogICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfZitix2KzYpiDZhdmE2KYg2KzZhdmK2Lkg2KfZhNit2YLZiNmEJyk7CiAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICBhbGVydCgn2YrYsdis2KYg2YXZhNimINis2YXZiti5INin2YTYrdmC2YjZhCcpOwogICAgICAgICAgICAgfQoKCgogICAgICAgICB9LAoKCiAgICAgICAgIHRyKCkgewogICAgICAgICAgICAgaWYgKHRoaXMuZWRpdGVkSXRlbS5wcmljZS5wYXltZW50X3doZW5fcmVjZWl2aW5nID09IDIpIHsKICAgICAgICAgICAgICAgICB0aGlzLmVkaXRlZEl0ZW0ucHJpY2UucGF5bWVudF93aGVuX3JlY2VpdmluZyA9IDA7CgogICAgICAgICAgICAgfQoKICAgICAgICAgfSwKCiAgICAgICAgIGVkaXRJdGVtRmVhdHVyZXMoaXRlbSkgewogICAgICAgICAgICAgdGhpcy5lZGl0ZWRJbmRleEl0ZW1GZWF0dXJlcyA9IHRoaXMuZWRpdGVkSXRlbS5JdGVtRmVhdHVyZXMuaW5kZXhPZihpdGVtKQogICAgICAgICAgICAgdGhpcy5lZGl0ZUl0ZW1GZWF0dXJlcyA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pCiAgICAgICAgICAgICB0aGlzLkl0ZW1GZWF0dXJlc0RpYWxvZyA9IHRydWU7CgogICAgICAgICB9LAogICAgICAgICBBZGRJdGVtRmVhdHVyZXMoKSB7CiAgICAgICAgICAgICB0aGlzLmVkaXRlSXRlbUZlYXR1cmVzID0ge307CiAgICAgICAgICAgICB0aGlzLkl0ZW1GZWF0dXJlc0RpYWxvZyA9IHRydWU7CiAgICAgICAgIH0sCgogICAgICAgICBEZWxldGVJdGVtRmVhdHVyZXMoaXRlbSkgewoKCgogICAgICAgICAgICAgY29uc3QgU3dhbCA9IHJlcXVpcmUoJ3N3ZWV0YWxlcnQyJykKCgoKCgoKICAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgdGl0bGU6ICLZh9mEINin2YbYqiDZhdiq2KfZg9ivINmF2YYg2KfZhNit2LDZgSDYnyIsCgogICAgICAgICAgICAgICAgIGljb246ICJ3YXJuaW5nIiwKICAgICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogJyMzMDg1ZDYnLAogICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAnI2QzMycsCiAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdZZXMsIGRlbGV0ZSBpdCEnCgogICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7CgogICAgICAgICAgICAgICAgIGlmIChpdGVtLmlkID09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5lZGl0ZWRJdGVtLkl0ZW1GZWF0dXJlcy5pbmRleE9mKGl0ZW0pCiAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGVkSXRlbS5JdGVtRmVhdHVyZXMuc3BsaWNlKGluZGV4LCAxKQoKICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuZWRpdGVkSXRlbS5JdGVtRmVhdHVyZXMuaW5kZXhPZihpdGVtKQogICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRlZEl0ZW0uSXRlbUZlYXR1cmVzLnNwbGljZShpbmRleCwgMSkKICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9ICIvSXRlbUZlYXR1cmVzL293bmVyL2RlbGV0ZS8iICsgaXRlbS5pZDsKICAgICAgICAgICAgICAgICAgICAgYXhpb3MoewogICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnZGVsZXRlJywKICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246J0JlYXJlciAnK3RoaXMudG9rZW4KICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihyZXNwb25zZSA9PiB7CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSwKICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGVkSXRlbS5pbWFnZXNbaW5kZXhdLmltYWdlX3VybCA9ICdhJzsKICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW1nX25hbWUgPSBpbmRleDsKICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VzW2luZGV4XSA9ICdhJzsKCiAgICAgICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ9iq2YUg2KfZhNit2LDZgSDYqNmG2KzYp9itJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3VjY2VzcycKICAgICAgICAgICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yCiAgICAgICAgICAgICAgICAgICAgIH0pLmZpbmFsbHkoZCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICBkLAoKICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0aXRlbXMoKTsKICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICB9KQoKICAgICAgICAgICAgIC8vIGNvbmZpcm0oJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBpdGVtPycpICYmdGhpcy5lZGl0ZWRJdGVtLkl0ZW1GZWF0dXJlcy5zcGxpY2UoaW5kZXgsIDEpCgogICAgICAgICB9LAogICAgICAgICBzYXZlX0l0ZW1GZWF0dXJlcygpIHsKCiAgICAgICAgICAgICBpZiAodGhpcy4kcmVmcy52YWxpZF9JdGVtRmVhdHVyZXMpIHsKCgogICAgICAgICAgICAgICAgIGlmICh0aGlzLmVkaXRlZEluZGV4SXRlbUZlYXR1cmVzID4gLTEpIHsKCiAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5lZGl0ZWRJdGVtLkl0ZW1GZWF0dXJlc1t0aGlzLmVkaXRlZEluZGV4SXRlbUZlYXR1cmVzXSwgdGhpcwogICAgICAgICAgICAgICAgICAgICAgICAgLmVkaXRlSXRlbUZlYXR1cmVzKQoKICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmVkaXRlSXRlbUZlYXR1cmVzKTsKCiAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGVkSXRlbS5JdGVtRmVhdHVyZXMucHVzaCh0aGlzLmVkaXRlSXRlbUZlYXR1cmVzKQoKICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgdGhpcy5JdGVtRmVhdHVyZXNEaWFsb2cgPSBmYWxzZQogICAgICAgICAgICAgfQoKCiAgICAgICAgIH0sCiAgICAgICAgIC8vIHNhdmVfZGF0ZSgpIHsKCiAgICAgICAgIC8vICAgICBpZiAodGhpcy5lZGl0ZWRheV90b19vcGVuLnN0YXR1cy5pZCA9PSA2KSB7CiAgICAgICAgIC8vICAgICAgICAgaWYgKHRoaXMuZWRpdGVkYXlfdG9fb3Blbi50aW1lX3RvX29wZW5bMF0uZnJvbV90aW1lID09IG51bGwgfHwgdGhpcy5lZGl0ZWRheV90b19vcGVuLnRpbWVfdG9fb3BlblswXQogICAgICAgICAvLyAgICAgICAgICAgICAuZnJvbV90aW1lID09ICcnKSB7CiAgICAgICAgIC8vICAgICAgICAgICAgIGFsZXJ0KCfZitis2Kgg2KfYrtiq2YrYp9ixINmB2KrYsdmHINin2LDYpyDZg9in2YbYqiDYrdin2YTZhyDYp9mE2YXYsdmD2LIg2YXZgdiq2YjYrSDZgdmKINmH2KfYsNinINin2YTZitmI2YUnKTsKICAgICAgICAgLy8gICAgICAgICB9IGVsc2UgaWYgKHRoaXMuJHJlZnMudmFsaWRfZGF5X29wZW4udmFsaWRhdGUoKSkgewogICAgICAgICAvLyAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZGF5X3RvX29wZW5bdGhpcy5lZGl0ZWRJbmRleGRheV0sIHRoaXMuZWRpdGVkYXlfdG9fb3BlbikKICAgICAgICAgLy8gICAgICAgICAgICAgdGhpcy5EYXlEaWFsb2cgPSBmYWxzZQoKICAgICAgICAgLy8gICAgICAgICB9CgogICAgICAgICAvLyAgICAgfSBlbHNlIHsKICAgICAgICAgLy8gICAgICAgICBpZiAodGhpcy4kcmVmcy52YWxpZF9kYXlfb3Blbi52YWxpZGF0ZSgpKSB7CiAgICAgICAgIC8vICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5kYXlfdG9fb3Blblt0aGlzLmVkaXRlZEluZGV4ZGF5XSwgdGhpcy5lZGl0ZWRheV90b19vcGVuKQogICAgICAgICAvLyAgICAgICAgICAgICB0aGlzLkRheURpYWxvZyA9IGZhbHNlCiAgICAgICAgIC8vICAgICAgICAgfQogICAgICAgICAvLyAgICAgfQoKICAgICAgICAgLy8gfSwKCiAgICAgICAgIHNhdmVfZGF0ZSgpIHsKICAgICAgICAgICAgIC8vIGFsZXJ0KHRoaXMuZWRpdGVkSW5kZXh0aW1lKTsKCiAgICAgICAgICAgICBpZiAodGhpcy5lZGl0ZURheU9wZW4uc3RhdHVzLmlkID09IDYpIHsKICAgICAgICAgICAgICAgICBpZiAodGhpcy5lZGl0ZVRpbWVPcGVuLmZyb21fdGltZSA9PSBudWxsIHx8IHRoaXMuZWRpdGVUaW1lT3Blbi5mcm9tX3RpbWUgPT0gJycpIHsKICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ9mK2KzYqCDYp9iu2KrZitin2LEg2YHYqtix2Ycg2KfYsNinINmD2KfZhtiqINit2KfZhNmHINin2YTZhdix2YPYsiDZhdmB2KrZiNitINmB2Yog2YfYp9iw2Kcg2KfZhNmK2YjZhScpOwogICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy4kcmVmcy52YWxpZF9kYXlfb3Blbi52YWxpZGF0ZSgpKSB7CiAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5lZGl0ZWRJdGVtLmRheV90b19vcGVuW3RoaXMuZWRpdGVkSW5kZXh0aW1lXSwgdGhpcy5lZGl0ZWRUaW1lT3BlbikKICAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lX2RpYWxvZyA9IGZhbHNlCgogICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgIGlmICh0aGlzLiRyZWZzLnZhbGlkX2RheV9vcGVuLnZhbGlkYXRlKCkpIHsKICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmVkaXRlZEl0ZW0uZGF5X3RvX29wZW5bdGhpcy5lZGl0ZWRJbmRleHRpbWVdLCB0aGlzLmVkaXRlZFRpbWVPcGVuKQogICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVfZGlhbG9nID0gZmFsc2UKICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICB9CgogICAgICAgICB9LAoKICAgICAgICAgZWRpdEl0ZW0oaXRlbSkgewoKICAgICAgICAgICAgIHRoaXMuZWRpdGVkSW5kZXhkYXkgPSB0aGlzLmVkaXRlZEl0ZW0uZGF5X3RvX29wZW4uaW5kZXhPZihpdGVtKQogICAgICAgICAgICAgLy8vIGFsZXJ0KHRoaXMuZWRpdGVkSW5kZXhkYXkpOwogICAgICAgICAgICAgLy8gICBhbGVydCh0aGlzLmVkaXRlZEluZGV4ZGF5KTsKICAgICAgICAgICAgIHRoaXMuZWRpdGVEYXlPcGVuID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSkKICAgICAgICAgICAgIHRoaXMuRGF5RGlhbG9nID0gdHJ1ZQogICAgICAgICAgICAgaWYgKGl0ZW0ucmVzZXJ2YXRpb25fdHlwZS5pZCA9PSAyKSB7CiAgICAgICAgICAgICAgICAgdGhpcy5yZXNlcnZhdGlvbl9udW0gPSB0cnVlOwogICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICB0aGlzLnJlc2VydmF0aW9uX251bSA9IGZhbHNlOwoKICAgICAgICAgICAgIH0KICAgICAgICAgfSwKCgoKICAgICAgICAgZ2V0ZGF5cyhpbmRleCkgewogICAgICAgICAgICAgdmFyIGRheXMgPSBbItin77u32K3YryIsICLYp++7t9ir2YbZitmGIiwgItin2YTYq9mE2KfYq9in2KEiLCAi2Kfvu7fYsdio2LnYp9ihIiwgItin2YTYrtmF2YrYsyIsICLYp9mE2KzZhdi52KkiLCAi2KfZhNiz2KjYqiJdOwoKICAgICAgICAgICAgIHJldHVybiBkYXlzW2luZGV4XTsKICAgICAgICAgfSwKCiAgICAgICAgIGdldHN0YXR1cyhpbmRleCkgewogICAgICAgICAgICAgaWYgKGluZGV4ID09IDcpIHsKICAgICAgICAgICAgICAgICByZXR1cm4gJ9mF2LrZhNmCJzsKICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT0gNikgewogICAgICAgICAgICAgICAgIHJldHVybiAn2YXZgdiq2YjYrSc7CgogICAgICAgICAgICAgfQoKCiAgICAgICAgIH0sCiAgICAgICAgIGdldHN0YXR1c3MoaW5kZXgpIHsKICAgICAgICAgICAgIGlmIChpbmRleCA9PSAxKSB7CiAgICAgICAgICAgICAgICAgcmV0dXJuICfYutmK2LEg2YXYrdiv2K8nOwogICAgICAgICAgICAgfSBlbHNlIGlmIChpbmRleCA9PSAyKSB7CiAgICAgICAgICAgICAgICAgcmV0dXJuICfYp9iu2KrZitin2LEg2LnYr9ivJzsKCiAgICAgICAgICAgICB9CgoKICAgICAgICAgfSwKICAgICAgICAgZ2V0SXRlbURldGFpbHMoKSB7CgogICAgICAgIAogICAgICAgICAgICAKCgogICAgICAgICAgICAgdmFyIHVybCA9ICIvdjIvaXRlbXMvc2hvdy8iICsgdGhpcy5pdGVtX2lkOwogICAgICAgICAgICAgdGhpcy4kaHR0cCh7CiAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ2dldCcsCiAgICAgICAgICAgICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CgogICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRlZEl0ZW0gPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW1ncyA9IHRoaXMuZWRpdGVkSXRlbS5pbWFnZXM7CiAgICAgICAgICAgICAgICAgICAgIC8vICB0aGlzLkRheU9wZW4gPSByZXNwb25zZS5kYXRhLmRhdGEuZGF5X3RvX29wZW47CiAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVkaXRlZEl0ZW0ucHJpY2UucGF5bWVudF93aGVuX3JlY2VpdmluZyA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRlZEl0ZW0ucHJpY2UucGF5bWVudF93aGVuX3JlY2VpdmluZyA9IDI7CiAgICAgICAgICAgICAgICAgICAgIH0KCgogICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lZGl0ZWRJdGVtLmltYWdlcy5sZW5ndGggPCA0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29tcGxldEltZ0FycmF5TGVuZ3RoID0gNCAtIHRoaXMuZWRpdGVkSXRlbS5pbWFnZXMubGVuZ3RoOwoKICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tcGxldEltZ0FycmF5TGVuZ3RoOyBpKyspIHsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0ZWRJdGVtLmltYWdlcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VfcGF0aDogJ2EnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lZGl0ZWRJdGVtLmltYWdlc1tpXS5pbWFnZV9wYXRoICE9ICdhJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VzW2ldID0gImh0dHA6Ly8xMDkuMjI0LjUzLjE1NS9pbWFnZXMvIiArIHRoaXMuZWRpdGVkSXRlbS5pbWFnZXNbaV0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmltYWdlX3VybDsKICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRTdWJDYXRlZ29yeSgpOwoKCgoKICAgICAgICAgICAgICAgICB9KQogICAgICAgICB9LAoKCiAgICAgICAgIGRlbGV0ZV9pbWcoaW1nX2lkLCBpbmRleCkgewoKCiAgICAgICAgICAgICB0aGlzLnVzZXJfaW5mbyA9IHRoaXMuJGNvb2tpZXMuZ2V0KCdhZG1pbl9pbmZvJyk7CgogICAgICAgICAgICAgdGhpcy50b2tlbiA9IHRoaXMudXNlcl9pbmZvLnRva2VuOwogICAgICAgICAgICAgY29uc3QgU3dhbCA9IHJlcXVpcmUoJ3N3ZWV0YWxlcnQyJyk7CgoKCiAgICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgIHRpdGxlOiAi2YfZhCDYp9mG2Kog2YXYqtin2YPYryDZhdmGINin2YTYrdiw2YEg2J8iLAoKICAgICAgICAgICAgICAgICBpY29uOiAid2FybmluZyIsCiAgICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjMzA4NWQ2JywKICAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogJyNkMzMnLAogICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnWWVzLCBkZWxldGUgaXQhJwoKICAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWdfY2xpY2VkID0gaW5kZXg7CgoKICAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0ZWRJdGVtLmltYWdlc1tpbmRleF0uaW1hZ2VfdXJsID0gJ2EnOwogICAgICAgICAgICAgICAgICAgICB0aGlzLmltZ19uYW1lID0gaW5kZXg7CiAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VzW2luZGV4XSA9ICdhJzsKCiAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSAiL3YyL2l0ZW1zL2RlbGV0ZV9pbWFnZS8iICsgaW1nX2lkOwogICAgICAgICAgICAgICAgICAgICBheGlvcyh7CiAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICdCZWFyZXIgJyArIHRoaXMudG9rZW4KICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gewoKICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLAogICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0ZWRJdGVtLmltYWdlc1tpbmRleF0uaW1hZ2VfdXJsID0gJ2EnOwogICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3QgaW1wb3J0YW50CiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmltZ19uYW1lID0gaW5kZXg7CiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmltYWdlc1tpbmRleF0gPSAnYSc7CgogICAgICAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICfYqtmFINin2YTYrdiw2YEg2KjZhtis2KfYrScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnCiAgICAgICAgICAgICAgICAgICAgICAgICApCgogICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcgogICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuJHN3YWwoJ9iu2LfYp9ihJywgItiu2LfYp9ihINio2KfZhNin2KrYtdin2YQiLCAnZXJyb3InKQogICAgICAgICAgICAgICAgICAgICB9KS5maW5hbGx5KGQgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgZCwKCiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldGl0ZW1zKCk7CiAgICAgICAgICAgICAgICAgICAgIH0pOwoKCgogICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgIH0pCgoKCgogICAgICAgICB9LAoKCiAgICAgICAgIGNhbmNlbCgpIHsKICAgICAgICAgICAgIHRoaXMuJHJlZnMuZm9ybS5yZXNldCgpLAogICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoImNoYW5nZVN0YXR1cyIsIGZhbHNlKTsKICAgICAgICAgfSwKCiAgICAgICAgIGVkaXR0KCkgewogICAgICAgICAgICAgLy8gYWxlcnQodGhpcy5pdGVtX2lkKTsKICAgICAgICAgICAgIHRoaXMuJGVtaXQoImVkaXRlX2l0ZW0iKTsKCiAgICAgICAgIH0sCgogICAgICAgICBzdGVwMSgpIHsKICAgICAgICAgICAgIHRoaXMuZTEgPSAxOwogICAgICAgICAgICAgdGhpcy5DaGVja19QcmltZXJ5KCk7CgoKICAgICAgICAgfSwKCiAgICAgICAgIHN0ZXAyKCkgewoKICAgICAgICAgICAgIHRoaXMuZTEgPSAyOwogICAgICAgICAgICAgdGhpcy5DaGVja19QcmltZXJ5KCk7CiAgICAgICAgICAgICAvLyB0aGlzLkNoZWNrX3BheW1lbnQoKTsKICAgICAgICAgICAgIC8vIHRoaXMuQ2hlY2tfYWRkcmVzcygpOwoKCiAgICAgICAgIH0sCgogICAgICAgCiAgICAgICAgIHN0ZXAzKCkgewogICAgICAgICAgICAgdGhpcy5lMSA9IDM7CiAgICAgICAgICAgICB0aGlzLkNoZWNrX1ByaW1lcnkoKTsKICAgICAgICAgICAgIHRoaXMuQ2hlY2tfYWRkcmVzcygpOwogICAgICAgICAgICAgLy8gIHRoaXMuQ2hlY2tfZGF0ZSgpOwogICAgICAgICAgICAgLy8gdGhpcy5DaGVja19wYXltZW50KCk7CgoKICAgICAgICAgfSwKICAgICAgICAKCiAgICAgICAKCgoKCgoKICAgICAgCgoKICAgICAgICAgQ2hlY2tfUHJpbWVyeSgpIHsKCgoKCiAgICAgICAgICAgICB0aGlzLmVycm9yc19wcmltZXJ5ID0gW107CgogICAgICAgICAgICAgaWYgKCF0aGlzLmVkaXRlZEl0ZW0uaXRlbV9uYW1lIHx8ICF0aGlzLmVkaXRlZEl0ZW0uc3ViX2NhdGVnb3J5LmNhdGVnb3J5X2lkIHx8ICF0aGlzLmVkaXRlZEl0ZW0KICAgICAgICAgICAgICAgICAuc3ViX2NhdGVnb3J5CiAgICAgICAgICAgICAgICAgLmlkIHx8ICF0aGlzLmVkaXRlZEl0ZW0uaXRlbV9kZXNjcmlwdGlvbikgewoKCiAgICAgICAgICAgICAgICAgdGhpcy5lcnJvcnNfcHJpbWVyeS5wdXNoKCLZitix2KzYpiDZhdmE2KYg2KfZhNit2YLZiNmEIik7CiAgICAgICAgICAgICB9CgoKICAgICAgICAgICAgIGlmICh0aGlzLmVycm9yc19wcmltZXJ5Lmxlbmd0aCkgewogICAgICAgICAgICAgICAgIHRoaXMuZXIxID0gZmFsc2U7CiAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgIHRoaXMuZXIxID0gdHJ1ZTsKICAgICAgICAgICAgIH0KCgogICAgICAgICB9LAoKCgogICAgICAgICBDaGVja19hZGRyZXNzKCkgewoKICAgICAgICAgICAgIHRoaXMuZXJyb3JzX2FkZHJlc3MgPSBbXTsKICAgICAgICAgICAgIGlmICghdGhpcy5lZGl0ZWRJdGVtLkFkZHJlc3MucHJvdmluY2UuY291bnRyeV9pZCB8fCAhdGhpcy5lZGl0ZWRJdGVtLkFkZHJlc3MucHJvdmluY2UuaWQgfHwgIXRoaXMKICAgICAgICAgICAgICAgICAuZWRpdGVkSXRlbS5BZGRyZXNzLmFkZHJlc3NfZGVzY3JhcHRpb24pIHsKICAgICAgICAgICAgICAgICB0aGlzLmVycm9yc19hZGRyZXNzLnB1c2goItmK2LHYrNimINmF2YTYpiDYp9mE2K3ZgtmI2YQiKTsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgIGlmICh0aGlzLmVycm9yc19hZGRyZXNzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgIHRoaXMuZXJfYWRkcmVzcyA9IGZhbHNlOwogICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICB0aGlzLmVyX2FkZHJlc3MgPSB0cnVlOwogICAgICAgICAgICAgfQogICAgICAgICB9LAoKCiAgICAgICAgIENoZWNrX3BheW1lbnQoKSB7CgogICAgICAgICAgICAgdGhpcy5lcnJvcnNfcGF5bWVudCA9IFtdOwoKCiAgICAgICAgICAgICBpZiAoIXRoaXMuJHJlZnMudmFsaWRfcGF5bWVudC52YWxpZGF0ZSgpKSB7CiAgICAgICAgICAgICAgICAgdGhpcy5lcnJvcnNfcGF5bWVudC5wdXNoKCLZitix2KzYpiDZhdmE2KYg2KfZhNit2YLZiNmEIik7CiAgICAgICAgICAgICB9CgogICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIGlmICghdGhpcy5lZGl0ZWRJdGVtLnByaWNlLnByaWNlX3ZhbHVlICkgewoKICAgICAgICAgICAgIC8vICAgaWYgKHRoaXMuZWRpdGVkSXRlbS5wcmljZS5wYXltZW50X3doZW5fcmVjZWl2aW5nICE9PTEgfHwgdGhpcy5lZGl0ZWRJdGVtLnByaWNlLnBheW1lbnRfd2hlbl9yZWNlaXZpbmcgIT09MCApIHsKCgogICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yc19wYXltZW50LnB1c2goItmK2LHYrNimINiq2K3Yr9mK2K8g2LfYsdmK2YLZhyDYp9mE2K/Zgdi5Iik7CiAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvcnNfcGF5bWVudC5wdXNoKCLZitix2KzYpiDZhdmE2KYg2KfZhNit2YLZiNmEIik7CiAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBpZiAodGhpcy5lcnJvcnNfcGF5bWVudC5sZW5ndGgpIHsKICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcl9wYXltZW50ID0gZmFsc2U7CiAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcl9wYXltZW50ID0gdHJ1ZTsKICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAgICAgIH0sCgoKCgoKICAgICAgICAgZ2V0bG9jYXRpb24obGF0LCBsbmcpIHsKCiAgICAgICAgICAgICB0aGlzLmVkaXRlZEl0ZW0uYWRkcmVzcy5sYXQgPSBsYXQ7CiAgICAgICAgICAgICB0aGlzLmVkaXRlZEl0ZW0uYWRkcmVzcy5sb25nID0gbG5nCiAgICAgICAgICAgICB0aGlzLm1hcF9kaWFsb2cgPSBmYWxzZTsKCgogICAgICAgICB9LAogICAgICAgICBwcmljZV9wZXJjZW50YWdlKHYpIHsKCiAgICAgICAgICAgICB0aGlzLm9mZmVyX2luZm8ubmV3X3ByaWNlID0gdGhpcy5vZmZlcl9pbmZvLm9sZF9wcmljZTsKICAgICAgICAgICAgIHRoaXMub2ZmZXJfaW5mby5uZXdfcHJpY2UgPSB0aGlzLm9mZmVyX2luZm8ub2xkX3ByaWNlIC0gKHRoaXMub2ZmZXJfaW5mby5vbGRfcHJpY2UgKiAodiAvIDEwMCkpOwogICAgICAgICAgICAgdGhpcy5vZmZlcl9pbmZvLmRpc2NvdW50X3BlcmNlbnRhZ2UgPSB2OwoKCgogICAgICAgICB9LAoKCgoKCgoKICAgICAgICAgY2hhbmdlX3RpbWVkYXkoKSB7CiAgICAgICAgICAgICB0aGlzLmRheV90b19vcGVuLmxlbmd0aCA9IDA7CiAgICAgICAgIH0sCiAgICAgICAgIHNlbGVjdF9yZXNlcl90eXBlMShpZCkgewoKICAgICAgICAgICAgIHRoaXMucmVzZXJ2X3R5cGVfaWQxID0gaWQ7CiAgICAgICAgIH0sCiAgICAgICAgIHNlbGVjdF9yZXNlcl90eXBlKGlkKSB7CgogICAgICAgICAgICAgdGhpcy5yZXNlcnZfdHlwZV9pZCA9IGlkOwogICAgICAgICAgICAgaWYgKGlkID09IDEpIHsKICAgICAgICAgICAgICAgICB0aGlzLmJvb2tfZHVyX3N0YXR1cyA9IHRydWU7CiAgICAgICAgICAgICAgICAgdGhpcy5ib29rX251bV9zdGF0dXMgPSBmYWxzZTsKICAgICAgICAgICAgIH0gZWxzZSBpZiAoaWQgPT0gMikgewogICAgICAgICAgICAgICAgIHRoaXMuYm9va19kdXJfc3RhdHVzID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgdGhpcy5ib29rX251bV9zdGF0dXMgPSB0cnVlOwogICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICB0aGlzLmJvb2tfZHVyX3N0YXR1cyA9IGZhbHNlOwogICAgICAgICAgICAgICAgIHRoaXMuYm9va19udW1fc3RhdHVzID0gZmFsc2U7CiAgICAgICAgICAgICB9CiAgICAgICAgIH0sCgogICAgICAgICBhbGxvd2VkSG91cnModikgewogICAgICAgICAgICAgdgoKICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgfSwKCiAgICAgICAgIGNvbXB1dF9tYXhSZXF1ZXN0KGlkLCB0aW1lX2R1cmF0aW9uLCBmcm9tX3RpbSwgdG9fdGltKSB7CgogICAgICAgICAgICAgaWYgKGlkID09IDApIHsKICAgICAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgIH0gZWxzZSBpZiAoaWQgPT0gMSkgewogICAgICAgICAgICAgICAgIC8vIHRoaXMucmVzZXJ2YXRpb25fZHVyYXRpb24KCiAgICAgICAgICAgICAgICAgdmFyIGZyb21faG91ciA9IHBhcnNlSW50KGZyb21fdGltLnNwbGl0KCI6IilbMF0pCiAgICAgICAgICAgICAgICAgdmFyIGZyb21fbWluID0gcGFyc2VJbnQoZnJvbV90aW0uc3BsaXQoIjoiKVsxXSkKCgogICAgICAgICAgICAgICAgIHZhciB0b19ob3VyID0gcGFyc2VJbnQodG9fdGltLnNwbGl0KCI6IilbMF0pCiAgICAgICAgICAgICAgICAgdmFyIHRvX21pbiA9IHBhcnNlSW50KHRvX3RpbS5zcGxpdCgiOiIpWzFdKQoKICAgICAgICAgICAgICAgICB2YXIgZnJvbSA9IGZyb21faG91ciAqIDYwICsgZnJvbV9taW47CgoKICAgICAgICAgICAgICAgICB2YXIgdG8gPSB0b19ob3VyICogNjAgKyB0b19taW47CgogICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB0byAtIGZyb207CgogICAgICAgICAgICAgICAgIHZhciBob3VlciA9IHBhcnNlSW50KHRpbWVfZHVyYXRpb24uc3BsaXQoIjoiKVswXSk7CiAgICAgICAgICAgICAgICAgdmFyIG1pbml0ID0gcGFyc2VJbnQodGltZV9kdXJhdGlvbi5zcGxpdCgiOiIpWzFdKTsKCiAgICAgICAgICAgICAgICAgdmFyIGR1ciA9IGhvdWVyICogNjAgKyBtaW5pdDsKCiAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0IC8gZHVyCgogICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQKCiAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgIHJldHVybiAwCiAgICAgICAgICAgICB9CgoKCgogICAgICAgICB9LAogICAgICAgICBzdWJtaXQoKSB7CiAgICAgICAgICAKCiAgICAgICAKICAgICAgICAKICAgICAgICAgICAgIHZhciBpbWFnID0gW107CiAgICAgICAgICAgICBmb3IgKHZhciBpbSA9IDA7IGltIDwgdGhpcy5pbWFnZXMubGVuZ3RoOyBpbSsrKSB7CgoKICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbWFnZXNbaW1dICE9ICdhJyAmJiB0aGlzLmltYWdlc1tpbV0gIT09IHRoaXMuaW1nX3VybCArICIvaW1hZ2VzLyIgKyB0aGlzLmVkaXRlZEl0ZW0KICAgICAgICAgICAgICAgICAgICAgLmltYWdlc1tpbV0KICAgICAgICAgICAgICAgICAgICAgLmltYWdlX3VybCkgewoKICAgICAgICAgICAgICAgICAgICAgaW1hZy5wdXNoKHRoaXMuaW1hZ2VzW2ltXSk7CiAgICAgICAgICAgICAgICAgfQoKCgogICAgICAgICAgICAgfQoKCgogICAgICAgICAgICAgaWYgKCF0aGlzLmVyMSkgewogICAgICAgICAgICAgICAgIHRoaXMuc3RlcDEoKTsKCiAgICAgICAgICAgICB9IAogICAgICAgICAgICAgCiAgICAgICAgICAKICAgICAgICAKICAgICAgICAgICAgIGVsc2UgaWYgKCF0aGlzLmVyX3BheW1lbnQpIHsKICAgICAgICAgICAgICAgICB0aGlzLnN0ZXA0KCk7CiAgICAgICAgICAgICB9CgoKCiAgICAgICAgICAgICBpZiAodGhpcy5lZGl0ZWRJdGVtLnByaWNlLmZyZWVfY2FuY2VsbGF0aW9uKSB7CiAgICAgICAgICAgICAgICAgdGhpcy5lZGl0ZWRJdGVtLnByaWNlLmZyZWVfY2FuY2VsbGF0aW9uID0gMTsKICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgdGhpcy5lZGl0ZWRJdGVtLnByaWNlLmZyZWVfY2FuY2VsbGF0aW9uID0gMDsKICAgICAgICAgICAgIH0KCgoKCgogICAgICAgICAgICAgaWYgKHRoaXMuRGF5T3BlbiA9PSAwKSB7CiAgICAgICAgICAgICAgICAgdGhpcy4kc3dhbCgn2KrYrdiw2YrYsScsICIgICAg2YrYrNioINin2K7YqtmK2KfYsSDYrNiv2YjZhCDYp9mE2K3YrNiyIiwgJ3dhcm5pbmcnKQogICAgICAgICAgICAgfQoKCgogICAgICAgICAgICAgdGhpcy51c2VyX2luZm8gPSB0aGlzLiRjb29raWVzLmdldCgnYWRtaW5faW5mbycpOwoKICAgICAgICAKCiAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7CgoKICAgICAgICAgICAgICAgICAgICAgaXRlbV9uYW1lOiB0aGlzLmVkaXRlZEl0ZW0uaXRlbV9uYW1lLAogICAgICAgICAgICAgICAgICAgICBpdGVtX2Rlc2NyaXB0aW9uOiB0aGlzLmVkaXRlZEl0ZW0uaXRlbV9kZXNjcmlwdGlvbiwKICAgICAgICAgICAgICAgICAgICAgc3ViX2NhdGVnb3J5X2lkOiB0aGlzLmVkaXRlZEl0ZW0uc3ViX2NhdGVnb3J5LmlkLAogICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeV9pZDogdGhpcy5lZGl0ZWRJdGVtLnN1Yl9jYXRlZ29yeS5jYXRlZ29yeV9pZCwKCiAgICAgICAgICAgICAgICAgICAgIC8vUHJpY2UgRGF0YQogICAgICAgICAgICAgICAgICAgICBwcmljZTogdGhpcy5lZGl0ZWRJdGVtLnByaWNlLAoKCiAgICAgICAgICAgICAgICAgICAgIC8vQWRkcmVzcyBJbmZvcm1hdGlvbnMKICAgICAgICAgICAgICAgICAgICAgQWRkcmVzczpbXSwKICAgICAgICAgICAgICAgICAgICAgaW1hZ2VzOiBpbWFnLAoKICAgICAgICAgICAgICAgICAgICAgd29ya190aW1lczpbXSwKICAgICAgICAgICAgICAgICAgICAgSXRlbUZlYXR1cmVzOltdCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgIC8vIGltYWdlczogaW1hZwogICAgICAgICAgICAgICAgIH07CgoKICAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgIHZhciBwb3N0dXJsID0gdGhpcy5pdGVtX2lkICE9IDAgPyAiL3YyL2l0ZW1zL3VwZGF0ZS8iICsgdGhpcy5pdGVtX2lkIDogIi92Mi9pdGVtcy9zdG9yZSI7CgoKCiAgICAgICAgICAgICAgICAgZGF0YSwKICAgICAgICAgICAgICAgICB0aGlzLiRodHRwKHsKICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBwb3N0dXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAnQmVhcmVyICcrdGhpcy50b2tlbgoKICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKCiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzd2FsKCfYqtmFJywgdGhpcy5pdGVtX2lkICE9IDAgPyAi2KrZhSDYqti52K/ZitmEINin2YTYrdis2LIiIDogIiAgICDYqtmFINin2LbYp9mB2Kkg2KfZhNit2KzYsiIsICdzdWNjZXNzJykKICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgiY2hhbmdlU3RhdHVzIiwgZmFsc2UpOwoKICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MgPT0gdHJ1ZSkgewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOwoKCiAgICAgICAgICAgICAgICAgICAgICAgICB9CgoKCgogICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvciwKICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwoJ9iq2YUnLCB0aGlzLml0ZW1faWQgIT0gMCA/ICLYqtmFINiq2LnYr9mK2YQg2KfZhNit2KzYsiIgOiAiICAgINiq2YUg2KfYttin2YHYqSDYp9mE2K3YrNiyIiwgJ3N1Y2Nlc3MnKQogICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCJjaGFuZ2VTdGF0dXMiLCBmYWxzZSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgLy8gIHRoaXMuZXJyX3Nob3cgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzLiRzd2FsKCfYrti32KfYoScsIHRoaXMuaXRlbV9pZCAhPSAwID8gIiAgICAg2YHYtNmEICDYp9i22KfZgdipINin2YTYrdis2LIiIDogItmB2LTZhCDYqti52K/ZitmEINin2YTYrdis2LIiLAogICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAnZXJyb3InKQoKICAgICAgICAgICAgICAgICAgICAgfSkuZmluYWxseShkID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgIGQsCiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlcnlkYXkgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlcnl0aW1lID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgIC8vIH0gZWxzZSB7CgogICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLmVycl9zaG93ID0gdHJ1ZTsKCgoKCiAgICAgICAgICAgLy8gIH0KCgoKCiAgICAgICAgIH0sCgoKCiAgICAgICAgIGdldENhdGVnb3J5KCkgewoKCiAgICAgICAgICAgICB0aGlzLiRodHRwKHsKICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgICAgICAgICAgICAgICAgdXJsOiAiL3YyL2luZm8vQ2F0ZWdvcmllcyIsCiAgICAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5ID0gcmVzcG9uc2UuZGF0YS5kYXRhOwoKCgogICAgICAgICAgICAgICAgIH0pCiAgICAgICAgIH0sCgoKICAgICAgICAgZ2V0Q291bnRyeSgpIHsKCgogICAgICAgICAgICAgdGhpcy4kaHR0cCh7CiAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ2dldCcsCiAgICAgICAgICAgICAgICAgICAgIHVybDogIi92Mi9pbmZvL0NvdW50cmllcyIsCiAgICAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgICAgICB0aGlzLmNvdW50cmllcyA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKCgoKICAgICAgICAgICAgICAgICB9KQogICAgICAgICB9LAoKCgogICAgICAgICBnZXRTdWJDYXRlZ29yeSgpIHsKCiAgICAgICAgICAgICBpZiAodGhpcy5pdGVtX0lEID09IDApIHsKICAgICAgICAgICAgICAgICB2YXIgY2F0X2lkID0gdGhpcy5lZGl0ZWRJdGVtLnN1Yl9jYXRlZ29yeS5jYXRlZ29yeV9pZAoKCiAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgIGNhdF9pZCA9IHRoaXMuZWRpdGVkSXRlbS5zdWJfY2F0ZWdvcnkuY2F0ZWdvcnkuaWQ7CgogICAgICAgICAgICAgfQoKICAgICAgICAgICAgIHZhciB1cmwgPSAidjIvaW5mby9zdWJDYXRlZ29yeUNhdF9pZC8iICsgY2F0X2lkOwogICAgICAgICAgICAgdGhpcy4kaHR0cCh7CiAgICAgICAgICAgICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgICAgICAgICAgICB1cmw6IHVybCwKICAgICAgICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgIHRoaXMuc3ViY2F0ZWdvcnkgPSByZXNwb25zZS5kYXRhLmRhdGE7CgoKCiAgICAgICAgICAgICB9KQogICAgICAgICB9LAogICAgICAgICBnZXRQcm92aW5jZSgpIHsKCgogICAgICAgICAgICAgdGhpcy4kaHR0cCh7CiAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ2dldCcsCiAgICAgICAgICAgICAgICAgICAgIHVybDogJy92Mi9pbmZvL1Byb3ZpbmNlcycsCiAgICAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3ZpbmNlID0gcmVzcG9uc2UuZGF0YS5kYXRhOwoKCgogICAgICAgICAgICAgICAgIH0pCiAgICAgICAgIH0sCgoKCgoKCgoKCiAgICAgICAgIHBpY2tGaWxlKGluZGV4KSB7CgogICAgICAgICAgICAgdGhpcy5pbWdfY2xpY2VkID0gaW5kZXgKICAgICAgICAgICAgIHRoaXMuJHJlZnMuaW1hZ2UuY2xpY2soKQogICAgICAgICB9LAoKICAgICAgICAgb25GaWxlUGlja2VkKGUpIHsKCiAgICAgICAgICAgICBjb25zdCBmaWxlcyA9IGUudGFyZ2V0LmZpbGVzCiAgICAgICAgICAgICBpZiAoZmlsZXNbMF0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VOYW1lID0gZmlsZXNbMF0ubmFtZQogICAgICAgICAgICAgICAgIGlmICh0aGlzLmltYWdlTmFtZS5sYXN0SW5kZXhPZignLicpIDw9IDApIHsKICAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgIGNvbnN0IGZyID0gbmV3IEZpbGVSZWFkZXIoKQogICAgICAgICAgICAgICAgIGZyLnJlYWRBc0RhdGFVUkwoZmlsZXNbMF0pCiAgICAgICAgICAgICAgICAgZnIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWFnZVVybCA9IGZyLnJlc3VsdAogICAgICAgICAgICAgICAgICAgICB0aGlzLmltYWdlRmlsZSA9IGZpbGVzWzBdCgogICAgICAgICAgICAgICAgICAgICB0aGlzLmltYWdlc1t0aGlzLmltZ19jbGljZWRdID0gZnIucmVzdWx0OwogICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IHRoaXMuaW1nX2NsaWNlZCArIDE7CiAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW1nX25hbWUgPSAiICAg2LXZiNix2Kkg2LHZgtmFICIgKyBhCgoKICAgICAgICAgICAgICAgICB9KQoKICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgdGhpcy5pbWFnZU5hbWUgPSAnJwogICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VGaWxlID0gJycKICAgICAgICAgICAgICAgICB0aGlzLmltYWdlVXJsID0gJycKICAgICAgICAgICAgIH0KICAgICAgICAgfSwKCiAgICAgICAgIGNoYW5nZV9wYXltZW50KHN0YXR1cykgewogICAgICAgICAgICAgaWYgKHN0YXR1cyA9PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgdGhpcy5lZGl0ZWRJdGVtLnByaWNlLmZyZWVfY2FuY2VsbGF0aW9uID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgdGhpcy5lZGl0ZWRJdGVtLnByaWNlLmRlZHVjdGlvbiA9IDA7CiAgICAgICAgICAgICB9CgoKCgoKICAgICAgICAgfSwKICAgICAgICAgY2hhbmdlX3Jlc2VydmF0aW9uX3R5cGUoKSB7CgogICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5lZGl0ZURheU9wZW4ucmVzZXJ2YXRpb25fdHlwZSk7CiAgICAgICAgICAgICAvLyBhbGVydCh0aGlzLmVkaXRlRGF5T3Blbi5yZXNlcnZhdGlvbl90eXBlLmlkKTsKICAgICAgICAgICAgIGlmICh0aGlzLmVkaXRlRGF5T3Blbi5yZXNlcnZhdGlvbl90eXBlLmlkID09IDIpIHsKICAgICAgICAgICAgICAgICB0aGlzLnJlc2VydmF0aW9uX251bSA9IHRydWU7CiAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgIHRoaXMucmVzZXJ2YXRpb25fbnVtID0gZmFsc2U7CgogICAgICAgICAgICAgfQoKICAgICAgICAgfSwKCgoKCgoKICAgICAgICAgc2F2ZSgpIHsKICAgICAgICAgICAgIGlmICh0aGlzLmVkaXRlZEluZGV4ID4gLTEpIHsKICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZWRpdGVkSXRlbS5kYXlfdG9fb3Blblt0aGlzLmVkaXRlZEluZGV4XSwgdGhpcy5lZGl0ZWRJdGVtKQogICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICB0aGlzLmVkaXRlZEl0ZW0uZGF5X3RvX29wZW4ucHVzaCh0aGlzLmVkaXRlZEl0ZW0pCiAgICAgICAgICAgICB9CiAgICAgICAgICAgICB0aGlzLmNsb3NlKCkKICAgICAgICAgfSwKCgogICAgIH0sCgogICAgIHdhdGNoOiB7CiAgICAgICAgIHNlbGVjdGVkOiAnZGQnLAogICAgICAgICBzdGVwcyh2YWwpIHsKCiAgICAgICAgICAgICBpZiAodGhpcy5lMSA+IHZhbCkgewogICAgICAgICAgICAgICAgIHRoaXMuZTEgPSB2YWwKICAgICAgICAgICAgIH0KICAgICAgICAgfSwKCgoKICAgICB9LAogICAgIGNvbXB1dGVkOiB7CgoKICAgICB9LAoKCgoKICAgICBjcmVhdGVkKCkgewoKCgogICAgIH0sCgoKICAgICBtb3VudGVkKCkgewogICAgICAgICAgdGhpcy5nZXRDYXRlZ29yeSgpOwogICAgICAgICB0aGlzLmdldFByb3ZpbmNlKCk7CgogICAgICAgICAvLyB0aGlzLnRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FjY2Vzc190b2tlbicpOwogICAgICAgICAvLyB0aGlzLnVzZXJfaW5mbyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJfaW5mbycpKTsKCiAgICAgIC8vICAgdGhpcy51c2VyX2luZm8gPSB0aGlzLiRjb29raWVzLmdldCgnYWRtaW5faW5mbycpOwoKICAgICAgICAgdGhpcy50b2tlbiA9IHRoaXMuJGNvb2tpZXMuZ2V0KCd1c2VyX2luZm8nKS50b2tlbjsKICAgICAgICAgdGhpcy5pdGVtX2lkID0gdGhpcy5pdGVtX0lEOwoKICAgICAgICAKICAgICAgICAgdGhpcy5pdGVtX2lkICE9IDAgPyB0aGlzLmdldEl0ZW1EZXRhaWxzKCkgOiB0aGlzLmRheV90b19vcGVuLmxlbmd0aCA9IDA7CiAgICAgfSwKCiAgICAgY29tcG9uZW50czogewoKICAgICAgICAKCiAgICAgfQoKIH0K"},{"version":3,"sources":["item_dialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAySA;;AAEA;AACA;AACA;AACA;;;;AAIA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;AAIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;;AAIA;;;;;;AAMA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;;;;;;;AAOA;AACA;;;AAGA;AACA;;;AAGA;;;AAGA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;;;;;AAKA;AACA;;;;;;;;AAQA;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;;AAGA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;;;;;;;AAOA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;;AAGA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;;;;;;AAMA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;AAKA;AACA;;;AAGA;;;AAGA;;AAEA;AACA;;;;AAIA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;;;;;AAKA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;;;;;;;;;;AAaA;;;;;AAKA;;AAEA;AACA;AACA;;;AAGA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;;AAGA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;;;AAIA;;;;;;;;AAQA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;;;AAGA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;;;AAKA;AACA;;;;;AAKA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;;;AAIA;;;;AAIA;AACA;;AAEA;;;;AAIA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AACA;;;;AAIA;;;;AAIA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;;;;;;AAOA;AACA;;;AAGA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;;AAGA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;AAKA;;;;;AAKA;;;;AAIA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;;;AAGA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;;;;AAIA;;AAEA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;;;;;;;;;;AAUA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;AACA;;;AAGA;;;;;AAKA;;;;AAIA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;;AAEA;;;;AAIA;;AAEA","file":"item_dialog.vue","sourceRoot":"src/components/Owner/components","sourcesContent":["<template>\n\n\n    <v-form ref=\"form\" v-model=\"valid\">\n\n        <v-card height=\"700\">\n\n            <v-card-title class=\"headline grey lighten-2\" primary-title\n                style=\"\tfont-family: 'droid_bold' !important;    background-color: #2e94b9 !important;color:#fff\">\n                <span v-if=\"item_ID==0\"> </span>\n                <span v-else> </span>\n                <v-spacer></v-spacer>\n                <v-btn icon dark @click=\"cancel()\">\n                    <v-icon>mdi-close</v-icon>\n                </v-btn>\n            </v-card-title>\n\n\n            <v-container style=\"padding:20px\">\n\n                <v-stepper v-model=\"e1\">\n                    <!--Star Steper Header-->\n                    <v-stepper-header>\n                        <!--   <v-stepper-step :rules=\"[() =>this.er1]\" :complete=\"e1 > 1\" step=\"1\" @click=\"step1()\">     edit-icon=\"fas fa-money-check-alt\"-->\n                        <v-stepper-step :rules=\"[() =>this.er1]\" :complete=\"e1 > 1\" step=\"1\">\n                            \n                            <small>{{this.errors_primery[0]}}</small>\n                        </v-stepper-step>\n\n                        <v-divider></v-divider>\n\n                     \n\n                        <v-divider></v-divider>\n\n                    \n\n                        <v-stepper-step :complete=\"e1 > 4\" step=\"2\" :editable=\"false\" :rules=\"[() =>this.er_payment]\">\n                             \n                            <small>{{this.errors_payment[0]}}</small>\n\n                        </v-stepper-step>\n\n                       \n\n                        <v-divider></v-divider>\n                        <v-stepper-step step=\"3\"> </v-stepper-step>\n                    </v-stepper-header>\n                    <!--End Steper Header-->\n\n\n\n                    <v-stepper-items>\n\n                        <!--Primery Info-->\n                        <v-stepper-content step=\"1\">\n                            <v-card class=\"mb-12\" color=\"#cac0c057\" height=\"400px\" pl-5>\n\n                                <v-layout row wrap pr-2 pl-2>\n\n                                    <v-flex pa-3 xs6>\n                                        <v-text-field background-color=\"#fff\" height=\"50\" style=\"\"\n                                            placeholder=\" \" v-model=\"editedItem.item_name\" :rules=\"nameRules\"\n                                            required></v-text-field>\n                                    </v-flex>\n\n\n\n                                </v-layout>\n\n\n                                <v-layout row wrap pr-2 pl-2>\n                                    <v-flex pa-3 xs6>\n                                        <v-select background-color=\"#ffffff\" height=\"50\" :rules=\"nameRules\" class=\"my-2\"\n                                            :items=\"category\" item-value=\"id\" item-text=\"name\"\n                                            v-model=\"editedItem.sub_category.category_id\"\n                                            placeholder=\"   \" @change=\"getSubCategory()\" required>\n                                        </v-select>\n                                    </v-flex>\n\n                                    <v-flex pa-3 xs6>\n                                        <v-select :rules=\"nameRules\" segmented class=\"my-2\" :items=\"subcategory\"\n                                            item-value=\"id\" item-text=\"name\" background-color=\"#ffffff\" height=\"50\"\n                                            v-model=\"editedItem.sub_category.id\" placeholder=\"  \"\n                                            @change=\"dis()\" required></v-select>\n                                    </v-flex>\n\n\n\n\n\n\n                                </v-layout>\n\n\n                                <v-layout>\n                                    <v-flex pa-3 xs12>\n                                        <v-textarea background-color=\"#fff\" placeholder=\"  \"\n                                            v-model=\"editedItem.item_description\" :rules=\"descriptRules\" required>\n                                        </v-textarea>\n                                    </v-flex>\n\n\n\n                                </v-layout>\n\n                            </v-card>\n\n\n                            <v-btn color=\"primary\" @click=\"step2()\">\n                                \n\n                            </v-btn>\n\n                            <!-- <v-btn text>Cancel</v-btn> -->\n                        </v-stepper-content>\n                        <!--End Primery Info-->\n\n\n\n\n\n\n\n\n\n\n                        <!--Date Price-->\n                        <v-stepper-content step=\"2\">\n                            <v-card class=\"mb-12\" color=\"#cac0c057\" height=\"400px\">\n\n                                <v-form ref=\"valid_payment\" v-model=\"valid_payment\">\n                                    <v-layout row wrap pl-2>\n                                        <v-flex xs4 pa-3 pr-5>\n                                            <v-text-field background-color=\"#fff\" height=\"50\" placeholder=\"  \"\n                                                data-vv-name=\"name\" v-model=\"editedItem.price.price_value\"\n                                                :rules=\"numberRul\" required>\n                                            </v-text-field>\n                                        </v-flex>\n                                    </v-layout>\n\n\n                                    <v-layout row wrap pl-2 pr-4>\n\n                                        <span>  :</span>\n\n                                        <div v-if=\"item_id==1\">\n                                            <span v-if=\"editedItem.price.payment_when_receiving==0\">  \n                                                </span>\n                                            <span v-if=\"editedItem.price.payment_when_receiving==1\">  \n                                                </span>\n\n                                        </div>\n\n                                        <div v-else>\n                                            <span v-if=\"editedItem.price.payment_when_receiving===0\">  \n                                                </span>\n                                            <span v-if=\"editedItem.price.payment_when_receiving===1\">  \n                                                </span>\n\n                                        </div>\n\n\n\n\n\n                                    </v-layout>\n                                    <v-layout row wrap pl-2 pr-4>\n                                        <v-radio-group @change=\"tr()\" :rules=\"paymentRul\" required\n                                            v-model=\"editedItem.price.payment_when_receiving\">\n                                            <v-radio label=\"   \" :value=\"1\"></v-radio>\n                                            <v-radio label=\"   \" :value=\"2\"></v-radio>\n                                        </v-radio-group>\n\n                                    \n\n\n\n                                    </v-layout>\n\n                                    <v-layout row wrap pl-2 pr-4>\n                                        <v-flex xs4 pa-1>\n                                            <v-checkbox v-model=\"editedItem.price.free_cancellation\"\n                                                label=\"  \" required></v-checkbox>\n                                        </v-flex>\n\n\n                                        <v-flex xs3 pa-1 v-if=\"!editedItem.price.free_cancellation\" pl-4>\n                                            <v-text-field prepend-inner-icon=\"fas fa-percent\" background-color=\"#fff\"\n                                                class=\"deucation_txfield\" height=\"40\" placeholder=\"   \"\n                                                data-vv-name=\"name\" :disabled=\"!editedItem.price.free_cancellation\"\n                                                :readonly=\"!editedItem.price.free_cancellation\"\n                                                v-model=\"editedItem.price.cancellation_deduction_ratio\"\n                                                :rules=\"numberRul1\">\n                                            </v-text-field>\n                                        </v-flex>\n\n\n                                    </v-layout>\n                                </v-form>\n                            </v-card>\n\n                            <v-btn color=\"primary\" @click=\"step3()\">\n                                \n                            </v-btn>\n\n                            <v-btn @click=\"step1()\" text></v-btn>\n                        </v-stepper-content>\n                        <!--Date Price-->\n\n\n                     \n\n                        <v-stepper-content step=\"3\">\n\n                            <v-card class=\"mb-12\" color=\"#cac0c057\" height=\"400px\">\n                                <v-layout row wrap>\n                                    <v-flex pa-5 xs3>\n                                        <!-- <v-text-field label=\"  \" solo=\"\" @click='pickFile' append-icon='fas fa-image'></v-text-field> -->\n                                    </v-flex>\n\n                                    <v-flex pa-5>\n                                        <input type=\"file\" style=\"display: none\" ref=\"image\" accept=\"image/*\"\n                                            @change=\"onFilePicked\">\n                                    </v-flex>\n                                </v-layout>\n\n\n\n                                <span>{{img_name}}</span>\n\n                                <v-layout row wrap>\n                                    <v-row justify=\"center\">\n                                        <v-flex xs2 v-for=\"(img ,index) in images\" pa-2 :key=\"img\">\n\n                                            <v-card height=\"150\" width=\"150\" class=\"card_img\">\n                                                <v-img :src=\"img\" height=\"150\" width=\"150\" class=\"card_img\"\n                                                    v-if=\"img!='a'\">\n                                                    <v-btn icon=\"\"\n                                                        style=\"padding-right: 24px;position:relative;left: 46px;\"\n                                                        @click=\"delete_img(editedItem.images[index].id,index)\">\n                                                        <v-icon color=\"#fff\">fas fa-window-close</v-icon>\n                                                    </v-btn>\n\n                                                </v-img>\n\n                                                <v-btn icon v-else @click='pickFile(index)'>\n                                                    <v-icon style=\"margin:0px\" size=\"40\">fas fa-plus-square</v-icon>\n                                                </v-btn>\n\n\n                                            </v-card>\n                                        </v-flex>\n                                    </v-row>\n\n\n                                </v-layout>\n                            </v-card>\n\n                            <v-btn @click=\"submit\" color=\"success\" style=\"margin-left:10px\">\n                                <span v-show=\"!loading\"></span>\n                                <v-progress-circular indeterminate color=\"white\" v-show=\"loading\"></v-progress-circular>\n                            </v-btn>\n\n\n                            <v-btn @click=\"step5()\" text></v-btn>\n\n\n                        </v-stepper-content>\n\n\n\n\n                    </v-stepper-items>\n                </v-stepper>\n            </v-container>\n\n\n\n\n\n\n\n\n\n\n        </v-card>\n\n    </v-form>\n\n\n\n</template>\n\n\n\n<script>\n    const axios = require('axios');\n\n   // import GoogleMap from '../components/map'\n    import {\n        EventBus\n    } from './event-bus.js';\n\n\n\n    export default {\n\n        props: {\n            'item_ID': Number,\n            'hidden': Boolean\n        },\n\n        data: () => ({\n            dialog: false,\n     \n            img_url: 'http://109.224.53.155',\n            item_id: '',\n            start: null,\n            time_dialog: false,\n            xc: [],\n            img_name: '',\n            end: null,\n            valid_day_open: false,\n\n\n            errors_address: [],\n            errors_payment: [],\n            radioPayment: [\"0\", \"1\"],\n            errors_date: [],\n            day_status: [{\n                id: 6,\n                status_name_ar: ''\n            }, {\n                id: 7,\n                status_name_ar: ''\n            }],\n            DayDialog: false,\n            msg_error: [],\n            ItemFeaturesDialog: false,\n            er_address: true,\n            valid_ItemFeatures: false,\n            valid_payment: false,\n\n            ItemFeatures: [{\n                id: '',\n                item_id: '',\n                feature_name: '',\n                feature_price: ''\n\n            }],\n\n\n\n            editeItemFeatures: {\n                id: '',\n                item_id: '',\n                feature_name: '',\n                feature_price: ''\n            },\n\n\n\n            er_payment: true,\n\n            editeTimeOpen: {\n\n                id: '',\n                action_id: '',\n                from_time: '',\n                to_time: '',\n                max_request: '',\n                reservations_number: '',\n                status: {\n                    id: '',\n                    status_name_ar: ''\n                },\n                reservation_type: {\n                    id: '',\n                    reservation_type_name: ''\n                },\n\n            },\n\n            editeDayOpen: [{\n                    id: '',\n                    reservation_type: {\n                        id: '',\n                        reservation_type_name: ''\n                    },\n                    work_day: '',\n                    status: {\n                        id: '',\n                        status_name_ar: ''\n                    },\n                    reservations_number: '',\n                    time_to_open: [{\n                            id: '',\n                            action_id: '',\n                            from_time: '',\n                            to_time: '',\n                            max_request: '',\n                            reservations_number: '',\n                            status: {\n                                id: '',\n                                status_name_ar: ''\n                            },\n                            reservation_type: {\n                                id: '',\n                                reservation_type_name: ''\n                            },\n                        },\n\n\n                    ],\n                }]\n\n\n\n                ,\n            er_date: true,\n            er1: true,\n            reservation_type: [{\n                    id: 1,\n                    reservation_type_name: ' '\n                },\n                {\n                    id: 2,\n                    reservation_type_name: ' '\n                }\n            ],\n            //    [' ',' '],\n            e1: 1,\n            switch2: false,\n            radios: 'radio-1',\n            submit_name: '',\n            errors_primery: [],\n            item_new_price: '',\n            menu_date_from: false,\n            menu_date_to: false,\n            editdailog: false,\n            user_info: {},\n            token: '',\n            err_show: false,\n            menu1: false,\n            menu2: false,\n            menu3: false,\n            menu4: false,\n            map_dialog: false,\n            modal2: false,\n            book_dur_status: false,\n            book_num_status: false,\n            offer_info: {\n\n\n            }\n\n            ,\n            reve_type: [{\n                id: 0,\n                duration: ' '\n            }, {\n                id: 1,\n                duration: ' '\n            }, {\n                id: 2,\n                duration: '   '\n            }],\n            reve_type1: [{\n                id: 0,\n                duration: ' '\n            }, {\n                id: 1,\n                duration: ' '\n            }, {\n                id: 2,\n                duration: '   '\n            }],\n            error: '',\n            msg_error_txt: '   ',\n\n\n            page: 1,\n            pageCount: 0,\n            items: [],\n            reservation_num: false,\n            editedIndex: -1,\n            editedIndexday: -1,\n            editedIndextime: -1,\n            editedIndexItemFeatures: -1,\n\n            editedItem: {\n                item_name: '',\n                item_description: '',\n                sub_category: {\n                    category_id: 0,\n                    id: 0,\n                    name: \"\",\n                },\n                Address: {\n                    address_descraption: '',\n                    province: {\n                        id: '',\n                        country_id: '',\n\n                    },\n\n\n                    long: '12',\n                    lat: '33'\n\n                },\n\n                ItemFeatures: [\n\n\n                ],\n                images: [{\n                        \"image_url\": ''\n                    },\n                    {\n                        \"image_url\": ''\n                    },\n                    {\n                        \"image_url\": ''\n                    },\n                    {\n                        \"image_url\": ''\n                    }\n                ],\n\n                price: {\n                    id: '',\n                    price_value: '',\n                    payment: '',\n                    deduction: 0,\n                    payment_when_receiving: '',\n                    free_cancellation: '',\n                    payment_after_awhile: '',\n                    installments: '',\n                    cancellation_deduction_ratio: '0',\n\n                },\n\n\n                calories: 0,\n                fat: 0,\n                carbs: 0,\n                disc: '',\n                protein: 0,\n                day_to_open: [\n\n                    {\n                        id: '',\n                        work_day: '0',\n                        status: {\n                            id: '',\n                            status_name_ar: ''\n                        },\n\n                        reservation_type: {\n                            id: '',\n                            reservation_type_name: ''\n                        },\n                        reservations_number: '',\n                        time_to_open: [\n\n                        ],\n\n\n                    },\n                    {\n                        id: '',\n                        work_day: '1',\n                        status: {\n                            id: '',\n                            status_name: ''\n                        },\n                        reservation_type: {\n                            id: '',\n                            reservation_type_name: ''\n                        },\n                        reservations_number: '',\n                        time_to_open: [],\n\n                    },\n                    {\n                        id: '',\n                        work_day: '2',\n                        reservation_type: {\n                            id: '',\n                            reservation_type_name: ''\n                        },\n                        status: {\n                            id: '',\n                            status_name_ar: ''\n                        },\n                        reservations_number: '',\n                        time_to_open: [],\n\n\n                    },\n                    {\n                        id: '',\n                        work_day: '3',\n                        reservation_type: {\n                            id: '',\n                            reservation_type_name: ''\n                        },\n                        reservations_number: '',\n                        status: {\n                            id: '',\n                            status_name_ar: ''\n                        },\n                        time_to_open: [],\n\n\n                    },\n                    {\n                        id: '',\n                        work_day: '4',\n                        reservation_type: {\n                            id: '',\n                            reservation_type_name: ''\n                        },\n                        reservations_number: '',\n                        status: {\n                            id: '',\n                            status_name_ar: ''\n                        },\n                        time_to_open: [],\n\n\n                    },\n                    {\n                        id: '',\n                        work_day: '5',\n                        reservation_type: {\n                            id: '',\n                            reservation_type_name: ''\n                        },\n                        status: {\n                            id: '',\n                            status_name_ar: ''\n                        },\n                        reservations_number: '',\n                        time_to_open: [],\n\n\n                    },\n                    {\n                        id: '',\n                        work_day: '6',\n                        reservation_type: {\n                            id: '',\n                            reservation_type_name: ''\n                        },\n                        reservations_number: '',\n                        status: {\n                            id: '',\n                            status_name_ar: ''\n                        },\n                        time_to_open: [],\n\n\n                    },\n                ],\n\n            },\n            valid: false,\n\n            deduction: '',\n            days: [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \" \"],\n            times: [\"1:00 \", \"2:00 \", \"3:00 \", \"4:00  \", \"5:00 \", \"6:00 \", \"7:00  \", \"8:00 \", \"9:00 \",\n                \"10:00 \",\n                \"11:00 \", \"12:00 \",\n                \"1:00 \", \"2:00 \", \"3:00 \", \"4:00  \", \"5:00 \", \"6:00 \", \"7:00  \", \"8:00 \", \"9:00 \",\n                \"10:00 \",\n                \"11:00 \", \"12:00 \"\n            ],\n\n            img_cliced: -1,\n            day_to_open: [{\n\n                every_day: 0,\n                every_time: 0,\n                from_day: \"\",\n                from_time: \"\",\n                to_day: \"\",\n                to_time: \"\",\n                max_requests: 0\n            }],\n\n            nameRules: [\n                v => !!v || '    ',\n\n            ],\n            numberRul: [\n                v => !!v || '    ',\n\n                v => !isNaN(v) || '   ',\n            ],\n            ReservationTypeRules: [\n                v => !!v || '    ',\n                v => !isNaN(v.id) || '   ',\n\n            ],\n\n            to_timeRules: [\n                v => !!v || '    ',\n                v => !isNaN(v) || '   ',\n\n            ],\n\n            TimeStatusRules: [\n                v => !!v || '    ',\n                v => !isNaN(v.id) || '   ',\n\n            ],\n\n            paymentRul: [\n                v => !!v || '    ',\n\n                v => !isNaN(v) || '   ',\n\n            ],\n            DayStatusRules: [\n                v => !!v || '    ',\n\n                v => !isNaN(v) || '   ',\n\n            ],\n\n\n            numberRul1: [\n\n                v => !isNaN(v) || '   ',\n            ],\n            descriptRules: [\n                v => !!v || '    ',\n                v => v.length >= 20 || '        ',\n            ],\n            loading: false,\n            province: [],\n            imageName: '',\n            imageUrl: '',\n            countries: [{\n                name: '',\n                id: 1\n            }],\n            imageFile: '',\n\n\n            payment: false,\n            images: ['a', 'a', 'a', 'a'],\n            free_cancellation: false,\n            deductionvalue: 0,\n            everyday: false,\n            everytime: false,\n            fromday: '',\n            today: '',\n            fromtime: '',\n            totime: '',\n            current_page: 1,\n            last_page: 0,\n            offer_dialog: false,\n            subcategory: [],\n            sub_category_id: '',\n            category: [],\n            reserv_type_id1: -1,\n            valid_day: true,\n            // editedItem.Address.address_descraption: '',\n            lat: 0,\n            lng: 0,\n\n\n        }),\n\n\n\n        methods: {\n            xx() {\n                this.editedIndextime=-1;\n                this.editeTimeOpen = {\n\n                    id: '',\n                    action_id: '',\n                    from_time: '',\n                    to_time: '',\n                    max_request: '',\n                    reservations_number: '',\n                    status: {\n                        id: '',\n                        status_name_ar: ''\n                    },\n                    reservation_type: {\n                        id: '',\n                        reservation_type_name: ''\n                    },\n\n                }\n\n            },\n            cancel_day() {\n                if (this.$refs.valid_day_open.validate()) {\n                    \n                    if(this.editeDayOpen.status==6 && this.editedItem.day_to_open[this.editedIndexday].time_to_open.length==0)\n                    {\n\n                        alert('         ');\n                       \n\n                    }\n                    else\n                    {\n                         this.editedItem.day_to_open[this.editedIndexday].status['id'] = this.editeDayOpen.status.id;\n                    this.DayDialog = false;\n                    this.time_dialog=false;\n                    this.editeTimeOpen = {\n\n                        id: '',\n                        action_id: '',\n                        from_time: '',\n                        to_time: '',\n                        max_request: '',\n                        reservations_number: '',\n                        status: {\n                            id: '',\n                            status_name_ar: ''\n                        },\n                        reservation_type: {\n                            id: '',\n                            reservation_type_name: ''\n                        },\n\n                    }\n\n                    }\n\n                   \n\n                }\n\n\n\n\n\n            },\n              close_time_Dailog () {\n        this.editedIndextime =-1;\n        this.time_dialog=false;\n      },\n\n\n            editedTimeOpen(item) {\n                 this.editedIndextime = this.editeDayOpen.time_to_open.indexOf(item)\n                this.editeTimeOpen = Object.assign({}, item);\n\n\n            },\n            SetDayStatus() {\n\n            },\n\n            save_time() {\n\n\n                if (!this.editeTimeOpen.reservation_type.id == ' ' || !this.editeTimeOpen.reservation_type.id == null &&\n                    !this.editeTimeOpen.to_time == ' ' || !this.editeTimeOpen.to_time == null)\n\n                {\n                    if (!this.editeTimeOpen.status.id == null || !this.editeTimeOpen.status.id == ' ' && !this\n                        .editeTimeOpen.from_time == ' ' || !this.editeTimeOpen.from_time == null) {\n\n\n\n\n\n\n                        // if (this.$refs.valid_day_open.validate()) {\n                        if (this.editedIndextime  > -1) {\n                      \n                        \n                        Object.assign(this.editeDayOpen.time_to_open[this.editedIndextime], this.editeTimeOpen );\n                         this.close_time_Dailog();\n                                \n\n                        } else {\n\n\n                            this.editeDayOpen.time_to_open.push(this.editeTimeOpen);\n\n                            Object.assign(this.editedItem.day_to_open[this.editedIndexday].time_to_open, this\n                                .editeTimeOpen)\n                                \n                        \n                            // for(var i=0;i<=this.editedItem.day_to_open[this.editedIndexday].time_to_open.length;i++)\n                            // {\n                            //     if(this.editedItem.day_to_open[this.editedIndexday]['status']==6)\n                            //     {\n                            //         this.editedItem.day_to_open[this.editedIndexday]['status']=6;\n                            //         break;\n\n\n                            //     }\n                            //     else\n                            //     {\n                            //          this.editedItem.day_to_open[this.editedIndexday]['status']=7;\n\n                            //     }\n\n\n                            // }\n\n                            this.close_time_Dailog();\n\n\n\n\n                        }\n                        // this.close()\n\n\n\n\n\n\n\n                        // }\n\n\n\n\n\n\n                    } else {\n                        alert('   ');\n                    }\n                } else {\n                    alert('   ');\n                }\n\n\n\n            },\n\n\n            tr() {\n                if (this.editedItem.price.payment_when_receiving == 2) {\n                    this.editedItem.price.payment_when_receiving = 0;\n\n                }\n\n            },\n\n            editItemFeatures(item) {\n                this.editedIndexItemFeatures = this.editedItem.ItemFeatures.indexOf(item)\n                this.editeItemFeatures = Object.assign({}, item)\n                this.ItemFeaturesDialog = true;\n\n            },\n            AddItemFeatures() {\n                this.editeItemFeatures = {};\n                this.ItemFeaturesDialog = true;\n            },\n\n            DeleteItemFeatures(item) {\n\n\n\n                const Swal = require('sweetalert2')\n\n\n\n\n\n\n                Swal.fire({\n                    title: \"     \",\n\n                    icon: \"warning\",\n                    showCancelButton: true,\n                    confirmButtonColor: '#3085d6',\n                    cancelButtonColor: '#d33',\n                    confirmButtonText: 'Yes, delete it!'\n\n                }).then(() => {\n\n                    if (item.id == 'undefined') {\n                        const index = this.editedItem.ItemFeatures.indexOf(item)\n                        this.editedItem.ItemFeatures.splice(index, 1)\n\n                    } else {\n                        const index = this.editedItem.ItemFeatures.indexOf(item)\n                        this.editedItem.ItemFeatures.splice(index, 1)\n                        var url = \"/ItemFeatures/owner/delete/\" + item.id;\n                        axios({\n                            method: 'delete',\n                            url: url,\n                            headers: {\n                                Authorization:'Bearer '+this.token\n                            }\n                        }).then(response => {\n\n\n\n                            response,\n                            this.editedItem.images[index].image_url = 'a';\n                            this.img_name = index;\n                            this.images[index] = 'a';\n\n                            Swal.fire(\n                                '  ',\n                                '',\n                                'success'\n                            )\n\n                        }).catch(error => {\n                            error\n                        }).finally(d => {\n                            d,\n\n                            this.getitems();\n                        });\n\n                    }\n\n                })\n\n                // confirm('Are you sure you want to delete this item?') &&this.editedItem.ItemFeatures.splice(index, 1)\n\n            },\n            save_ItemFeatures() {\n\n                if (this.$refs.valid_ItemFeatures) {\n\n\n                    if (this.editedIndexItemFeatures > -1) {\n\n                        Object.assign(this.editedItem.ItemFeatures[this.editedIndexItemFeatures], this\n                            .editeItemFeatures)\n\n                    } else {\n                        console.log(this.editeItemFeatures);\n\n                        this.editedItem.ItemFeatures.push(this.editeItemFeatures)\n\n                    }\n                    this.ItemFeaturesDialog = false\n                }\n\n\n            },\n            // save_date() {\n\n            //     if (this.editeday_to_open.status.id == 6) {\n            //         if (this.editeday_to_open.time_to_open[0].from_time == null || this.editeday_to_open.time_to_open[0]\n            //             .from_time == '') {\n            //             alert('          ');\n            //         } else if (this.$refs.valid_day_open.validate()) {\n            //             Object.assign(this.day_to_open[this.editedIndexday], this.editeday_to_open)\n            //             this.DayDialog = false\n\n            //         }\n\n            //     } else {\n            //         if (this.$refs.valid_day_open.validate()) {\n            //             Object.assign(this.day_to_open[this.editedIndexday], this.editeday_to_open)\n            //             this.DayDialog = false\n            //         }\n            //     }\n\n            // },\n\n            save_date() {\n                // alert(this.editedIndextime);\n\n                if (this.editeDayOpen.status.id == 6) {\n                    if (this.editeTimeOpen.from_time == null || this.editeTimeOpen.from_time == '') {\n                        alert('          ');\n                    } else if (this.$refs.valid_day_open.validate()) {\n                        Object.assign(this.editedItem.day_to_open[this.editedIndextime], this.editedTimeOpen)\n                        this.time_dialog = false\n\n                    }\n\n                } else {\n                    if (this.$refs.valid_day_open.validate()) {\n                        Object.assign(this.editedItem.day_to_open[this.editedIndextime], this.editedTimeOpen)\n                        this.time_dialog = false\n                    }\n                }\n\n            },\n\n            editItem(item) {\n\n                this.editedIndexday = this.editedItem.day_to_open.indexOf(item)\n                /// alert(this.editedIndexday);\n                //   alert(this.editedIndexday);\n                this.editeDayOpen = Object.assign({}, item)\n                this.DayDialog = true\n                if (item.reservation_type.id == 2) {\n                    this.reservation_num = true;\n                } else {\n                    this.reservation_num = false;\n\n                }\n            },\n\n\n\n            getdays(index) {\n                var days = [\"\", \"\", \"\", \"\", \"\", \"\", \"\"];\n\n                return days[index];\n            },\n\n            getstatus(index) {\n                if (index == 7) {\n                    return '';\n                } else if (index == 6) {\n                    return '';\n\n                }\n\n\n            },\n            getstatuss(index) {\n                if (index == 1) {\n                    return ' ';\n                } else if (index == 2) {\n                    return ' ';\n\n                }\n\n\n            },\n            getItemDetails() {\n\n           \n               \n\n\n                var url = \"/v2/items/show/\" + this.item_id;\n                this.$http({\n                        method: 'get',\n                        url: url,\n                        headers: {\n\n                        }\n                    })\n\n                    .then(response => {\n                        this.editedItem = response.data.data;\n                        this.imgs = this.editedItem.images;\n                        //  this.DayOpen = response.data.data.day_to_open;\n                        if (this.editedItem.price.payment_when_receiving == 0) {\n                            this.editedItem.price.payment_when_receiving = 2;\n                        }\n\n\n                        if (this.editedItem.images.length < 4) {\n                            var completImgArrayLength = 4 - this.editedItem.images.length;\n\n                            for (var i = 0; i < completImgArrayLength; i++) {\n\n                                this.editedItem.images.push({\n                                    image_path: 'a'\n                                });\n                            }\n\n                        }\n\n                        for (i = 0; i < 4; i++) {\n                            if (this.editedItem.images[i].image_path != 'a') {\n                                this.images[i] = \"http://109.224.53.155/images/\" + this.editedItem.images[i]\n                                    .image_url;\n                            }\n\n                        }\n                        this.getSubCategory();\n\n\n\n\n                    })\n            },\n\n\n            delete_img(img_id, index) {\n\n\n                this.user_info = this.$cookies.get('admin_info');\n\n                this.token = this.user_info.token;\n                const Swal = require('sweetalert2');\n\n\n\n                Swal.fire({\n                    title: \"     \",\n\n                    icon: \"warning\",\n                    showCancelButton: true,\n                    confirmButtonColor: '#3085d6',\n                    cancelButtonColor: '#d33',\n                    confirmButtonText: 'Yes, delete it!'\n\n                }).then((result) => {\n                    if (result.value) {\n                        this.img_cliced = index;\n\n\n                        this.editedItem.images[index].image_url = 'a';\n                        this.img_name = index;\n                        this.images[index] = 'a';\n\n                        var url = \"/v2/items/delete_image/\" + img_id;\n                        axios({\n                            method: 'post',\n                            url: url,\n                            headers: {\n                                Authorization: 'Bearer ' + this.token\n                            }\n\n                        }).then(response => {\n\n                            response,\n                            this.editedItem.images[index].image_url = 'a';\n                            //not important\n                            this.img_name = index;\n                            this.images[index] = 'a';\n\n                            Swal.fire(\n                                '  ',\n                                '',\n                                'success'\n                            )\n\n                        }).catch(error => {\n                            error\n                            //     this.$swal('', \" \", 'error')\n                        }).finally(d => {\n                            d,\n\n                            this.getitems();\n                        });\n\n\n\n                    }\n                })\n\n\n\n\n            },\n\n\n            cancel() {\n                this.$refs.form.reset(),\n                    this.$emit(\"changeStatus\", false);\n            },\n\n            editt() {\n                // alert(this.item_id);\n                this.$emit(\"edite_item\");\n\n            },\n\n            step1() {\n                this.e1 = 1;\n                this.Check_Primery();\n\n\n            },\n\n            step2() {\n\n                this.e1 = 2;\n                this.Check_Primery();\n                // this.Check_payment();\n                // this.Check_address();\n\n\n            },\n\n          \n            step3() {\n                this.e1 = 3;\n                this.Check_Primery();\n                this.Check_address();\n                //  this.Check_date();\n                // this.Check_payment();\n\n\n            },\n           \n\n          \n\n\n\n\n\n\n         \n\n\n            Check_Primery() {\n\n\n\n\n                this.errors_primery = [];\n\n                if (!this.editedItem.item_name || !this.editedItem.sub_category.category_id || !this.editedItem\n                    .sub_category\n                    .id || !this.editedItem.item_description) {\n\n\n                    this.errors_primery.push(\"  \");\n                }\n\n\n                if (this.errors_primery.length) {\n                    this.er1 = false;\n                } else {\n                    this.er1 = true;\n                }\n\n\n            },\n\n\n\n            Check_address() {\n\n                this.errors_address = [];\n                if (!this.editedItem.Address.province.country_id || !this.editedItem.Address.province.id || !this\n                    .editedItem.Address.address_descraption) {\n                    this.errors_address.push(\"  \");\n                }\n                if (this.errors_address.length) {\n                    this.er_address = false;\n                } else {\n                    this.er_address = true;\n                }\n            },\n\n\n            Check_payment() {\n\n                this.errors_payment = [];\n\n\n                if (!this.$refs.valid_payment.validate()) {\n                    this.errors_payment.push(\"  \");\n                }\n\n                //                 if (!this.editedItem.price.price_value ) {\n\n                //   if (this.editedItem.price.payment_when_receiving !==1 || this.editedItem.price.payment_when_receiving !==0 ) {\n\n\n                //                     this.errors_payment.push(\"   \");\n                //                 }\n\n                //                     this.errors_payment.push(\"  \");\n                //                 }\n\n                //                 if (this.errors_payment.length) {\n                //                     this.er_payment = false;\n                //                 } else {\n                //                     this.er_payment = true;\n                //                 }\n            },\n\n\n\n\n\n            getlocation(lat, lng) {\n\n                this.editedItem.address.lat = lat;\n                this.editedItem.address.long = lng\n                this.map_dialog = false;\n\n\n            },\n            price_percentage(v) {\n\n                this.offer_info.new_price = this.offer_info.old_price;\n                this.offer_info.new_price = this.offer_info.old_price - (this.offer_info.old_price * (v / 100));\n                this.offer_info.discount_percentage = v;\n\n\n\n            },\n\n\n\n\n\n\n\n            change_timeday() {\n                this.day_to_open.length = 0;\n            },\n            select_reser_type1(id) {\n\n                this.reserv_type_id1 = id;\n            },\n            select_reser_type(id) {\n\n                this.reserv_type_id = id;\n                if (id == 1) {\n                    this.book_dur_status = true;\n                    this.book_num_status = false;\n                } else if (id == 2) {\n                    this.book_dur_status = false;\n                    this.book_num_status = true;\n                } else {\n                    this.book_dur_status = false;\n                    this.book_num_status = false;\n                }\n            },\n\n            allowedHours(v) {\n                v\n\n                return false;\n            },\n\n            comput_maxRequest(id, time_duration, from_tim, to_tim) {\n\n                if (id == 0) {\n                    return 0;\n                } else if (id == 1) {\n                    // this.reservation_duration\n\n                    var from_hour = parseInt(from_tim.split(\":\")[0])\n                    var from_min = parseInt(from_tim.split(\":\")[1])\n\n\n                    var to_hour = parseInt(to_tim.split(\":\")[0])\n                    var to_min = parseInt(to_tim.split(\":\")[1])\n\n                    var from = from_hour * 60 + from_min;\n\n\n                    var to = to_hour * 60 + to_min;\n\n                    var result = to - from;\n\n                    var houer = parseInt(time_duration.split(\":\")[0]);\n                    var minit = parseInt(time_duration.split(\":\")[1]);\n\n                    var dur = houer * 60 + minit;\n\n                    result = result / dur\n\n                    return result\n\n                } else {\n                    return 0\n                }\n\n\n\n\n            },\n            submit() {\n             \n\n          \n           \n                var imag = [];\n                for (var im = 0; im < this.images.length; im++) {\n\n\n                    if (this.images[im] != 'a' && this.images[im] !== this.img_url + \"/images/\" + this.editedItem\n                        .images[im]\n                        .image_url) {\n\n                        imag.push(this.images[im]);\n                    }\n\n\n\n                }\n\n\n\n                if (!this.er1) {\n                    this.step1();\n\n                } \n                \n             \n           \n                else if (!this.er_payment) {\n                    this.step4();\n                }\n\n\n\n                if (this.editedItem.price.free_cancellation) {\n                    this.editedItem.price.free_cancellation = 1;\n                } else {\n                    this.editedItem.price.free_cancellation = 0;\n                }\n\n\n\n\n\n                if (this.DayOpen == 0) {\n                    this.$swal('', \"       \", 'warning')\n                }\n\n\n\n                this.user_info = this.$cookies.get('admin_info');\n\n           \n\n                    var data = {\n\n\n                        item_name: this.editedItem.item_name,\n                        item_description: this.editedItem.item_description,\n                        sub_category_id: this.editedItem.sub_category.id,\n                        category_id: this.editedItem.sub_category.category_id,\n\n                        //Price Data\n                        price: this.editedItem.price,\n\n\n                        //Address Informations\n                        Address:[],\n                        images: imag,\n\n                        work_times:[],\n                        ItemFeatures:[]\n\n\n\n\n\n\n                        // images: imag\n                    };\n\n\n                    this.loading = true;\n                    var posturl = this.item_id != 0 ? \"/v2/items/update/\" + this.item_id : \"/v2/items/store\";\n\n\n\n                    data,\n                    this.$http({\n                            method: 'post',\n                            url: posturl,\n                            data: data,\n                            headers: {\n                                Authorization: 'Bearer '+this.token\n\n                            }\n\n                        })\n                        .then(response => {\n\n                            this.$swal('', this.item_id != 0 ? \"  \" : \"      \", 'success')\n                            this.dialog = false;\n                            EventBus.$emit(\"changeStatus\", false);\n\n                            if (response.data.success == true) {\n\n                                this.dialog = false;\n\n\n                            }\n\n\n\n\n                        })\n                        .catch((error) => {\n                            error,\n                            this.$swal('', this.item_id != 0 ? \"  \" : \"      \", 'success')\n                            this.dialog = false;\n                            EventBus.$emit(\"changeStatus\", false);\n\n                            //  this.err_show = true;\n                            //this.$swal('', this.item_id != 0 ? \"        \" : \"  \",\n                            //   'error')\n\n                        }).finally(d => {\n                            d,\n                            this.loading = false;\n                            this.everyday = false;\n                            this.everytime = false;\n                        });\n                    // } else {\n\n                    //     this.err_show = true;\n\n\n\n\n              //  }\n\n\n\n\n            },\n\n\n\n            getCategory() {\n\n\n                this.$http({\n                        method: 'get',\n                        url: \"/v2/info/Categories\",\n                    })\n\n                    .then(response => {\n                        this.category = response.data.data;\n\n\n\n                    })\n            },\n\n\n            getCountry() {\n\n\n                this.$http({\n                        method: 'get',\n                        url: \"/v2/info/Countries\",\n                    })\n\n                    .then(response => {\n                        this.countries = response.data.data;\n\n\n\n                    })\n            },\n\n\n\n            getSubCategory() {\n\n                if (this.item_ID == 0) {\n                    var cat_id = this.editedItem.sub_category.category_id\n\n\n                } else {\n                    cat_id = this.editedItem.sub_category.category.id;\n\n                }\n\n                var url = \"v2/info/subCategoryCat_id/\" + cat_id;\n                this.$http({\n                    method: 'get',\n                    url: url,\n                }).then(response => {\n                    this.subcategory = response.data.data;\n\n\n\n                })\n            },\n            getProvince() {\n\n\n                this.$http({\n                        method: 'get',\n                        url: '/v2/info/Provinces',\n                    })\n\n                    .then(response => {\n                        this.province = response.data.data;\n\n\n\n                    })\n            },\n\n\n\n\n\n\n\n\n\n            pickFile(index) {\n\n                this.img_cliced = index\n                this.$refs.image.click()\n            },\n\n            onFilePicked(e) {\n\n                const files = e.target.files\n                if (files[0] !== undefined) {\n                    this.imageName = files[0].name\n                    if (this.imageName.lastIndexOf('.') <= 0) {\n                        return\n                    }\n                    const fr = new FileReader()\n                    fr.readAsDataURL(files[0])\n                    fr.addEventListener('load', () => {\n                        this.imageUrl = fr.result\n                        this.imageFile = files[0]\n\n                        this.images[this.img_cliced] = fr.result;\n                        var a = this.img_cliced + 1;\n                        this.img_name = \"     \" + a\n\n\n                    })\n\n                } else {\n                    this.imageName = ''\n                    this.imageFile = ''\n                    this.imageUrl = ''\n                }\n            },\n\n            change_payment(status) {\n                if (status == true) {\n                    this.editedItem.price.free_cancellation = false;\n                    this.editedItem.price.deduction = 0;\n                }\n\n\n\n\n\n            },\n            change_reservation_type() {\n\n                console.log(this.editeDayOpen.reservation_type);\n                // alert(this.editeDayOpen.reservation_type.id);\n                if (this.editeDayOpen.reservation_type.id == 2) {\n                    this.reservation_num = true;\n                } else {\n                    this.reservation_num = false;\n\n                }\n\n            },\n\n\n\n\n\n\n            save() {\n                if (this.editedIndex > -1) {\n                    Object.assign(this.editedItem.day_to_open[this.editedIndex], this.editedItem)\n                } else {\n                    this.editedItem.day_to_open.push(this.editedItem)\n                }\n                this.close()\n            },\n\n\n        },\n\n        watch: {\n            selected: 'dd',\n            steps(val) {\n\n                if (this.e1 > val) {\n                    this.e1 = val\n                }\n            },\n\n\n\n        },\n        computed: {\n\n\n        },\n\n\n\n\n        created() {\n\n\n\n        },\n\n\n        mounted() {\n             this.getCategory();\n            this.getProvince();\n\n            // this.token = localStorage.getItem('access_token');\n            // this.user_info = JSON.parse(localStorage.getItem('user_info'));\n\n         //   this.user_info = this.$cookies.get('admin_info');\n\n            this.token = this.$cookies.get('user_info').token;\n            this.item_id = this.item_ID;\n\n           \n            this.item_id != 0 ? this.getItemDetails() : this.day_to_open.length = 0;\n        },\n\n        components: {\n\n           \n\n        }\n\n    }\n</script>"]}]}